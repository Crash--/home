{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/KonnectorInstall.jsx","webpack:///./src/assets/sprites/icon-refund.svg","webpack:///./src/lib/redux-cozy-client/DataAccessFacade.js","webpack:///./src/assets/sprites/icon-family.svg","webpack:///./src/styles/index.styl?d2a0","webpack:///./src/ducks/apps/index.js","webpack:///./src/lib/accounts.js","webpack:///./src/components/Services.jsx","webpack:///zlib (ignored)","webpack:///./src/assets/sprites/icon-travelDate.svg","webpack:///./src/assets/sprites/icon-certificate.svg","webpack:///./src/assets/sprites/icon-bankTransactions.svg","webpack:///./src/components/Failure.jsx","webpack:///./src/lib/redux-cozy-client/adapters/CozyStackAdapter.js","webpack:///./src/assets/sprites/icon-files-pen.svg","webpack:///fs (ignored)","webpack:///./src/assets/sprites/icon-arrow-left.svg","webpack:///./src/assets/sprites/icon-sync.svg","webpack:///./src/ducks/accounts/index.js","webpack:///http (ignored)","webpack:///./src/components/ReactMarkdownWrapper.jsx","webpack:///./src/styles/konnectorSuccess.styl?c28a","webpack:///./src/ducks/connections/index.js","webpack:///./src/assets/sprites/icon-bloodPressure.svg","webpack:///https (ignored)","webpack:///./src/components/KonnectorSuccess.jsx","webpack:///./src/assets/sprites/icon-profile.svg","webpack:///./src/components/AccountPicker.jsx","webpack:///./src/assets/sprites/icon-bill.svg","webpack:///./src/lib/konnectors.js","webpack:///./src/components/TriggerFolderLink.jsx","webpack:///./src/styles/konnectorMaintenance.styl?cf2e","webpack:///./src/components/AddServiceTile.jsx","webpack:///./src/lib/redux-cozy-client/authentication/mobile.js","webpack:///./src/assets/sprites/icon-warning.svg","webpack:///./src/lib/redux-cozy-client/CozyProvider.jsx","webpack:///./src/lib/realtime.js","webpack:///./src/components/DescriptionContent.jsx","webpack:///./src/assets/sprites/icon-call-log.svg","webpack:///./src/styles/accountPicker.styl?8fc6","webpack:///./src/assets/sprites/icon-tweet.svg","webpack:///./src/components/KonnectorTile.jsx","webpack:///./src/ducks/connections/components/queue/styles.styl?ba5c","webpack:///./src/styles/accountConnectionData.styl?6444","webpack:///./src/lib/redux-cozy-client/reducer.js","webpack:///./src/lib/redux-cozy-client/helpers.js","webpack:///./src/assets/sprites/icon-appointment.svg","webpack:///./src/assets/images/connected-accounts.svg","webpack:///./src/components/Banners/ErrorMessage.jsx","webpack:///./src/components/DataItem.jsx","webpack:///./src/assets/sprites/icon-pin-active.svg","webpack:///./src/lib/tutorial.js","webpack:///./src/components/AppTile.jsx","webpack:///./src/assets/sprites/icon-new.svg","webpack:///./src/assets/sprites/icon-picture.svg","webpack:///./src/styles/konnectorInstall.styl?0e9f","webpack:///./src/locales sync \\/(en|fr|es)","webpack:///./src/assets/sprites/icon-contact.svg","webpack:///./src/assets/sprites/icon-sleepTime.svg","webpack:///./src/components/AccountLogout.jsx","webpack:///./src/assets/sprites/icon-stepsNumber.svg","webpack:///./src/lib/CollectStore.js","webpack:///./src/targets/browser/index.jsx","webpack:///./src/components/KonnectorMaintenance.jsx","webpack:///./src/styles/accountLogout.styl?7181","webpack:///./src/styles/konnectorEdit.styl?40dc","webpack:///./src/styles/descriptionContent.styl?acfa","webpack:///./src/assets/sprites/icon-check.svg","webpack:///./src/styles/placeholder.styl?e745","webpack:///./src/assets/sprites/icon-temperature.svg","webpack:///./src/styles/triggerFolderLink.styl?9ba5","webpack:///./src/assets/sprites/icon-event.svg","webpack:///./src/lib/redux-cozy-client/CozyClient.js","webpack:///./src/assets/sprites/icon-forbidden.svg","webpack:///./src/assets/sprites/icon-contract.svg","webpack:///./src/styles/dataItem.styl?174a","webpack:///./src/assets/sprites/icon-courseMaterial.svg","webpack:///./src/containers/ConnectionManagement.jsx","webpack:///./src/assets/sprites/icon-pin.svg","webpack:///./src/assets/sprites/icon-home.svg","webpack:///./src/assets/sprites/icon-bankAccounts.svg","webpack:///./src/components/AccountConnectionData.jsx","webpack:///./src/components/Home.jsx","webpack:///./src/lib/middlewares/konnectorsI18n.js","webpack:///./src/assets/sprites/icon-document.svg","webpack:///./src/assets/sprites/icon-geolocation.svg","webpack:///./src/components/AccountPickerItem.jsx","webpack:///./src/lib/triggers.js","webpack:///./src/assets/icons/icon-plus-add-service.svg","webpack:///./src/lib/redux-cozy-client/connect.jsx","webpack:///./src/components/ScrollToTopOnMount.jsx","webpack:///./src/assets/sprites/icon-graduated.svg","webpack:///./src/styles/connectionManagement.styl?089f","webpack:///./src/assets/sprites/icon-dashboard.svg","webpack:///./src/components/Banners/UpdateMessage.jsx","webpack:///./src/containers/App.jsx","webpack:///./src/assets/sprites/icon-movies.svg","webpack:///./src/assets/sprites/icon-sinister.svg","webpack:///./src/store/configureStore.js","webpack:///./src/reducers/index.js","webpack:///./src/components/IntentRedirect.jsx","webpack:///./src/lib/helpers.js","webpack:///./src/assets/sprites/icon-fallback.svg","webpack:///./src/assets/sprites/icon-activity.svg","webpack:///./src/assets/sprites/icon-consumption.svg","webpack:///./src/components/KonnectorHeaderIcon.jsx","webpack:///./src/assets/sprites/icon-waves.svg","webpack:///./src/components/LoadingPlaceholder.jsx","webpack:///./src/styles/konnectorHeaderIcon.styl?b2ca","webpack:///./src/styles/accountConnection.styl?d524","webpack:///./src/assets/sprites/icon-videostream.svg","webpack:///./node_modules/moment/locale sync \\/(en|fr|es)","webpack:///./src/assets/sprites/icon-weight.svg","webpack:///./src/assets/sprites sync ^\\.\\/icon\\-.*\\.svg$","webpack:///./src/lib/redux-cozy-client/adapters/PouchdbAdapter.js","webpack:///./node_modules/cozy-harvest-lib/dist/locales sync ^\\.\\/.*\\.json$","webpack:///./src/lib/jobs.js","webpack:///./src/assets/sprites/icon-categories.svg","webpack:///./src/assets/sprites/icon-phonecommunicationlog.svg","webpack:///./src/lib/redux-cozy-client/index.js","webpack:///./src/components/KonnectorEdit.jsx","webpack:///./src/components/appEntryPoint.jsx","webpack:///./src/components/StoreRedirection.jsx","webpack:///./src/assets/sprites/icon-categories-active.svg","webpack:///./src/lib/redux-cozy-client/utils.js","webpack:///./src/lib/redux-cozy-client/slices/sharings.js","webpack:///./src/assets/sprites/icon-commit.svg","webpack:///./src/components/helpers/fillWithGhostItems.jsx","webpack:///./src/ducks/triggers/index.js","webpack:///./src/ducks/connections/components/queue/index.jsx","webpack:///./src/components/KonnectorSync.jsx","webpack:///./src/ducks/jobs/index.js","webpack:///./src/lib/redux-cozy-client/slices/synchronization.js","webpack:///./src/assets/sprites/icon-geopoint.svg","webpack:///./src/assets/sprites/icon-podcast.svg","webpack:///./src/assets/icons/broken.svg","webpack:///./src/components/BanksLink.jsx","webpack:///./src/assets/sprites/icon-heartbeat.svg","webpack:///./src/ducks/konnectors/index.js","webpack:///./src/assets/icons/color/default.svg","webpack:///./src/assets/images/connecting-data-in-progress.svg","webpack:///./src/assets/sprites/icon-money.svg","webpack:///./src/lib/redux-cozy-client/middleware.js","webpack:///./src/containers/AccountConnection.jsx","webpack:///./src/assets/sprites/icon-calendar.svg","webpack:///./node_modules/date-fns/locale sync \\/(en|fr|es)","webpack:///./src/lib/PiwikHashRouter.js","webpack:///./src/ducks/connections/components/queue/queue.jsx","webpack:///./src/components/Applications.jsx"],"names":["KonnectorInstall","props","state","trigger","success","handleLoginSuccess","bind","handleSuccess","setState","onLoginSuccess","onSuccess","account","konnector","legacySuccess","onDone","successMessage","successMessages","successButtonLabel","t","message","folder_to_save","styles","name","Component","mapStateToProps","ownProps","getKonnector","cozy","connector","slug","translate","connect","DataAccessFacade","constructor","stackAdapter","CozyStackAdapter","PouchDB","pouchAdapter","PouchdbAdapter","strategy","PouchFirstStrategy","StackOnlyStrategy","setup","cozyUrl","options","config","cozyURL","client","init","offline","registerDoctypes","doctypes","getAdapter","doctype","startSync","dispatch","sync","SYNC_BIDIRECTIONAL","startReplicationTo","SYNC_TO","startReplicationFrom","SYNC_FROM","getDatabase","undefined","RECEIVE_APPS","reducer","action","type","apps","receiveApps","getApp","find","app","ACCOUNTS_DOCTYPE","probableLoginFieldNames","subscribeAll","realtime","Services","installedKonnectors","hasConnections","length","classNames","map","index","fillWithGhostItems","EmptyIcon","sortBy","getInstalledKonnectors","reload","window","location","Failure","errorType","FILES_DOCTYPE","FETCH_LIMIT","SHARED_BY_LINK","SHARED_WITH_ME","SHARED_WITH_OTHERS","fetchApps","skip","data","meta","fetchJSON","processJSONAPI","next","count","fetchDocuments","resp","rows","filter","row","doc","hasOwnProperty","docs","Object","assign","id","_type","total_rows","offset","error","match","queryDocuments","fields","sort","f","queryOptions","limit","wholeResponse","response","files","query","_id","attributes","fetchDocument","normalized","createDocument","created","create","createTrigger","launchTrigger","job","updateDocument","updated","updateAttributes","_rev","deleteDocument","delete","deleteTrigger","createIndex","defineIndex","fetchFileByPath","path","file","statByPath","normalizeFile","err","createFile","dirID","trashFile","trashById","fetchReferencedFiles","included","fetchKonnectors","fetchTriggers","worker","addReferencedFiles","ids","removeReferencedFiles","fetchSharingPermissions","fetchPermissions","sharingType","byMe","byLink","withMe","fetchSharing","createSharing","permissions","contactIds","description","desc","recipients","contactId","recipient","sharing_type","revokeSharing","sharingId","revokeSharingForClient","clientId","createSharingLink","revokeSharingLink","permission","DOCTYPE","accountCollectionKey","fetchAccounts","fetchCollection","getAccount","documents","getIds","keys","reactMarkdownRendererOptions","Link","href","children","ReactMarkdownWrapper","source","ACCOUNT_DOCTYPE","TRIGGERS_DOCTYPE","JOBS_DOCTYPE","ENQUEUE_CONNECTION","LAUNCH_TRIGGER","PURGE_QUEUE","RECEIVE_DATA","RECEIVE_NEW_DOCUMENT","RECEIVE_DELETED_DOCUMENT","UPDATE_CONNECTION_RUNNING_STATUS","UPDATE_CONNECTION_ERROR","START_CONNECTION_CREATION","END_CONNECTION_CREATION","getTriggerKonnectorSlug","isKonnectorTrigger","isKonnectorJob","Error","konnectorReducer","reduce","newState","isTrigger","isJob","konnectorSlug","triggerId","trigger_id","currentStatus","current_state","status","last_error","buildKonnectorError","lastSyncDate","last_execution","queued_at","triggers","hasError","isRunning","includes","isConnected","konnectors","creation","isAccount","combineReducers","triggersReducer","isEnqueued","omit","enqueueConnection","purgeQueue","updateConnectionError","startConnectionCreation","endConnectionCreation","getConnectionsByKonnector","validAccounts","validKonnectors","konnectorIsValid","konnectorHasConnections","values","getFirstError","firstTriggerHavingError","getFirstUserError","firstTriggerHavingUserError","isKonnectorUserError","getLastSyncDate","lastExecutions","dateA","dateB","momentA","moment","utc","momentB","isAfter","isBefore","getTriggerQueueStatus","getQueue","queuedConnections","concat","queuedTriggers","label","getConnectionError","getTriggerState","getCreatedAccount","getTriggerIdByKonnectorAndAccount","getTriggerLastSuccess","lastJob","getTriggerLastJob","lastJobIsSuccess","started_at","last_success","isCreatingConnection","isConnectionConnected","isConnectionEnqueued","isConnectionRunning","SuccessImage","connectingIllu","SuccessLinks","DriveLink","folderId","SuccessFooter","KonnectorSuccess","handleConnectionSuccess","title","messages","relatedApps","predicate","priority","hasLinks","i","successLink","context","footerLink","drive","res","has","event","preventDefault","banks","Array","isArray","data_types","store","banksUrl","contextTypes","PropTypes","object","propTypes","isRequired","string","arrayOf","func","AccountPicker","connections","history","params","push","backIcon","connection","hasPendingUpdate","withRouter","ERROR_TYPES","CHALLENGE_ASKED","LOGIN_FAILED","MAINTENANCE","NOT_EXISTING_DIRECTORY","USER_ACTION_NEEDED","VENDOR_DOWN","DISK_QUOTA_EXCEEDED","UPDATE_NEEDED_ERRORS_TYPES","TERMS_VERSION_MISMATCH","TWO_FA_ERRORS","KONNECTORS_DOCTYPE","patchFolderPermission","saveFolder","encodeURIComponent","addFolderPermission","isKonnectorLoginError","isKonnectorTwoFAError","code","isKonnectorKnownError","isKonnectorUpdateNeededError","split","checkLocale","key","available_version","getMostAccurateErrorKey","getKey","errorSegments","tested","fullKey","join","slice","legacyMessages","terms","getErrorTitle","getLocaleFn","getKonnectorMessage","hasDescriptions","providesMessage","providesLegacyMessage","MaybeLink","className","PureComponent","TriggerFolderLink","driveApp","all","disabled","links","related","mapDispatchToProps","withClient","AddServiceTile","redirecting","toggleRedirect","intents","redirect","console","addServiceIcon","hasCordovaPlugin","cordova","InAppBrowser","REGISTRATION_ABORT","authenticateWithCordova","url","Promise","resolve","reject","target","inAppBrowser","open","removeListener","removeEventListener","onLoadStart","onExit","accessCode","test","close","addEventListener","setTimeout","token","prompt","CozyProvider","domain","secure","bool","shape","subscribe","getState","element","cozySocket","WEBSOCKET_STATE","OPEN","KEEPALIVE","INTERVAL","METHOD_NAME","NUM_RETRIES","RETRY_BASE_DELAY","subscribeWhenReady","socket","readyState","send","JSON","stringify","method","payload","warn","getWebsocketProtocol","protocol","keepAlive","interval","keepAliveInterval","setInterval","clearInterval","connectWebSocket","onmessage","onclose","numRetries","retryDelay","WebSocket","_url","onopen","_token","windowUnloadHandler","onerror","getCozySocket","listeners","onSocketMessage","parse","eventType","toLowerCase","isPingError","realtimeError","errorFields","forEach","property","listener","onSocketClose","wasClean","reason","unsubscribe","l","then","subscription","docListenerCurried","syncedDoc","onCreate","onUpdate","onDelete","parseCurried","createListener","updateListener","deleteListener","DescriptionContent","cssClassesObject","centerTitle","m","getKonnectorError","getErrorClass","accountsCount","hide","hasUpdate","inMaintenance","userError","KonnectorTile","route","hideKonnectorErrors","flag","brokenIcon","getKonnectorTriggersCount","isInMaintenance","APPS_DOCTYPE","FETCH_DOCUMENT","FETCH_COLLECTION","RECEIVE_ERROR","CREATE_DOCUMENT","UPDATE_DOCUMENT","DELETE_DOCUMENT","RECEIVE_APP","RECEIVE_UPDATED_DOCUMENT","FETCH_REFERENCED_FILES","ADD_REFERENCED_FILES","REMOVE_REFERENCED_FILES","objectifyDocumentsArray","dataDoctype","getArrayDoctype","deleted","removeObjectProperty","updateFilesReferences","document","removeFilesReferences","obj","updateFileReference","relationships","referenced_by","newlyReferencedIds","removeFileReferences","rel","removedIds","getDoctype","collectionInitialState","fetchStatus","lastFetch","hasMore","collection","Date","now","indexOf","collections","applyUpdate","updateAction","updateCollections","sharings","synchronization","types","promise","actionOptions","makeActionCreator","makeFetchMoreAction","applySelectorForAction","getCollection","getDocument","FETCH_SHARINGS","getSharingDetails","getSharings","enhancePropsForActions","fetchActions","mapValues","propName","dataObject","fetchMore","mapDocumentsToIds","isCollectionFetched","slugify","text","toString","replace","forceFileDownload","filename","createElement","setAttribute","style","display","body","appendChild","click","removeChild","downloadArchive","notSecureFilename","fileIds","getArchiveLinkByIds","fullpath","downloadFile","downloadById","blob","URL","createObjectURL","ErrorMessage","renderButton","getErrorDescription","isKonnectorRunning","launch","running","link","vendor_link","supportLink","DataItem","dataType","icon","require","default","isTutorial","pathname","endsWith","appsPanel","querySelectorAll","servicesPanel","trackerInstance","getTracker","shouldTrackTutorial","shouldEnableTracking","pageURLsForTracking","tutorial","introJs","setOptions","overlayOpacity","showBullets","hidePrev","hideNext","exitOnEsc","exitOnOverlayClick","disableInteraction","doneLabel","nextLabel","steps","intro","tooltipClass","position","onafterchange","targetElement","stepIndex","_options","trackingURL","doneButton","classList","remove","add","oncomplete","hash","start","clickZone","clickAction","e","tagName","stopPropagation","nextStep","elem","onclick","AppTile","displayName","name_prefix","appHref","onClick","AccountLogout","onError","CONNECTION_STATUS","ERRORED","RUNNING","CONNECTED","normalize","dbObject","CollectStore","categories","initializeRealtime","jobs","updateUnfinishedJob","catch","realtimeAccounts","accounts","onAccountCreated","onAccountUpdated","onAccountDeleted","realtimeTriggers","onTriggerCreated","onTriggerUpdated","normalizedJob","isDeletedAccountHookJob","account_deleted","fetchUrls","item","createIntentService","intent","createService","lang","documentElement","getAttribute","handleOAuthResponse","root","querySelector","dataset","CozyClient","cozyDomain","cozyToken","cozyClient","MostRecentCozyClient","uri","schema","Application","master","bar","appEditor","cozyAppEditor","appName","cozyAppName","iconPath","cozyIconPath","cozyLocale","replaceTitleOnMobile","configureStore","collectConfig","dictRequire","App","render","__DEVELOPMENT__","KonnectorMaintenance","maintenance","konnectorName","SHARINGS_DOCTYPE","indexes","specialDirectories","facade","register","oauth","onRegistered","authorize","isRegistered","clientInfos","auth","getClient","selector","getCollectionIndex","fetchFile","fetchSharings","sharingIds","p","source_id","ensureDirectoryExists","dir","createDirectoryByPath","checkUniquenessOf","value","getUniqueIndex","existingDocs","getIndexFields","arr","ConnectionManagement","endCreation","isCreating","isSuccess","startCreation","gotoParent","handleDeleteSuccess","UNSAFE_componentWillReceiveProps","nextProps","isInvalidKonnectorSlug","isInvalidAccountId","accountId","existingAccount","createdAccount","backRoute","editing","isInstallSuccess","onEnd","Alerter","originPath","resolvedOriginPath","param","a","b","substring","lastIndexOf","mapActionsToProps","getCreatedConnectionAccount","getTriggerByKonnectorAndAccount","getKonnectorsInMaintenance","lastSuccess","cozyConnect","AccountConnectionData","hasDataTypes","serviceMessage","ClassNames","Home","launchTutorial","pushState","displayTutorial","wrapper","extendI18nWithKonnector","langs","locales","hasLangs","providesLang","actualLang","localeKeys","providesLocales","extendI18n","konnectorsI18nMiddleware","HAS_UPDATE","getStatus","AccountPickerItem","accountStatus","accountName","getAccountName","accountLogin","getAccountLogin","nameAndLoginDiffer","statusContent","getStatusContent","fetch","mapDocumentsToProps","WrappedComponent","Wrapper","makeMapStateToProps","initialState","initialOwnProps","initialProps","isAction","filterValues","prop","otherProps","reduxConnect","ScrollToTopOnMount","scrollTo","UpdateMessage","isRedirecting","redirectToStore","step","isBlocking","IDLE","FETCHING_CONTEXT","fetchContext","features","enableFlags","isFetching","isFetchingContext","isReady","div","contentWrapper","IntentRedirect","StoreRedirection","appEntryPoint","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE","compose","reduxStore","createStore","getReducers","applyMiddleware","apply","cozyMiddleware","thunkMiddleware","createLogger","fromKonnectors","fromConnections","fromAccounts","getConnectionsQueue","fromTriggers","queryString","search","accumulator","keyValue","splitted","redirectRoute","fieldName","KonnectorHeaderIcon","center","LoadingPlaceholder","REPLICATION_INTERVAL","plugin","pouchdbFind","instances","getReplicationBaseUrl","credentials","basic","toBasicAuth","getSeqNumber","info","result","update_seq","direction","baseUrl","seqNumber","startDoctypeSync","syncDoctype","replicationUrl","db","syncHandler","replicate","to","from","on","syncDoctypeOk","scheduleNextSync","refreshToken","newToken","saveCredentials","syncDoctypeError","allDocs","include_docs","k","get","revs_info","post","rev","safeDoc","put","decode","KonnectorEdit","onDeleteError","onDeleteSuccess","submitting","warningIcon","warningSvg","hasLoginError","hasErrorExceptLogin","longTerm","frequency","fetchKonnectorJobs","selectData","category","transform","RECEIVE_SHARINGS_DATA","RECEIVE_FETCH_SHARINGS_ERROR","CREATE_SHARING","RECEIVE_NEW_SHARING","CREATE_SHARING_LINK","RECEIVE_NEW_SHARING_LINK","REVOKE_SHARING_LINK","RECEIVE_SHARING_LINK_REVOKE","REVOKE_SHARING","RECEIVE_SHARING_REVOKE","removeRecipient","recipientId","idx","findIndex","r","s","sharing_id","sharing","loneRecipient","revoked","doctypePermsetInitialState","rule0","share","sharingDesc","recipientIds","createContact","c","trackSharingByEmail","unshare","getSharingForRecipient","Client","client_id","leave","getDocumentActiveSharings","owner","shareByLink","trackSharingByLink","revokeLink","perm","getSharingLinkPermission","getPermissionsFor","fetchContacts","contact","email","address","primary","publicLink","verbs","isFile","getSharing","getContact","getDoctypePermissions","getSharingLink","buildSharingLink","codes","perms","getSharingStatus","shared","some","sharingLink","sharer","readOnly","getSharingRecipients","sharecode","origin","track","tracker","num","elements","triggersCollectionKey","fromCozyClient","getKonnectorTriggers","existingAccountIds","getTrigger","queue","visible","Queue","getDateLabel","date","DateFns","months","dows","humanCron","cronSpec","minute","hour","month","dayOfWeek","timePart","monthPart","dowPart","KonnectorSync","lastSuccessDate","lastSyncMessage","arguments","lastestJob","currentJob","isJobRunning","START_SYNC","START_DOCTYPE_SYNC","SYNC_DOCTYPE_OK","SYNC_DOCTYPE_ERROR","doctypeSyncInitialState","syncStatus","lastSync","doctypeSync","infos","isFirstSync","seqNumbers","every","number","isSynced","timestamps","ts","BanksLink","top","konnectorsCollectionKey","fetchKonnectorsInMaintenance","receiveInstalledKonnector","getIndexedKonnectors","indexed","getSlugs","rest","REQUEST","SUCCESS","FAILURE","log","AccountConnection","handleError","prevProps","queued","connectionError","succeed","loginSucceed","accountHasJustBeenCreated","additionnalSuccessMessage","oAuthError","buildSuccessMessages","konnectorError","propagateError","addPiwik","connectToHistory","PiwikHashRouter","HashRouter","Pending","ProgressBar","progress","elapsedTime","progressInterval","Math","atan","PI","width","progressBar","Item","isOngoing","statusIcon","palette","collapsed","doneCount","successCount","toggleCollapsed","done","total","LoadingAppTiles","tiles","Applications","homeConfig","filteredApps"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kDAA0C;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEO,IAAMA,gBAAb;AAAA;AAAA;AAAA;;AACE,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,aAAO,EAAE,IADE;AAEXC,aAAO,EAAE;AAFE,KAAb;AAIA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwB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f;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEO,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AACtC,SAAO;AAAM,aAAS,EAAEx1B,yDAAM,CAAC,yBAAD;AAAvB,IAAP;AACD,CAFM;AAIQw1B,iFAAf,E;;;;;;;ACRA;AACA,kBAAkB,6T;;;;;;;ACDlB;AACA,kBAAkB,0D;;;;;;;;ACDlB;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;ACTf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAA;AAA4D;AACQ;AACpE,iBAAiB,uEAAY;AAC7B;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa,qFAAM;AACJ,qE;;;;;;;ACTf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;;;;;;;;;;;ACxEA;AACA;AAMA,MAAMC,oBAAoB,GAAG,KAA7B;AACO,MAAMrzB,kBAAkB,GAAG,oBAA3B;AACA,MAAME,OAAO,GAAG,SAAhB;AACA,MAAME,SAAS,GAAG,W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","file":"app/home.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \"/home.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// The chunk loading function for additional chunks\n \t// Since all referenced chunks are already included\n \t// in this file, this function is empty here.\n \t__webpack_require__.e = function requireEnsure() {\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { TriggerManager } from 'cozy-harvest-lib'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport KonnectorSuccess from 'components/KonnectorSuccess'\nimport { getKonnector } from 'ducks/konnectors'\nimport styles from 'styles/konnectorInstall'\n\nexport class KonnectorInstall extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      trigger: null,\n      success: false\n    }\n    this.handleLoginSuccess = this.handleLoginSuccess.bind(this)\n    this.handleSuccess = this.handleSuccess.bind(this)\n  }\n\n  handleLoginSuccess(trigger) {\n    this.setState({\n      trigger,\n      success: true\n    })\n\n    this.props.onLoginSuccess(trigger)\n  }\n\n  handleSuccess(trigger) {\n    this.setState({\n      trigger,\n      success: true\n    })\n\n    this.props.onSuccess(trigger)\n  }\n\n  render() {\n    const {\n      account,\n      konnector,\n      legacySuccess,\n      onDone,\n      successMessage,\n      successMessages,\n      successButtonLabel,\n      t\n    } = this.props\n\n    const { trigger, success } = this.state\n\n    if (success || legacySuccess) {\n      return (\n        <KonnectorSuccess\n          account={account}\n          connector={konnector}\n          folderId={trigger && trigger.message.folder_to_save}\n          onDone={onDone}\n          title={successMessage}\n          trigger={trigger}\n          messages={successMessages}\n          successButtonLabel={successButtonLabel}\n        />\n      )\n    }\n\n    return (\n      <div className={styles['col-account-connection-content']}>\n        <div className={styles['col-account-connection-form']}>\n          <h4 className=\"u-ta-center\">\n            {t('account.config.title', { name: konnector.name })}\n          </h4>\n          <TriggerManager\n            account={account}\n            konnector={konnector}\n            onLoginSuccess={this.handleLoginSuccess}\n            onSuccess={this.handleSuccess}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  konnector: getKonnector(state.cozy, ownProps.connector.slug)\n})\n\nexport default translate()(connect(mapStateToProps)(KonnectorInstall))\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-refund_f34b0da2dd256e4bb78d5bb3f44c31c8\",\n  \"use\": \"icon-refund_f34b0da2dd256e4bb78d5bb3f44c31c8-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-refund_f34b0da2dd256e4bb78d5bb3f44c31c8\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FF9126\\\" d=\\\"M9.001 27.002h-8a1 1 0 0 0-1 1v15c0 .55.448 1 1 1h8c.55 0 1-.45 1-1v-15c0-.552-.45-1-1-1\\\" /><path fill=\\\"#FFE2A1\\\" d=\\\"M47.708 35.293c-2.348-2.346-4.374-3-7.024-2.24l-6.016 1.996c.054.314.082.632.082.952 0 1.28-.416 2.486-1.168 3.39-.878 1.052-2.116 1.61-3.582 1.61H20a1 1 0 0 1 0-2h10c.864 0 1.552-.3 2.044-.89.45-.538.706-1.306.706-2.11 0-1.114-.58-3-2.75-3h-6a.998.998 0 0 1-.706-.292c-.918-.918-3.708-3.708-8.294-3.708h-3a1 1 0 0 0-1 1v11c0 .43.276.814.684.948a274.217 274.217 0 0 1 7.522 2.642c3.856 1.402 6.014 2.16 7.938 2.16 2.294 0 4.256-1.078 8.354-3.418 2.712-1.552 6.424-3.674 11.95-6.436.288-.146.488-.418.54-.736.05-.316-.054-.64-.28-.868\\\" /><path fill=\\\"#FF9126\\\" d=\\\"M34.001 15.002c-3.86 0-7-3.14-7-7 0-3.862 3.14-7 7-7s7 3.138 7 7c0 3.86-3.14 7-7 7zm-9 14c-3.86 0-7-3.14-7-7 0-3.862 3.14-7 7-7s7 3.138 7 7c0 3.86-3.14 7-7 7z\\\" /><path fill=\\\"#FFE2A1\\\" d=\\\"M33.001 6.002a1 1 0 0 1 2 0v4c0 .55-.45 1-1 1-.552 0-1-.45-1-1v-4zm-9 14a1 1 0 0 1 2 0v4c0 .55-.45 1-1 1-.552 0-1-.45-1-1v-4z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy, PouchDB */\nimport CozyStackAdapter from './adapters/CozyStackAdapter'\nimport PouchdbAdapter, {\n  SYNC_BIDIRECTIONAL,\n  SYNC_TO,\n  SYNC_FROM\n} from './adapters/PouchdbAdapter'\n\n// const isOnline = () =>\n//   typeof navigator !== 'undefined' ? navigator.onLine : true\n\nexport default class DataAccessFacade {\n  constructor() {\n    this.stackAdapter = new CozyStackAdapter()\n    if (typeof PouchDB !== 'undefined') {\n      this.pouchAdapter = new PouchdbAdapter()\n      // TODO: strategy injection\n      this.strategy = new PouchFirstStrategy()\n    } else {\n      this.strategy = new StackOnlyStrategy()\n    }\n  }\n\n  setup(cozyUrl, options) {\n    const config = { cozyURL: cozyUrl, ...options }\n    cozy.client.init(config) // TODO: For now we let cozy-client-js creates PouchDB instances\n    this.stackAdapter.init(config)\n    if (config.offline) {\n      this.pouchAdapter.registerDoctypes(config.offline.doctypes)\n    }\n  }\n\n  getAdapter(doctype) {\n    return this.strategy.getAdapter(\n      doctype,\n      this.stackAdapter,\n      this.pouchAdapter\n    )\n  }\n\n  startSync(dispatch) {\n    return this.pouchAdapter.sync(dispatch, SYNC_BIDIRECTIONAL)\n  }\n\n  startReplicationTo(dispatch) {\n    return this.pouchAdapter.sync(dispatch, SYNC_TO)\n  }\n\n  startReplicationFrom(dispatch) {\n    return this.pouchAdapter.sync(dispatch, SYNC_FROM)\n  }\n}\n\nclass PouchFirstStrategy {\n  getAdapter(doctype, stackAdapter, pouchAdapter) {\n    if (pouchAdapter.getDatabase(doctype) === undefined) {\n      return stackAdapter\n    }\n    return pouchAdapter\n  }\n}\n\nclass StackOnlyStrategy {\n  getAdapter(doctype, stackAdapter) {\n    return stackAdapter\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-family_5da200a6dbf62edf72ec6651555f33c8\",\n  \"use\": \"icon-family_5da200a6dbf62edf72ec6651555f33c8-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-family_5da200a6dbf62edf72ec6651555f33c8\\\"><defs><path id=\\\"icon-family_5da200a6dbf62edf72ec6651555f33c8_a\\\" d=\\\"M46 23c0 12.704-10.298 23-23 23C10.296 46 0 35.704 0 23 0 10.3 10.296 0 23 0c12.702 0 23 10.3 23 23z\\\" /></defs><g transform=\\\"translate(1 1)\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><mask id=\\\"icon-family_5da200a6dbf62edf72ec6651555f33c8_b\\\" fill=\\\"#fff\\\"><use xlink:href=\\\"#icon-family_5da200a6dbf62edf72ec6651555f33c8_a\\\" /></mask><use fill=\\\"#C2F0D1\\\" xlink:href=\\\"#icon-family_5da200a6dbf62edf72ec6651555f33c8_a\\\" /><path fill=\\\"#35CE68\\\" d=\\\"M9 25a6 6 0 0 1 6 6v16H3V31a6 6 0 0 1 6-6zm0-2a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm28 0a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm-14 8a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm14-6a6 6 0 0 1 6 6v16H31V31a6 6 0 0 1 6-6zm-14 8a6 6 0 0 1 6 6v8H17v-8a6 6 0 0 1 6-6z\\\" mask=\\\"url(#icon-family_5da200a6dbf62edf72ec6651555f33c8_b)\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"u-shake\":\"u-shake--R7aZx\",\"shake\":\"shake--ZcmO4\",\"u-o-100\":\"u-o-100--mPHO6\",\"u-o-90\":\"u-o-90--2kd9N\",\"u-o-80\":\"u-o-80--tJtcx\",\"u-o-70\":\"u-o-70--1J1Xb\",\"u-o-60\":\"u-o-60--1PJea\",\"u-o-50\":\"u-o-50--Es7HO\",\"u-o-40\":\"u-o-40--1jR-E\",\"u-o-30\":\"u-o-30--2NXXP\",\"u-o-20\":\"u-o-20--cVH7R\",\"u-o-10\":\"u-o-10--3tZZw\",\"u-o-05\":\"u-o-05--1Rdg-\",\"u-o-025\":\"u-o-025--SAP0E\",\"u-o-0\":\"u-o-0--3WE75\",\"spin\":\"spin--2iFLV\"};","const RECEIVE_APPS = 'RECEIVE_APPS'\n\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_APPS:\n      return action.apps || state\n    default:\n      return state\n  }\n}\n\nexport default reducer\n\n// Action creators\nexport const receiveApps = apps => ({\n  type: RECEIVE_APPS,\n  apps\n})\n\n// Selectors\nexport const getApp = (state = [], slug) => state.find(app => app.slug === slug)\n","/* accounts lib ready to be added to cozy-client-js */\nimport * as realtime from './realtime'\n\nexport const ACCOUNTS_DOCTYPE = 'io.cozy.accounts'\n\n// Order matters\nexport const probableLoginFieldNames = [\n  'login',\n  'identifier',\n  'new_identifier',\n  'email'\n]\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, ACCOUNTS_DOCTYPE)\n}\n","import React, { Component } from 'react'\nimport sortBy from 'lodash/sortBy'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\n\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport EmptyIcon from 'assets/images/connected-accounts.svg'\nimport AddServiceTile from 'components/AddServiceTile'\nimport KonnectorTile from 'components/KonnectorTile'\nimport classNames from 'classnames'\nimport fillWithGhostItems from 'components/helpers/fillWithGhostItems'\nimport { getInstalledKonnectors } from 'reducers/index'\n\nclass Services extends Component {\n  render() {\n    const { t, installedKonnectors } = this.props\n    const hasConnections = !!installedKonnectors.length\n    return (\n      <div\n        className={classNames('services-list-wrapper', {\n          'services-list-wrapper--empty': !hasConnections\n        })}\n      >\n        {hasConnections ? (\n          <div className=\"list connector-list\" data-tutorial=\"home-services\">\n            {installedKonnectors.map((konnector, index) => (\n              <KonnectorTile\n                key={index}\n                konnector={konnector}\n                route={`connected/${konnector.slug}`}\n              />\n            ))}\n            {<AddServiceTile label={t('add_service')} />}\n            {fillWithGhostItems(6)}\n          </div>\n        ) : (\n          <div className=\"connector-list col-empty-list\">\n            <div className=\"col-empty-list--img\">\n              <img\n                src={EmptyIcon}\n                data-tutorial=\"home-services\"\n                alt={t('connector.empty')}\n              />\n            </div>\n            <div className=\"col-empty-list--text\">\n              <h2>{t('connector.no-connectors-connected')}</h2>\n              <p>{t('connector.get-info')}</p>\n              <NavLink to=\"/providers/all\" className=\"col-button\">\n                <span>{t('connector.connect-account')}</span>\n              </NavLink>\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    installedKonnectors: sortBy(\n      getInstalledKonnectors(state),\n      konnector => konnector.name\n    )\n  }\n}\n\nexport default connect(mapStateToProps)(translate()(Services))\n","/* (ignored) */","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-travelDate_49d177af87d880d3d3592ca50e38d60e\",\n  \"use\": \"icon-travelDate_49d177af87d880d3d3592ca50e38d60e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-travelDate_49d177af87d880d3d3592ca50e38d60e\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M39 11v32m-6-32v32M15 11v32M9 11v32\\\" stroke=\\\"currentColor\\\" /><path d=\\\"M47 15c0-3.3-.7-4-4-4H5c-3.3 0-4 .7-4 4v24c0 3.3.7 4 4 4h38c3.3 0 4-.7 4-4V15zm-30-4V7c0-2.2 1.8-4 4-4h6c2.2 0 4 1.8 4 4v4\\\" stroke=\\\"#95999D\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-certificate_5a91ce553d849f048cefe614ca7e3fce\",\n  \"use\": \"icon-certificate_5a91ce553d849f048cefe614ca7e3fce-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-certificate_5a91ce553d849f048cefe614ca7e3fce\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#B2D3FF\\\" d=\\\"M3 2.002C3 .896 3.89 0 4.997 0H22l7 7v22.996A2 2 0 0 1 27.003 32H4.997A1.995 1.995 0 0 1 3 29.998V2.002z\\\" /><path fill=\\\"#197BFF\\\" d=\\\"M21.5 0c-.276 0-.5.23-.5.5V8h7.5c.276 0 .5-.232.5-.5V7l-7-7h-.5zM9 11h14v2H9v-2zm0 4h12v2H9v-2zm0 4h14v2H9v-2zm0 4h10v2H9v-2z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bankTransactions_0d0ca64da8d7e0e8bff594738075cf11\",\n  \"use\": \"icon-bankTransactions_0d0ca64da8d7e0e8bff594738075cf11-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bankTransactions_0d0ca64da8d7e0e8bff594738075cf11\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#C2F0D1\\\" d=\\\"M9 47c-1.105 0-2-.898-2-2.006V3.006C7 1.898 7.89 1 8.991 1H29l12 12v32c0 1.105-.892 2-2 2H9z\\\" /><path fill=\\\"#35CE68\\\" d=\\\"M29 1v9.991A2.01 2.01 0 0 0 31.009 13H41L29 1z\\\" /><path stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M35 41H13V17h22zM13 22h22m-22 6h22m-22 6h22M20 17v24\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\n\nimport Button from 'cozy-ui/react/Button'\nimport Empty from 'cozy-ui/react/Empty'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport EmptyIcon from 'assets/icons/color/default.svg'\n\nconst reload = () => {\n  window.location.reload()\n}\n\nexport const Failure = ({ t, errorType }) => (\n  <Empty title={t(`error.${errorType}`)} icon={EmptyIcon}>\n    <Button label={t('error.button.reload')} onClick={reload} />\n  </Empty>\n)\n\nexport default translate()(Failure)\n","/* global cozy */\nconst FILES_DOCTYPE = 'io.cozy.files'\nconst FETCH_LIMIT = 50\n\nexport const SHARED_BY_LINK = 'sharedByLink'\nexport const SHARED_WITH_ME = 'sharedWithMe'\nexport const SHARED_WITH_OTHERS = 'sharedWithOthers'\n\nexport default class CozyStackAdapter {\n  async fetchApps(skip = 0) {\n    const { data, meta } = await cozy.client.fetchJSON('GET', '/apps/', null, {\n      processJSONAPI: false\n    })\n\n    return {\n      data: data || [],\n      meta: meta,\n      skip,\n      next: !!meta && meta.count > skip + FETCH_LIMIT\n    }\n  }\n\n  async fetchDocuments(doctype) {\n    // WARN: cozy-client-js lacks a cozy.data.findAll method that uses this route\n    try {\n      // WARN: if no document of this doctype exist, this route will return a 404,\n      // so we need to try/catch and return an empty response object in case of a 404\n      const resp = await cozy.client.fetchJSON(\n        'GET',\n        `/data/${doctype}/_all_docs?include_docs=true`\n      )\n      // WARN: the JSON response from the stack is not homogenous with other routes (offset? rows? total_rows?)\n      // see https://github.com/cozy/cozy-stack/blob/master/docs/data-system.md#list-all-the-documents\n      // WARN: looks like this route returns something looking like a couchDB design doc, we need to filter it:\n      const rows = resp.rows.filter(row => !row.doc.hasOwnProperty('views'))\n      // we normalize the data (note that we add _type so that cozy.client.data.listReferencedFiles works...)\n      const docs = rows.map(row =>\n        Object.assign({}, row.doc, { id: row.id, _type: doctype })\n      )\n      // we forge a correct JSONAPI response:\n      return {\n        data: docs,\n        meta: { count: resp.total_rows },\n        skip: resp.offset,\n        next: false\n      }\n    } catch (error) {\n      if (error.message.match(/not_found/)) {\n        return { data: [], meta: { count: 0 }, skip: 0, next: false }\n      }\n      throw error\n    }\n  }\n\n  async queryDocuments(doctype, index, options) {\n    const fields = options.fields\n    const skip = options.skip || 0\n    // Mango wants an array of single-property-objects...\n    const sort = options.sort\n      ? index.fields.map(f => ({ [f]: options.sort[f] || 'desc' }))\n      : undefined\n\n    const queryOptions = {\n      limit: FETCH_LIMIT,\n      wholeResponse: true, // WARN: mandatory to get the full JSONAPI response\n      ...options,\n      // TODO: type and class should not be necessary, it's just a temp fix for a stack bug\n      fields: [...fields, '_id', '_type', 'class'],\n      skip,\n      sort\n    }\n\n    // abstract away the format differences between query replies on the VFS versus the data API\n    let data, meta, next\n    if (doctype === FILES_DOCTYPE) {\n      const response = await cozy.client.files.query(index, queryOptions)\n      data = response.data.map(doc =>\n        Object.assign({ _id: doc.id, _type: doctype }, doc, doc.attributes)\n      )\n      meta = response.meta\n      next = meta.count > skip + FETCH_LIMIT\n    } else {\n      const response = await cozy.client.data.query(index, queryOptions)\n      data = response.docs.map(doc =>\n        Object.assign({ id: doc._id, _type: doctype }, doc)\n      )\n      meta = {}\n      next = response.next\n    }\n\n    // we forge a correct JSONAPI response:\n    return { data, meta, next }\n  }\n\n  async fetchDocument(doctype, id) {\n    const doc = await cozy.client.data.find(doctype, id)\n    // we normalize again...\n    const normalized = { ...doc, id: doc._id, _type: doc._type }\n    return { data: [normalized] }\n  }\n\n  init(config) {\n    this.config = { ...config }\n  }\n\n  async createDocument(doctype, doc) {\n    const created = await cozy.client.data.create(doctype, doc)\n    // we forge a standard response with a 'data' property\n    const normalized = { ...created, id: created._id, _type: doctype }\n    return { data: [normalized] }\n  }\n\n  async createTrigger(doc) {\n    const created = await cozy.client.fetchJSON('POST', '/jobs/triggers', {\n      data: doc\n    })\n    const normalized = { ...created, ...created.attributes, id: created._id }\n    return { data: [normalized] }\n  }\n\n  async launchTrigger(doc) {\n    const job = await cozy.client.fetchJSON(\n      'POST',\n      `/jobs/triggers/${doc._id}/launch`\n    )\n\n    const normalized = { ...job, ...job.attributes, id: job._id }\n    return { data: [normalized] }\n  }\n\n  async updateDocument(doc) {\n    const updated = await cozy.client.data.updateAttributes(\n      doc._type,\n      doc.id,\n      doc\n    )\n    // we forge a standard response with a 'data' property\n    return { data: [{ ...doc, _rev: updated._rev }] }\n  }\n\n  async deleteDocument(doc) {\n    /* const deleted = */ await cozy.client.data.delete(doc._type, doc)\n    // we forge a standard response with a 'data' property\n    return { data: [doc] }\n  }\n\n  async deleteTrigger(doc) {\n    await cozy.client.fetchJSON('DELETE', `/jobs/triggers/${doc._id}`)\n    return { data: [doc] }\n  }\n\n  createIndex(doctype, fields) {\n    return cozy.client.data.defineIndex(doctype, fields)\n  }\n\n  async fetchFileByPath(path) {\n    try {\n      const file = await cozy.client.files.statByPath(path)\n      // we forge a standard response with a 'data' property\n      return { data: [normalizeFile(file)] }\n    } catch (err) {\n      return null\n    }\n  }\n\n  async createFile(file, dirID) {\n    const created = await cozy.client.files.create(file, { dirID })\n    // we forge a standard response with a 'data' property\n    return { data: [normalizeFile(created)] }\n  }\n\n  async trashFile(file) {\n    /* const trashed = */ cozy.client.files.trashById(file.id)\n    // we forge a standard response with a 'data' property\n    return { data: [file] }\n  }\n\n  async fetchReferencedFiles(doc, skip = 0) {\n    // WARN: _type and _id are needed by cozy.client.data.fetchReferencedFiles\n    const normalized = { ...doc, _id: doc.id }\n    // WARN: the stack API is probably not ideal here: referencedFiles are in the 'included' property\n    // (that should be used when fetching an entity AND its relations) and the 'data' property\n    // only contains uplets { id, type }\n    const { included, meta } = await cozy.client.data.fetchReferencedFiles(\n      normalized,\n      {\n        skip,\n        limit: FETCH_LIMIT\n      }\n    )\n    // we forge a standard response with a 'data' property\n    return {\n      data: !included\n        ? []\n        : included.map(file => ({\n            ...file,\n            ...file.attributes,\n            _type: 'io.cozy.files'\n          })),\n      meta,\n      next: meta.count > skip + FETCH_LIMIT,\n      skip\n    }\n  }\n\n  async fetchKonnectors(skip = 0) {\n    const { data, meta } = await cozy.client.fetchJSON(\n      'GET',\n      `/konnectors/`,\n      null,\n      {\n        processJSONAPI: false\n      }\n    )\n\n    return {\n      data: data\n        ? data.map(konnector => ({\n            ...konnector,\n            ...konnector.attributes,\n            _type: 'io.cozy.konnectors'\n          }))\n        : [],\n      meta: meta,\n      skip,\n      next: !!meta && meta.count > skip + FETCH_LIMIT\n    }\n  }\n\n  async fetchTriggers(worker, skip = 0) {\n    const { data, meta } = await cozy.client.fetchJSON(\n      'GET',\n      `/jobs/triggers?Worker=${worker}`,\n      null,\n      {\n        processJSONAPI: false\n      }\n    )\n\n    return {\n      data: data\n        ? data.map(trigger => ({\n            ...trigger,\n            ...trigger.attributes,\n            _type: 'io.cozy.triggers'\n          }))\n        : [],\n      meta: meta,\n      skip,\n      next: !!meta && meta.count > skip + FETCH_LIMIT\n    }\n  }\n\n  async addReferencedFiles(doc, ids) {\n    await cozy.client.data.addReferencedFiles(doc, ids)\n    return ids\n  }\n\n  async removeReferencedFiles(doc, ids) {\n    // WARN: _type and _id are needed by cozy.client.data.removeReferencedFiles\n    const normalized = { ...doc, _id: doc.id }\n    await cozy.client.data.removeReferencedFiles(normalized, ids)\n    return ids\n  }\n\n  async fetchSharingPermissions(doctype) {\n    const fetchPermissions = (doctype, sharingType) =>\n      cozy.client.fetchJSON(\n        'GET',\n        `/permissions/doctype/${doctype}/${sharingType}`\n      )\n\n    const byMe = await fetchPermissions(doctype, SHARED_WITH_OTHERS)\n    const byLink = await fetchPermissions(doctype, SHARED_BY_LINK)\n    const withMe = await fetchPermissions(doctype, SHARED_WITH_ME)\n\n    return { byMe, byLink, withMe }\n  }\n\n  fetchSharing(id) {\n    return cozy.client.fetchJSON('GET', `/sharings/${id}`)\n  }\n\n  createSharing(permissions, contactIds, sharingType, description) {\n    return cozy.client.fetchJSON('POST', '/sharings/', {\n      desc: description,\n      permissions,\n      recipients: contactIds.map(contactId => ({\n        recipient: {\n          id: contactId,\n          type: 'io.cozy.contacts'\n        }\n      })),\n      sharing_type: sharingType\n    })\n  }\n\n  revokeSharing(sharingId) {\n    return cozy.client.fetchJSON('DELETE', `/sharings/${sharingId}`)\n  }\n\n  revokeSharingForClient(sharingId, clientId) {\n    return cozy.client.fetchJSON(\n      'DELETE',\n      `/sharings/${sharingId}/recipient/${clientId}`\n    )\n  }\n\n  createSharingLink(permissions) {\n    return cozy.client.fetchJSON('POST', `/permissions?codes=email`, {\n      data: {\n        type: 'io.cozy.permissions',\n        attributes: {\n          permissions\n        }\n      }\n    })\n  }\n\n  revokeSharingLink(permission) {\n    return cozy.client.fetchJSON('DELETE', `/permissions/${permission._id}`)\n  }\n}\n\nconst normalizeFile = file => ({ ...file, ...file.attributes, id: file._id })\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-files-pen_495d6e327d300d33bef68340e9910ee2\",\n  \"use\": \"icon-files-pen_495d6e327d300d33bef68340e9910ee2-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-files-pen_495d6e327d300d33bef68340e9910ee2\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#A9CBF9\\\" d=\\\"M3.002 43A2.001 2.001 0 0 1 1 41.003V2.997C1 1.894 1.89 1 2.991 1H23l10 10v32H3.002z\\\" /><path fill=\\\"#297EF2\\\" d=\\\"M23 1l10 10h-8c-1.113 0-2-.895-2-2V1zm3.931 45.452c-1.066.305-1.686-.306-1.38-1.38L27 40.005l13.59-13.592a2 2 0 0 1 2.831.007l2.162 2.162c.784.784.784 2.054.008 2.83L32 45.005l-5.069 1.448zM16 38h10v2H16v-2z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* (ignored) */","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-arrow-left_831093f501afb552bbdf239bd269621f\",\n  \"use\": \"icon-arrow-left_831093f501afb552bbdf239bd269621f-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"icon-arrow-left_831093f501afb552bbdf239bd269621f\\\"><path fill=\\\"#95999D\\\" d=\\\"M3.57 13l10.106 9.263a1 1 0 1 1-1.352 1.474L.327 12.74a.997.997 0 0 1 0-1.48L12.324.263a1 1 0 1 1 1.352 1.474L3.57 11H23a1 1 0 1 1 0 2H3.57z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-sync_84421808587b95331517b1bfc6f013ab\",\n  \"use\": \"icon-sync_84421808587b95331517b1bfc6f013ab-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-sync_84421808587b95331517b1bfc6f013ab\\\"><path d=\\\"M16 7.2V3c0-.6-.4-1-1-1-.5 0-.8.3-.9.7C12.6 1 10.4 0 8 0 4.9 0 2 1.8.7 4.6c-.2.5 0 1.1.5 1.3s1.1 0 1.3-.5C3.5 3.4 5.6 2 8 2c1.5 0 3 .6 4 1.5-.3 0-.6.1-.8.3-.4.4-.3 1.1.1 1.4l3 2.5h.1c.1.1.2.1.3.1h.4c.1 0 .2-.1.3-.1h.1c.1-.1.2-.1.2-.2.2 0 .2-.1.3-.3 0 .1 0 0 0 0zM14.8 10.1c-.5-.2-1.1 0-1.3.5-1 2.1-3.1 3.4-5.5 3.4-1.5 0-2.9-.6-4-1.5.3 0 .5-.1.7-.4.4-.4.3-1.1-.1-1.4l-3-2.5h-.1L1.3 8h-.1c-.2 0-.5 0-.7.1H.4c-.1.1-.1.2-.2.3-.1.1-.1.2-.2.3V13c0 .6.4 1 1 1 .5 0 .9-.3 1-.8C3.5 14.9 5.6 16 8 16c3.1 0 5.9-1.8 7.3-4.5.2-.5 0-1.1-.5-1.4z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { fetchCollection } from 'redux-cozy-client'\n\nexport const DOCTYPE = 'io.cozy.accounts'\nconst accountCollectionKey = 'accounts'\n\nexport const fetchAccounts = () =>\n  fetchCollection(accountCollectionKey, DOCTYPE)\n\n// selectors\nexport const getAccount = (state, id) => {\n  if (!state.documents || !state.documents[DOCTYPE]) {\n    return null\n  }\n\n  return state.documents[DOCTYPE][id]\n}\n\nexport const getIds = state =>\n  // state.collection is bugged, it does not update correctly id list on\n  // RECEIVE_DATA\n  // (state.collections &&\n  //   state.collections[accountCollectionKey] &&\n  //   state.collections[accountCollectionKey].ids) ||\n  // []\n  (state.documents &&\n    state.documents[DOCTYPE] &&\n    Object.keys(state.documents[DOCTYPE])) ||\n  []\n","/* (ignored) */","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nexport const reactMarkdownRendererOptions = {\n  // eslint-disable-next-line react/display-name\n  Link: props => (\n    <a href={props.href} rel=\"noopener noreferrer\" target=\"_blank\">\n      {props.children}\n    </a>\n  )\n}\n\nexport const ReactMarkdownWrapper = ({ source }) => (\n  <ReactMarkdown source={source} renderers={reactMarkdownRendererOptions} />\n)\n\nexport default ReactMarkdownWrapper\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coz-form-controls\":\"coz-form-controls--1gEYB\",\"coz-form-controls-success\":\"coz-form-controls-success--1NQyf\",\"coz-btn\":\"coz-btn--233oo\",\"col-btn--regular\":\"col-btn--regular--2N744\",\"col-account-form-success-buttons\":\"col-account-form-success-buttons--1J36i\",\"account-form-login\":\"account-form-login--_w3tO\",\"col-account-form-advanced-button\":\"col-account-form-advanced-button--niE6T\",\"account-form-fieldset\":\"account-form-fieldset--3WD-X\",\"col-account-success\":\"col-account-success--1NEI1\",\"col-account-success-links\":\"col-account-success-links--15Ii5\",\"col-account-success-link\":\"col-account-success-link--18QVL\",\"col-account-success-illu\":\"col-account-success-illu--RvZfy\"};","import { combineReducers } from 'redux'\nimport moment from 'moment'\nimport omit from 'lodash/omit'\n\nimport { buildKonnectorError, isKonnectorUserError } from 'lib/konnectors'\n\nimport { getTriggerLastJob } from 'ducks/jobs'\n\n// constant\nconst ACCOUNT_DOCTYPE = 'io.cozy.accounts'\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\nconst JOBS_DOCTYPE = 'io.cozy.jobs'\n\nexport const ENQUEUE_CONNECTION = 'ENQUEUE_CONNECTION'\nexport const LAUNCH_TRIGGER = 'LAUNCH_TRIGGER'\nexport const PURGE_QUEUE = 'PURGE_QUEUE'\nexport const RECEIVE_DATA = 'RECEIVE_DATA'\nexport const RECEIVE_NEW_DOCUMENT = 'RECEIVE_NEW_DOCUMENT'\nexport const RECEIVE_DELETED_DOCUMENT = 'RECEIVE_DELETED_DOCUMENT'\nexport const UPDATE_CONNECTION_RUNNING_STATUS =\n  'UPDATE_CONNECTION_RUNNING_STATUS'\nexport const UPDATE_CONNECTION_ERROR = 'UPDATE_CONNECTION_ERROR'\nexport const START_CONNECTION_CREATION = 'START_CONNECTION_CREATION'\nexport const END_CONNECTION_CREATION = 'END_CONNECTION_CREATION'\n\n// Helpers\nconst getTriggerKonnectorSlug = trigger =>\n  (trigger && trigger.message && trigger.message.konnector) || null\n\nconst isKonnectorTrigger = doc =>\n  doc._type === TRIGGERS_DOCTYPE && !!doc.message && !!doc.message.konnector\n\nconst isKonnectorJob = doc =>\n  doc._type === JOBS_DOCTYPE && doc.worker === 'konnector'\n\n// reducers\nconst reducer = (state = {}, action) => {\n  switch (action.type) {\n    case ENQUEUE_CONNECTION:\n    case UPDATE_CONNECTION_ERROR:\n    case UPDATE_CONNECTION_RUNNING_STATUS:\n    case LAUNCH_TRIGGER:\n      // Trigger is launched, connection should be running.\n      if (!action.trigger || !action.trigger._id)\n        throw new Error('Missing trigger id')\n      if (!action.trigger.message || !action.trigger.message.konnector)\n        throw new Error('Malformed trigger message')\n      return {\n        ...state,\n        [getTriggerKonnectorSlug(action.trigger)]: konnectorReducer(\n          state[getTriggerKonnectorSlug(action.trigger)],\n          action\n        )\n      }\n\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n      if (\n        !action.response ||\n        !action.response.data ||\n        !action.response.data.length\n      ) {\n        return state\n      }\n\n      return action.response.data.reduce((newState, doc) => {\n        const isTrigger = isKonnectorTrigger(doc)\n        const isJob = isKonnectorJob(doc)\n        // Ignore non triggers or non jobs\n        if (!isTrigger && !isJob) return newState\n        const konnectorSlug = doc.message.konnector\n        const triggerId = (isTrigger && doc._id) || (isJob && doc.trigger_id)\n        if (!triggerId) return newState\n\n        const account = isTrigger && !!doc.message && doc.message.account\n\n        const currentStatus =\n          (isTrigger && (doc.current_state && doc.current_state.status)) ||\n          (isJob && doc.state)\n\n        const error =\n          (isTrigger &&\n            !!doc.current_state &&\n            doc.current_state.status !== 'done' &&\n            !!doc.current_state.last_error &&\n            buildKonnectorError(doc.current_state.last_error)) ||\n          (isJob && !!doc.error && buildKonnectorError(doc.error)) ||\n          null\n\n        const lastSyncDate =\n          (isTrigger &&\n            !!doc.current_state &&\n            doc.current_state.last_execution) ||\n          (isJob && doc.queued_at)\n\n        return {\n          ...newState,\n          [konnectorSlug]: {\n            triggers: {\n              ...((newState[konnectorSlug] &&\n                newState[konnectorSlug].triggers) ||\n                {}),\n              [triggerId]: {\n                ...((newState[konnectorSlug] &&\n                  newState[konnectorSlug].triggers &&\n                  newState[konnectorSlug].triggers[triggerId]) ||\n                  {}),\n                account:\n                  account ||\n                  (newState[konnectorSlug] &&\n                    newState[konnectorSlug].triggers &&\n                    newState[konnectorSlug].triggers[triggerId] &&\n                    newState[konnectorSlug].triggers[triggerId].account),\n                error,\n                hasError: !!error || currentStatus === 'errored',\n                isRunning: ['queued', 'running'].includes(currentStatus),\n                isConnected: !error && currentStatus === 'done',\n                lastSyncDate: lastSyncDate\n              }\n            }\n          }\n        }\n      }, state)\n\n    case PURGE_QUEUE:\n    case RECEIVE_DELETED_DOCUMENT:\n      return Object.keys(state).reduce((konnectors, slug) => {\n        return {\n          ...konnectors,\n          [slug]: konnectorReducer(state[slug], action)\n        }\n      }, state)\n\n    default:\n      return state\n  }\n}\n\nconst creation = (state = null, action) => {\n  switch (action.type) {\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT: {\n      if (!state) return null\n      if (\n        !action.response ||\n        !action.response.data ||\n        action.response.data.length !== 1\n      ) {\n        return state\n      }\n\n      const doc = action.response.data[0]\n      const isAccount = doc._type === ACCOUNT_DOCTYPE\n\n      if (isAccount)\n        return {\n          ...state,\n          account: doc._id\n        }\n\n      const isTrigger = isKonnectorTrigger(doc)\n      if (isTrigger)\n        return {\n          ...state,\n          trigger: doc._id\n        }\n\n      return state\n    }\n    case START_CONNECTION_CREATION:\n      // Store all data related to the creation of a new connection in then\n      // property `creation`\n      // While a new connection is being configured, new trigger and account\n      // are store here\n      return {}\n    case END_CONNECTION_CREATION:\n      return null\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  creation,\n  konnectors: reducer\n})\n\n// sub(?) reducers\nconst konnectorReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ENQUEUE_CONNECTION:\n    case LAUNCH_TRIGGER:\n    case RECEIVE_DATA:\n    case RECEIVE_NEW_DOCUMENT:\n    case RECEIVE_DELETED_DOCUMENT:\n    case PURGE_QUEUE:\n      // We assume that document being a trigger has already been validated.\n      return {\n        ...state,\n        triggers: triggersReducer(state.triggers, action)\n      }\n    default:\n      return state\n  }\n}\n\nconst triggersReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ENQUEUE_CONNECTION:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          isEnqueued: true\n        }\n      }\n    case LAUNCH_TRIGGER:\n      return {\n        ...state,\n        [action.trigger._id]: {\n          ...state[action.trigger._id],\n          account: action.trigger.message.account,\n          isRunning: true\n        }\n      }\n    case PURGE_QUEUE:\n      return state\n        ? Object.keys(state).reduce((newState, triggerId) => {\n            return {\n              ...newState,\n              [triggerId]: {\n                ...newState[triggerId],\n                isEnqueued: false\n              }\n            }\n          }, state)\n        : state\n    case RECEIVE_DELETED_DOCUMENT: {\n      const { data } = action.response\n      const { _id, _type } = data[0]\n      if (_type === TRIGGERS_DOCTYPE) {\n        return omit(state, _id)\n      } else return state\n    }\n    default:\n      return state\n  }\n}\n\n// action creators sync\nexport const enqueueConnection = trigger => ({\n  type: ENQUEUE_CONNECTION,\n  trigger\n})\n\nexport const purgeQueue = () => ({\n  type: PURGE_QUEUE\n})\n\nexport const updateConnectionError = (konnector, account, error) => ({\n  type: UPDATE_CONNECTION_ERROR,\n  konnector,\n  account,\n  error\n})\n\nexport const startConnectionCreation = konnector => ({\n  type: START_CONNECTION_CREATION,\n  konnector\n})\n\nexport const endConnectionCreation = () => ({\n  type: END_CONNECTION_CREATION\n})\n\n// selectors\nexport const getConnectionsByKonnector = (\n  state,\n  konnectorSlug,\n  validAccounts = [],\n  validKonnectors = []\n) => {\n  const konnectorIsValid =\n    !validKonnectors.length || validKonnectors.includes(konnectorSlug)\n  const konnectorHasConnections =\n    state.konnectors[konnectorSlug] &&\n    Object.keys(state.konnectors[konnectorSlug].triggers).length\n  if (!konnectorIsValid || !konnectorHasConnections) return []\n\n  return Object.values(state.konnectors[konnectorSlug].triggers).filter(\n    trigger => validAccounts.includes(trigger.account)\n  )\n}\n\nexport const getFirstError = (state, konnectorSlug) => {\n  const firstTriggerHavingError =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers).find(\n      trigger => !!trigger.error\n    )\n  return !!firstTriggerHavingError && firstTriggerHavingError.error\n}\n\nexport const getFirstUserError = (state, konnectorSlug) => {\n  const firstTriggerHavingUserError =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers).find(trigger =>\n      isKonnectorUserError(trigger.error)\n    )\n  return firstTriggerHavingUserError && firstTriggerHavingUserError.error\n}\n\nexport const getLastSyncDate = (state, konnectorSlug) => {\n  const lastExecutions =\n    !!state.konnectors &&\n    !!state.konnectors[konnectorSlug] &&\n    !!state.konnectors[konnectorSlug].triggers &&\n    Object.values(state.konnectors[konnectorSlug].triggers)\n      .map(trigger => trigger.lastSyncDate)\n      .sort((dateA, dateB) => {\n        const momentA = moment.utc(dateA)\n        const momentB = moment.utc(dateB)\n        return momentA.isAfter(momentB) ? -1 : momentA.isBefore(momentB) ? 1 : 0\n      })\n  return lastExecutions.length && lastExecutions[0]\n}\n\n// Map the trigger status to a status compatible with queue\nconst getTriggerQueueStatus = trigger => {\n  if (trigger.isRunning) return 'ongoing'\n  if (trigger.hasError) return 'error'\n  if (trigger.isConnected) return 'done'\n  return 'pending'\n}\n\nexport const getQueue = (state, konnectors) =>\n  // state is state.connections\n  state.konnectors\n    ? Object.keys(state.konnectors).reduce(\n        (queuedConnections, konnectorSlug) => {\n          const triggers = state.konnectors[konnectorSlug].triggers\n          if (!triggers) return queuedConnections\n          const konnector = konnectors[konnectorSlug]\n          return queuedConnections.concat(\n            Object.keys(triggers).reduce((queuedTriggers, triggerId) => {\n              if (triggers[triggerId].isEnqueued) {\n                const label = konnector.name\n                const status = getTriggerQueueStatus(triggers[triggerId])\n                return queuedTriggers.concat({\n                  konnector,\n                  label,\n                  status,\n                  triggerId\n                })\n              }\n\n              return queuedTriggers\n            }, [])\n          )\n        },\n        []\n      )\n    : []\n\nexport const getConnectionError = (state, trigger) =>\n  getTriggerState(state, trigger).error\n\nexport const getCreatedAccount = state =>\n  !!state.creation && state.creation.account\n\nexport const getTriggerIdByKonnectorAndAccount = (\n  state,\n  konnector,\n  account,\n  validAccounts = []\n) =>\n  !!konnector &&\n  !!account &&\n  validAccounts.includes(account._id) &&\n  !!state.konnectors[konnector.slug] &&\n  Object.keys(state.konnectors[konnector.slug].triggers).find(\n    triggerId =>\n      state.konnectors[konnector.slug].triggers[triggerId].account ===\n      account._id\n  )\n\nexport const getTriggerLastSuccess = (state, trigger) => {\n  const lastJob = getTriggerLastJob(state, trigger)\n  const lastJobIsSuccess = lastJob && lastJob.state === 'done'\n  if (lastJobIsSuccess) return lastJob.started_at\n  return (\n    !!trigger && !!trigger.current_state && trigger.current_state.last_success\n  )\n}\n\n// get trigger from state, in state.konnectors[konnectorSlug].triggers[triggerId]\nconst getTriggerState = (state, trigger) => {\n  const konnectorSlug = getTriggerKonnectorSlug(trigger)\n  if (!konnectorSlug || !state.konnectors || !state.konnectors[konnectorSlug])\n    return false\n  const triggers = state.konnectors[konnectorSlug].triggers\n  if (!triggers) return false\n  return (!!triggers && !!triggers[trigger._id] && triggers[trigger._id]) || {}\n}\n\nexport const isCreatingConnection = state => !!state.creation\n\nexport const isConnectionConnected = (state, trigger) =>\n  getTriggerState(state, trigger).isConnected\n\nexport const isConnectionEnqueued = (state, trigger) =>\n  getTriggerState(state, trigger).isEnqueued\n\nexport const isConnectionRunning = (state, trigger) =>\n  getTriggerState(state, trigger).isRunning\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bloodPressure_53c53cf949a54f72143c918de3f01797\",\n  \"use\": \"icon-bloodPressure_53c53cf949a54f72143c918de3f01797-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bloodPressure_53c53cf949a54f72143c918de3f01797\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"currentColor\\\"><path d=\\\"M1 19h8l4-6.004 4 6 4-9 6 19 5-24L36 19h11M9 41v2m12-2v2m12-2v2m-18-6v6m12-6v6m12-6v6\\\" /></g><path stroke=\\\"#95999D\\\" d=\\\"M47 43c0 2.2-1.8 4-4 4H5c-2.202 0-4-1.8-4-4V5c0-2.202 1.798-4 4-4h38c2.2 0 4 1.798 4 4v38h0z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* (ignored) */","import classNames from 'classnames'\nimport has from 'lodash/has'\nimport sortBy from 'lodash/sortBy'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport Button from 'cozy-ui/react/Button'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport styles from 'styles/konnectorSuccess'\nimport DescriptionContent from 'components/DescriptionContent'\nimport TriggerFolderLink from 'components/TriggerFolderLink'\nimport BanksLink from 'components/BanksLink'\nimport connectingIllu from 'assets/images/connecting-data-in-progress.svg'\n\nconst SuccessImage = () => (\n  <div className={styles['col-account-success-illu-wrapper']}>\n    <img src={connectingIllu} className={styles['col-account-success-illu']} />\n  </div>\n)\n\nconst SuccessLinks = ({ children }) => (\n  <p className={classNames(styles['col-account-success-links'], 'u-mv-half')}>\n    {children}\n  </p>\n)\n\nconst DriveLink = translate()(({ folderId, t }) => (\n  <TriggerFolderLink\n    folderId={folderId}\n    label={t('account.success.driveLinkText')}\n  />\n))\n\nconst SuccessFooter = translate()(({ children }) => (\n  <div className={styles['coz-form-controls-success']}>\n    <div className={styles['col-account-form-success-buttons']}>{children}</div>\n  </div>\n))\n\nexport class KonnectorSuccess extends Component {\n  componentDidMount() {\n    if (typeof this.props.handleConnectionSuccess === 'function') {\n      this.props.handleConnectionSuccess()\n    }\n  }\n\n  render() {\n    const { account, error, title, messages } = this.props\n    const relatedApps = sortBy(\n      Object.values(KonnectorSuccess.apps).filter(app =>\n        app.predicate(this.props)\n      ),\n      app => -app.priority\n    )\n\n    const hasLinks = relatedApps.length > 0\n\n    return (\n      account && (\n        <div className={styles['col-account-success']}>\n          {!error && <SuccessImage />}\n          <DescriptionContent\n            title={!error && title}\n            messages={!error && messages}\n          >\n            {hasLinks && (\n              <SuccessLinks>\n                {relatedApps.map((app, i) =>\n                  // Should always pass context, since it's used for customisation\n                  app.successLink(this.props, this.context, i)\n                )}\n              </SuccessLinks>\n            )}\n          </DescriptionContent>\n\n          <SuccessFooter>\n            {relatedApps.length > 0\n              ? // Should always pass context, since it's used for customisation\n                relatedApps[0].footerLink(this.props, this.context)\n              : null}\n          </SuccessFooter>\n        </div>\n      )\n    )\n  }\n}\n\nKonnectorSuccess.apps = {\n  drive: {\n    priority: 1,\n    // eslint-disable-next-line react/display-name\n    predicate: props => {\n      const trigger = props.trigger\n      const res = has(trigger, 'message.folder_to_save')\n      return res\n    },\n    // eslint-disable-next-line react/display-name\n    successLink: (props, context, i) => {\n      return (\n        <DriveLink key={i} folderId={props.trigger.message.folder_to_save} />\n      )\n    },\n    // eslint-disable-next-line react/display-name\n    footerLink: props => {\n      const { t, onDone, account, successButtonLabel } = props\n      return (\n        <Button\n          label={successButtonLabel || t('account.success.button')}\n          onClick={event => {\n            event.preventDefault()\n            onDone(account)\n          }}\n        />\n      )\n    }\n  },\n\n  banks: {\n    priority: 0,\n    // eslint-disable-next-line react/display-name\n    predicate: props => {\n      const connector = props.connector\n      return (\n        Array.isArray(connector.data_types) &&\n        connector.data_types.includes('bankAccounts')\n      )\n    },\n    // eslint-disable-next-line react/display-name\n    successLink: (props, context, i) => {\n      return <BanksLink key={i} banksUrl={context.store.banksUrl} />\n    },\n    footerLink: () => null\n  }\n}\n\nKonnectorSuccess.contextTypes = {\n  store: PropTypes.object\n}\n\nKonnectorSuccess.propTypes = {\n  account: PropTypes.object.isRequired,\n  error: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  messages: PropTypes.arrayOf(PropTypes.string),\n  onDone: PropTypes.func.isRequired,\n  successButtonLabel: PropTypes.string,\n  trigger: PropTypes.object.isRequired\n}\n\nexport { SuccessImage, SuccessLinks, BanksLink, DriveLink }\n\nexport default translate()(KonnectorSuccess)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-profile_3c5a6968d4229721c285043623e2f80e\",\n  \"use\": \"icon-profile_3c5a6968d4229721c285043623e2f80e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-profile_3c5a6968d4229721c285043623e2f80e\\\"><defs><path id=\\\"icon-profile_3c5a6968d4229721c285043623e2f80e_a\\\" d=\\\"M46 23c0 12.704-10.298 23-23 23C10.296 46 0 35.704 0 23 0 10.3 10.296 0 23 0c12.702 0 23 10.3 23 23z\\\" /></defs><g transform=\\\"translate(1 1)\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><mask id=\\\"icon-profile_3c5a6968d4229721c285043623e2f80e_b\\\" fill=\\\"#fff\\\"><use xlink:href=\\\"#icon-profile_3c5a6968d4229721c285043623e2f80e_a\\\" /></mask><use fill=\\\"#CEBEF7\\\" xlink:href=\\\"#icon-profile_3c5a6968d4229721c285043623e2f80e_a\\\" /><path fill=\\\"#855CEA\\\" d=\\\"M23 27c-5.523 0-10-4.701-10-10.5S17.477 6 23 6s10 4.701 10 10.5S28.523 27 23 27zm0 38c-9.941 0-18-8.059-18-18s8.059-18 18-18 18 8.059 18 18-8.059 18-18 18z\\\" mask=\\\"url(#icon-profile_3c5a6968d4229721c285043623e2f80e_b)\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { NavLink, Redirect, withRouter } from 'react-router-dom'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport Icon from 'cozy-ui/react/Icon'\nimport Modal, { ModalHeader, ModalContent } from 'cozy-ui/react/Modal'\n\nimport AccountPickerItem from 'components/AccountPickerItem'\nimport KonnectorHeaderIcon from 'components/KonnectorHeaderIcon'\nimport backIcon from 'assets/sprites/icon-arrow-left.svg'\nimport { getKonnector } from 'ducks/konnectors'\nimport { hasPendingUpdate } from 'lib/konnectors'\nimport styles from 'styles/accountPicker'\nimport { getConnectionsByKonnector } from 'reducers'\n\nexport const AccountPicker = ({\n  t,\n  connections,\n  history,\n  konnector,\n  match\n}) => {\n  const { konnectorSlug } = match.params\n  if (!connections.length)\n    return <Redirect to={`/connected/${konnector.slug}/new`} />\n  return (\n    <Modal dismissAction={() => history.push('/connected')} mobileFullscreen>\n      <ModalHeader>\n        <div className=\"col-account-connection-header\">\n          <NavLink to=\"/connected\" className=\"col-account-connection-back\">\n            <Icon icon={backIcon} />\n          </NavLink>\n          <KonnectorHeaderIcon konnector={konnector} />\n        </div>\n      </ModalHeader>\n      <ModalContent>\n        <ul className={styles[classNames('col-account-picker')]}>\n          {connections.map((connection, index) => (\n            <li key={index}>\n              <AccountPickerItem\n                konnectorSlug={konnectorSlug}\n                connection={connection}\n                hasUpdate={hasPendingUpdate(konnector)}\n              />\n            </li>\n          ))}\n          <li>\n            <NavLink\n              to={`/connected/${konnectorSlug}/new`}\n              className={classNames(\n                styles['col-account-picker-button'],\n                styles['col-account-picker-button-add']\n              )}\n            >\n              <span>\n                <Icon icon=\"plus\" />\n                <span>{t('account_picker.add_account_button.label')}</span>\n              </span>\n            </NavLink>\n          </li>\n        </ul>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { konnectorSlug } = ownProps.match.params\n  return {\n    connections: getConnectionsByKonnector(state, konnectorSlug),\n    konnector: getKonnector(state.cozy, konnectorSlug)\n  }\n}\n\nexport default connect(mapStateToProps)(translate()(withRouter(AccountPicker)))\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bill_0d0ca64da8d7e0e8bff594738075cf11\",\n  \"use\": \"icon-bill_0d0ca64da8d7e0e8bff594738075cf11-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bill_0d0ca64da8d7e0e8bff594738075cf11\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#C2F0D1\\\" d=\\\"M9 47c-1.105 0-2-.898-2-2.006V3.006C7 1.898 7.89 1 8.991 1H29l12 12v32c0 1.105-.892 2-2 2H9z\\\" /><path fill=\\\"#35CE68\\\" d=\\\"M29 1v9.991A2.01 2.01 0 0 0 31.009 13H41L29 1z\\\" /><path stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M35 41H13V17h22zM13 22h22m-22 6h22m-22 6h22M20 17v24\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* konnector lib ready to be added to cozy-client-js */\nimport * as realtime from 'lib/realtime'\n\nexport const ERROR_TYPES = {\n  CHALLENGE_ASKED: 'CHALLENGE_ASKED',\n  LOGIN_FAILED: 'LOGIN_FAILED',\n  MAINTENANCE: 'MAINTENANCE',\n  NOT_EXISTING_DIRECTORY: 'NOT_EXISTING_DIRECTORY',\n  USER_ACTION_NEEDED: 'USER_ACTION_NEEDED',\n  VENDOR_DOWN: 'VENDOR_DOWN',\n  DISK_QUOTA_EXCEEDED: 'DISK_QUOTA_EXCEEDED'\n}\n\nexport const UPDATE_NEEDED_ERRORS_TYPES = {\n  TERMS_VERSION_MISMATCH: 'TERMS_VERSION_MISMATCH'\n}\n\nexport const TWO_FA_ERRORS = [\n  'USER_ACTION_NEEDED.TWOFA_EXPIRED',\n  'USER_ACTION_NEEDED.WRONG_TWOFA_CODE'\n]\n\nexport const KONNECTORS_DOCTYPE = 'io.cozy.konnectors'\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, KONNECTORS_DOCTYPE)\n}\n\nfunction patchFolderPermission(cozy, konnector, folderId = null) {\n  const slug = konnector.attributes ? konnector.attributes.slug : konnector.slug\n  const saveFolder = folderId\n    ? { type: 'io.cozy.files', values: [folderId] }\n    : {}\n\n  return cozy.fetchJSON(\n    'PATCH',\n    `/permissions/konnectors/${encodeURIComponent(slug)}`,\n    {\n      data: {\n        attributes: {\n          permissions: {\n            saveFolder: saveFolder\n          }\n        }\n      }\n    }\n  )\n}\n\nexport function addFolderPermission(cozy, konnector, folderId) {\n  return patchFolderPermission(cozy, konnector, folderId)\n}\n\nexport function isKonnectorLoginError(error) {\n  return error && error.type && error.type === ERROR_TYPES.LOGIN_FAILED\n}\n\nexport function isKonnectorTwoFAError(error) {\n  return error && error.type && TWO_FA_ERRORS.includes(error.code)\n}\n\nexport function isKonnectorUserError(error) {\n  return (\n    error &&\n    error.type &&\n    [\n      ERROR_TYPES.CHALLENGE_ASKED,\n      ERROR_TYPES.DISK_QUOTA_EXCEEDED,\n      ERROR_TYPES.LOGIN_FAILED,\n      ERROR_TYPES.NOT_EXISTING_DIRECTORY,\n      ERROR_TYPES.USER_ACTION_NEEDED\n    ].includes(error.type)\n  )\n}\n\nexport function isKonnectorKnownError(error) {\n  return error && error.type && Object.keys(ERROR_TYPES).includes(error.type)\n}\n\nexport function isKonnectorUpdateNeededError(error) {\n  return (\n    error &&\n    error.type &&\n    Object.keys(UPDATE_NEEDED_ERRORS_TYPES).includes(error.type)\n  )\n}\n\nexport function buildKonnectorError(message) {\n  var error = new Error(message)\n  error.type = message.split('.')[0]\n  error.code = message\n  return error\n}\n\nconst checkLocale = (t, key) => {\n  return t(key) !== key\n}\n\nexport const hasPendingUpdate = konnector => {\n  return !!konnector.available_version\n}\n\nexport const getMostAccurateErrorKey = (t, error, getKey = key => key) => {\n  // Legacy. Kind of.\n  if (!error.code) return error.message\n\n  const errorSegments = error.code.split('.')\n\n  let tested = errorSegments\n  let fullKey = getKey(tested.join('.'))\n\n  while (tested.length && !checkLocale(t, fullKey)) {\n    tested = tested.slice(0, tested.length - 1)\n    fullKey = getKey(tested.join('.'))\n  }\n\n  return tested.length ? fullKey : getKey('UNKNOWN_ERROR')\n}\n\nconst legacyMessages = {\n  terms: 'connector'\n}\n\nexport const getErrorTitle = (t, error, getLocaleFn) =>\n  t(getMostAccurateErrorKey(t, error, getLocaleFn))\n\nexport const getKonnectorMessage = (t, konnector, message) => {\n  const { messages, hasDescriptions } = konnector\n\n  const providesMessage =\n    messages && messages.length && messages.includes(message)\n  if (providesMessage) return t(`${konnector.slug}.messages.${message}`)\n\n  const providesLegacyMessage =\n    hasDescriptions && hasDescriptions[legacyMessages[message] || message]\n  if (providesLegacyMessage)\n    return t(\n      `connector.${konnector.slug}.description.${legacyMessages[message] ||\n        message}`\n    )\n\n  return null\n}\n","import React, { PureComponent } from 'react'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\n\nimport { withClient } from 'cozy-client'\nimport Icon from 'cozy-ui/react/Icon'\n\nimport { getApp, receiveApps } from 'ducks/apps'\nimport styles from 'styles/triggerFolderLink'\n\n/**\n * Renders a link only if href prop is provided\n */\nclass MaybeLink extends PureComponent {\n  render() {\n    const { className, href } = this.props\n    return href ? (\n      <a className={className} href={href} target=\"_parent\">\n        {this.props.children}\n      </a>\n    ) : (\n      <span className={className}>{this.props.children}</span>\n    )\n  }\n}\n\nexport class TriggerFolderLink extends PureComponent {\n  async componentDidMount() {\n    const { client, driveApp, receiveApps } = this.props\n    if (!driveApp) {\n      const { data } = await client.query(client.all('io.cozy.apps'))\n      receiveApps(data)\n    }\n  }\n\n  render() {\n    const { driveApp, label, folderId } = this.props\n    const disabled = !driveApp\n    return (\n      <MaybeLink\n        className={classNames(styles['col-trigger-folder-link'], {\n          'u-silver': disabled,\n          'u-c-not-allowed': disabled\n        })}\n        href={driveApp && `${driveApp.links.related}#/files/${folderId}`}\n      >\n        <Icon className=\"u-mr-half\" icon=\"openwith\" />\n        {label}\n      </MaybeLink>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  driveApp: getApp(state.apps, 'drive')\n})\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    receiveApps: apps => dispatch(receiveApps(apps))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withClient(TriggerFolderLink))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"maintenance-intro\":\"maintenance-intro--1-SbJ\",\"maintenance-service\":\"maintenance-service--1ZZfz\",\"maintenance-icon\":\"maintenance-icon--2QHy-\"};","/* global cozy */\nimport React, { Component } from 'react'\n\nimport Icon from 'cozy-ui/react/Icon'\n\nimport addServiceIcon from 'assets/icons/icon-plus-add-service.svg'\n\nexport class AddServiceTile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      redirecting: false\n    }\n\n    this.toggleRedirect = this.toggleRedirect.bind(this)\n  }\n\n  async toggleRedirect() {\n    if (this.state.redirecting) return // don't toggle twice\n    this.setState(() => ({ redirecting: true }))\n    try {\n      await cozy.client.intents.redirect('io.cozy.apps', { type: 'konnector' })\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error)\n      this.setState({\n        redirecting: false\n      })\n    }\n  }\n\n  render() {\n    const { label } = this.props\n    const { redirecting } = this.state\n    return (\n      <div\n        aria-busy={redirecting}\n        className=\"item-wrapper --add-service\"\n        onClick={this.toggleRedirect}\n      >\n        {redirecting ? (\n          <Icon icon=\"spinner\" className=\"item-icon\" color=\"grey\" spin />\n        ) : (\n          <div className=\"item-icon\">\n            <Icon icon={addServiceIcon} />\n          </div>\n        )}\n        <span className=\"item-title\">{label}</span>\n      </div>\n    )\n  }\n}\n\nexport default AddServiceTile\n","/* global prompt */\n\nconst hasCordovaPlugin = () => {\n  return (\n    window.cordova !== undefined && window.cordova.InAppBrowser !== undefined\n  )\n}\n\nconst REGISTRATION_ABORT = 'REGISTRATION_ABORT'\n\nexport const authenticateWithCordova = url => {\n  if (hasCordovaPlugin()) {\n    return new Promise((resolve, reject) => {\n      const target = '_blank'\n      const options = 'clearcache=yes,zoom=no'\n      const inAppBrowser = window.cordova.InAppBrowser.open(\n        url,\n        target,\n        options\n      )\n\n      const removeListener = () => {\n        inAppBrowser.removeEventListener('loadstart', onLoadStart)\n        inAppBrowser.removeEventListener('exit', onExit)\n      }\n\n      const onLoadStart = ({ url }) => {\n        const accessCode = /\\?access_code=(.+)$/.test(url)\n        const state = /\\?state=(.+)$/.test(url)\n\n        if (accessCode || state) {\n          resolve(url)\n          removeListener()\n          inAppBrowser.close()\n        }\n      }\n\n      const onExit = () => {\n        reject(new Error(REGISTRATION_ABORT))\n        removeListener()\n        inAppBrowser.close()\n      }\n\n      inAppBrowser.addEventListener('loadstart', onLoadStart)\n      inAppBrowser.addEventListener('exit', onExit)\n    })\n  } else {\n    /**\n     * for dev purpose:\n     * In oauth workflow, the server displays an authorization page\n     * User must accept to give permission then the server gives an url\n     * with query parameters used by cozy-client-js to initialize itself.\n     *\n     * This hack let developers open the authorization page in a new tab\n     * then get the \"access_code\" url and paste it in the prompt to let the\n     * application initialize and redirect to other pages.\n     */\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const token = prompt('Paste the url here:')\n        resolve(token)\n      }, 10000)\n    })\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-warning_899c24925e40cf23e557551cb783337f\",\n  \"use\": \"icon-warning_899c24925e40cf23e557551cb783337f-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-warning_899c24925e40cf23e557551cb783337f\\\"><path fill=\\\"#f42d2c\\\" d=\\\"M7.022 1.736c.543-.959 1.428-.95 1.966 0l6.532 11.529c.543.958.094 1.735-1.016 1.735h-13C.399 15-.051 14.215.487 13.265l6.535-11.53zM7.004 13c0 .556.447 1 1 1 .556 0 1-.447 1-1 0-.556-.448-1-1-1-.557 0-1 .448-1 1zm0-7.997v4.994a.994.994 0 0 0 1 1.003c.556 0 1-.449 1-1.003V5.003a.994.994 0 0 0-1-1.003c-.557 0-1 .45-1 1.003z\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class CozyProvider extends Component {\n  static propTypes = {\n    domain: PropTypes.string,\n    secure: PropTypes.bool,\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    }),\n    client: PropTypes.object.isRequired,\n    children: PropTypes.element.isRequired\n  }\n\n  static childContextTypes = {\n    domain: PropTypes.string,\n    secure: PropTypes.bool,\n    store: PropTypes.object,\n    client: PropTypes.object.isRequired\n  }\n\n  static contextTypes = {\n    store: PropTypes.object\n  }\n\n  getChildContext() {\n    return {\n      domain: this.props.domain,\n      secure: this.props.secure,\n      store: this.props.store || this.context.store,\n      client: this.props.client\n    }\n  }\n\n  render() {\n    return this.props.children || null\n  }\n}\n","/* global WebSocket */\n\n// Custom object wrapping logic to websocket and exposing a subscription\n// interface\nlet cozySocket\n\n// Important, must match the spec,\n// see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\nconst WEBSOCKET_STATE = {\n  OPEN: 1\n}\n\nconst KEEPALIVE = {\n  INTERVAL: 30000,\n  METHOD_NAME: 'ping'\n}\n\nconst NUM_RETRIES = 3\nconst RETRY_BASE_DELAY = 1000\n\n// Send a subscribe message for the given doctype trough the given websocket, but\n// only if it is in a ready state. If not, retry a few milliseconds later.\nfunction subscribeWhenReady(doctype, socket) {\n  if (socket.readyState === WEBSOCKET_STATE.OPEN) {\n    try {\n      socket.send(\n        JSON.stringify({\n          method: 'SUBSCRIBE',\n          payload: {\n            type: doctype\n          }\n        })\n      )\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.warn(`Cannot subscribe to doctype ${doctype}: ${error.message}`)\n      throw error\n    }\n  } else {\n    setTimeout(() => {\n      subscribeWhenReady(doctype, socket)\n    }, 10)\n  }\n}\n\nfunction getWebsocketProtocol() {\n  return window.location.protocol === 'http:' ? 'ws' : 'wss'\n}\n\nfunction keepAlive(socket, interval, message) {\n  const keepAliveInterval = setInterval(() => {\n    if (socket.readyState === WEBSOCKET_STATE.OPEN) {\n      socket.send(message)\n    } else {\n      clearInterval(keepAliveInterval)\n    }\n  }, interval)\n\n  return socket\n}\n\nasync function connectWebSocket(\n  cozy,\n  onmessage,\n  onclose,\n  numRetries,\n  retryDelay\n) {\n  return new Promise((resolve, reject) => {\n    const protocol = getWebsocketProtocol()\n    const socket = new WebSocket(\n      `${protocol}:${cozy._url}/realtime/`,\n      'io.cozy.websocket'\n    )\n\n    socket.onopen = () => {\n      try {\n        socket.send(\n          JSON.stringify({\n            method: 'AUTH',\n            payload: cozy._token.token\n          })\n        )\n      } catch (error) {\n        return reject(error)\n      }\n\n      const windowUnloadHandler = () => socket.close()\n      window.addEventListener('beforeunload', windowUnloadHandler)\n\n      socket.onmessage = onmessage\n      socket.onclose = event => {\n        window.removeEventListener('beforeunload', windowUnloadHandler)\n        if (typeof onclose === 'function')\n          onclose(event, numRetries, retryDelay)\n      }\n      socket.onerror = error =>\n        // eslint-disable-next-line no-console\n        console.error(`WebSocket error: ${error.message}`)\n\n      resolve(\n        keepAlive(\n          socket,\n          KEEPALIVE.INTERVAL,\n          `{\"method\":\"${KEEPALIVE.METHOD_NAME}\"}`\n        )\n      )\n    }\n  })\n}\n\nfunction getCozySocket(cozy) {\n  return new Promise(async (resolve, reject) => {\n    if (cozySocket) return resolve(cozySocket)\n\n    const listeners = {}\n\n    let socket\n\n    const onSocketMessage = event => {\n      const data = JSON.parse(event.data)\n      const eventType = data.event.toLowerCase()\n      const payload = data.payload\n\n      if (eventType === 'error') {\n        const isPingError =\n          data.payload &&\n          data.payload.source &&\n          data.payload.source.method === KEEPALIVE.METHOD_NAME\n        if (isPingError) return\n\n        const realtimeError = new Error(payload.title)\n        const errorFields = ['status', 'code', 'source']\n        errorFields.forEach(property => {\n          realtimeError[property] = payload[property]\n        })\n\n        throw realtimeError\n      }\n\n      if (listeners[payload.type] && listeners[payload.type][eventType]) {\n        listeners[payload.type][eventType].forEach(listener => {\n          listener(payload.doc)\n        })\n      }\n    }\n\n    const onSocketClose = async (event, numRetries, retryDelay) => {\n      if (!event.wasClean) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `WebSocket closed unexpectedly with code ${event.code} and ${\n            event.reason ? `reason: '${event.reason}'` : 'no reason'\n          }.`\n        )\n\n        if (numRetries) {\n          // eslint-disable-next-line no-console\n          console.warn(`Reconnecting ... ${numRetries} tries left.`)\n          setTimeout(async () => {\n            try {\n              socket = await connectWebSocket(\n                cozy,\n                onSocketMessage,\n                onSocketClose,\n                --numRetries,\n                retryDelay + 1000\n              )\n            } catch (error) {\n              // eslint-disable-next-line no-console\n              console.error(\n                `Unable to reconnect to realtime. Error: ${error.message}`\n              )\n            }\n          }, retryDelay)\n        }\n      }\n    }\n\n    try {\n      socket = await connectWebSocket(\n        cozy,\n        onSocketMessage,\n        onSocketClose,\n        NUM_RETRIES,\n        RETRY_BASE_DELAY\n      )\n    } catch (error) {\n      reject(error)\n    }\n\n    cozySocket = {\n      subscribe: (doctype, event, listener) => {\n        if (typeof listener !== 'function')\n          throw new Error('Realtime event listener must be a function')\n\n        if (!listeners[doctype]) {\n          listeners[doctype] = {}\n          subscribeWhenReady(doctype, socket)\n        }\n\n        listeners[doctype][event] = (listeners[doctype][event] || []).concat([\n          listener\n        ])\n      },\n      unsubscribe: (doctype, event, listener) => {\n        if (\n          listeners[doctype] &&\n          listeners[doctype][event] &&\n          listeners[doctype][event].includes(listener)\n        ) {\n          listeners[doctype][event] = listeners[doctype][event].filter(\n            l => l !== listener\n          )\n        }\n      }\n    }\n\n    resolve(cozySocket)\n  })\n}\n\n// Returns the Promise of a subscription to a given doctype and document\nexport function subscribe(cozy, doctype, doc, parse = doc => doc) {\n  return subscribeAll(cozy, doctype, parse).then(subscription => {\n    // We will call the listener only for the given document, so let's curry it\n    const docListenerCurried = listener => {\n      return syncedDoc => {\n        if (syncedDoc._id === doc._id) {\n          listener(syncedDoc)\n        }\n      }\n    }\n\n    return {\n      onCreate: listener => subscription.onCreate(docListenerCurried(listener)),\n      onUpdate: listener => subscription.onUpdate(docListenerCurried(listener)),\n      onDelete: listener => subscription.onDelete(docListenerCurried(listener)),\n      unsubscribe: () => subscription.unsubscribe()\n    }\n  })\n}\n\n// Returns the Promise of a subscription to a given doctype (all documents)\nexport function subscribeAll(cozy, doctype, parse = doc => doc) {\n  return getCozySocket(cozy).then(cozySocket => {\n    // Some document need to have specific parsing, for example, decoding\n    // base64 encoded properties\n    const parseCurried = listener => {\n      return doc => {\n        listener(parse(doc))\n      }\n    }\n\n    let createListener, updateListener, deleteListener\n\n    const subscription = {\n      onCreate: listener => {\n        createListener = parseCurried(listener)\n        cozySocket.subscribe(doctype, 'created', createListener)\n        return subscription\n      },\n      onUpdate: listener => {\n        updateListener = parseCurried(listener)\n        cozySocket.subscribe(doctype, 'updated', updateListener)\n        return subscription\n      },\n      onDelete: listener => {\n        deleteListener = parseCurried(listener)\n        cozySocket.subscribe(doctype, 'deleted', deleteListener)\n        return subscription\n      },\n      unsubscribe: () => {\n        cozySocket.unsubscribe(doctype, 'created', createListener)\n        cozySocket.unsubscribe(doctype, 'updated', updateListener)\n        cozySocket.unsubscribe(doctype, 'deleted', deleteListener)\n      }\n    }\n\n    return subscription\n  })\n}\n","import React from 'react'\nimport classNames from 'classnames'\n\nimport ReactMarkdownWrapper from 'components/ReactMarkdownWrapper'\nimport styles from 'styles/descriptionContent'\n\nexport const DescriptionContent = ({\n  cssClassesObject,\n  title,\n  messages,\n  children,\n  hasError,\n  centerTitle\n}) => {\n  return (\n    <div className={classNames(cssClassesObject)}>\n      {title && (\n        <h4\n          className={\n            centerTitle\n              ? styles['col-account-description-title-centered']\n              : styles['col-account-description-title']\n          }\n        >\n          {title}\n        </h4>\n      )}\n      {messages &&\n        messages.length > 0 &&\n        messages.map((m, i) => {\n          return m ? (\n            <div\n              key={i}\n              className={classNames(\n                styles['col-account-description-message'],\n                hasError && 'errors'\n              )}\n            >\n              <ReactMarkdownWrapper source={m} />\n            </div>\n          ) : null\n        })}\n      {children}\n    </div>\n  )\n}\n\nexport default DescriptionContent\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-call-log_4cf33585623afb4f23724bc7a06f5746\",\n  \"use\": \"icon-call-log_4cf33585623afb4f23724bc7a06f5746-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-call-log_4cf33585623afb4f23724bc7a06f5746\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#A9CBF9\\\" d=\\\"M9 2C7.344 2 6 3.346 6 5s1.345 3 3 3h32.992c1.107 0 2.007.894 2.007 1.997v36.006A2 2 0 0 1 41.992 48H8.999c-2.756 0-5-2.244-5-5V6c0-.108.018-.208.048-.306A5.007 5.007 0 0 1 9 0h34a1 1 0 1 1 0 2H9zm0 2h32a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2z\\\" /><path fill=\\\"#297EF1\\\" d=\\\"M21.818 22.32a2.52 2.52 0 0 0 .002-3.566l-2.676-2.678a2.528 2.528 0 0 0-3.57 0l-1.47 1.468a3.781 3.781 0 0 0-.474 4.762 58.547 58.547 0 0 0 16.4 16.398 3.784 3.784 0 0 0 4.762-.474l1.468-1.468a2.522 2.522 0 0 0 0-3.568l-2.676-2.676a2.518 2.518 0 0 0-3.568 0l-.892.89a60.016 60.016 0 0 1-8.198-8.196l.892-.892z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-picker-button\":\"col-account-picker-button--ybID4\",\"col-account-picker-header-image\":\"col-account-picker-header-image--3QwvT\",\"col-account-picker\":\"col-account-picker--1LNiV\",\"col-account-picker-button-account\":\"col-account-picker-button-account--EE-0p\",\"col-account-picker-button-infos\":\"col-account-picker-button-infos--1dKhM\",\"col-account-picker-button-status\":\"col-account-picker-button-status--2DnNP\",\"col-account-picker-button-status--error\":\"col-account-picker-button-status--error--3P8vq\",\"col-account-picker-button-add\":\"col-account-picker-button-add--S2dkR\",\"spin\":\"spin--Ip5NT\",\"shake\":\"shake--E_HhA\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-tweet_199e3823600e73bc8a072d3bc33f5f36\",\n  \"use\": \"icon-tweet_199e3823600e73bc8a072d3bc33f5f36-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-tweet_199e3823600e73bc8a072d3bc33f5f36\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M35.75 19.157c-1.387 0-2.715-.203-3.941-.573l-4.51 1.04.576-3.063c-2.083-1.646-3.375-3.943-3.375-6.482C24.5 5.065 29.536 1 35.75 1S47 5.065 47 10.079c0 5.013-5.036 9.078-11.25 9.078zM31.5 7.5H38m-6.5 3H41m-9.5 3H41\\\" stroke=\\\"currentColor\\\" /><path stroke=\\\"#95999D\\\" d=\\\"M32.824 24.054c-1.189.527-2.45.872-3.741 1.025a6.538 6.538 0 0 0 2.862-3.603 13.042 13.042 0 0 1-4.136 1.58A6.497 6.497 0 0 0 23.056 21a6.514 6.514 0 0 0-6.344 7.996 18.49 18.49 0 0 1-13.424-6.804 6.473 6.473 0 0 0-.881 3.274 6.51 6.51 0 0 0 2.896 5.42 6.472 6.472 0 0 1-2.95-.815v.083a6.519 6.519 0 0 0 5.223 6.386 6.55 6.55 0 0 1-2.94.112 6.525 6.525 0 0 0 6.083 4.524 13.083 13.083 0 0 1-8.088 2.787c-.52 0-1.038-.031-1.553-.091a18.443 18.443 0 0 0 9.984 2.926c11.98 0 18.53-9.924 18.53-18.531 0-.282 0-.563-.02-.843a13.287 13.287 0 0 0 3.25-3.37h.002z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport flag from 'cozy-flags'\n\nimport AppIcon from 'cozy-ui/react/AppIcon'\nimport { translate } from 'cozy-ui/react/I18n'\nimport Icon from 'cozy-ui/react/Icon'\n\nimport brokenIcon from 'assets/icons/broken.svg'\nimport {\n  getFirstError,\n  getFirstUserError,\n  getLastSyncDate\n} from 'ducks/connections'\nimport { isInMaintenance } from 'ducks/konnectors'\nimport { getErrorTitle } from 'lib/konnectors'\nimport { getKonnectorTriggersCount } from 'reducers'\n\nconst getKonnectorError = ({ error, t }) => {\n  return error\n    ? getErrorTitle(t, error, key => `connection.error.${key}.title`)\n    : null\n}\n\nconst getErrorClass = ({\n  accountsCount,\n  error,\n  hide,\n  hasUpdate,\n  inMaintenance,\n  userError\n}) => {\n  if (hide) return ''\n\n  if (hasUpdate) {\n    return 'konnector-error--with-badge'\n  }\n\n  if (inMaintenance) {\n    return 'konnector-error--minor-breaking'\n  }\n\n  // userError must be checked first as it is also an error.\n  if (userError) {\n    return 'konnector-error--major-breaking konnector-error--with-badge'\n  }\n\n  if (error) {\n    return 'konnector-error--minor-breaking'\n  }\n\n  if (!accountsCount) {\n    return 'konnector-error--major-breaking'\n  }\n\n  return null\n}\n\nexport class KonnectorTile extends Component {\n  render() {\n    const {\n      accountsCount,\n      error,\n      inMaintenance,\n      userError,\n      konnector,\n      route,\n      t\n    } = this.props\n    const { domain, secure } = this.context\n    const hideKonnectorErrors = flag('hide_konnector_errors')\n    return (\n      <NavLink\n        className=\"item-wrapper\"\n        to={route}\n        title={getKonnectorError({ error, t })}\n      >\n        <div\n          className={classNames(\n            'item-icon',\n            getErrorClass({\n              accountsCount,\n              error,\n              hide: hideKonnectorErrors,\n              userError,\n              hasUpdate: !!konnector.available_version,\n              inMaintenance\n            })\n          )}\n        >\n          <AppIcon\n            alt={t('app.logo.alt', { name: konnector.name })}\n            app={konnector}\n            domain={domain}\n            secure={secure}\n          />\n          <Icon icon={brokenIcon} className=\"konnector-state\" />\n        </div>\n        <h3 className=\"item-title\">{konnector.name}</h3>\n      </NavLink>\n    )\n  }\n}\n\nKonnectorTile.contextTypes = {\n  domain: PropTypes.string.isRequired,\n  secure: PropTypes.bool\n}\n\nconst mapStateToProps = (state, props) => {\n  const { konnector } = props\n  return {\n    // /!\\ error can also be a userError.\n    error: getFirstError(state.connections, konnector.slug),\n    userError: getFirstUserError(state.connections, konnector.slug),\n    lastSyncDate: getLastSyncDate(state.connections, konnector.slug),\n    accountsCount: getKonnectorTriggersCount(state, konnector),\n    inMaintenance: isInMaintenance(konnector.slug)\n  }\n}\n\nexport default translate()(connect(mapStateToProps)(withRouter(KonnectorTile)))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"queue\":\"queue--E5doD\",\"u-shake\":\"u-shake--2Jl50\",\"shake\":\"shake--3tuGM\",\"u-o-100\":\"u-o-100--1Js2P\",\"u-o-90\":\"u-o-90--cW41L\",\"u-o-80\":\"u-o-80--2Fez4\",\"u-o-70\":\"u-o-70--2InIC\",\"u-o-60\":\"u-o-60--36PQO\",\"u-o-50\":\"u-o-50--2AW4g\",\"u-o-40\":\"u-o-40--1iw_4\",\"u-o-30\":\"u-o-30--3WmtM\",\"u-o-20\":\"u-o-20--1nMjp\",\"u-o-10\":\"u-o-10--2toLD\",\"u-o-05\":\"u-o-05--22l49\",\"u-o-025\":\"u-o-025--3s5MH\",\"u-o-0\":\"u-o-0--LKNEs\",\"queue--visible\":\"queue--visible--3kodM\",\"queue-header\":\"queue-header--1xuYz\",\"queue-header-inner\":\"queue-header-inner--2hQ34\",\"btn-close\":\"btn-close--1_NjM\",\"queue-progress\":\"queue-progress--3kjuG\",\"queue-content\":\"queue-content--3aNvV\",\"queue--collapsed\":\"queue--collapsed--aksIJ\",\"queue-list\":\"queue-list--3gpgx\",\"queue-item--error\":\"queue-item--error--11w-V\",\"queue-item--done\":\"queue-item--done--fE0KV\",\"queue-item\":\"queue-item--2nmo3\",\"queue-item-progress-bar\":\"queue-item-progress-bar--2-yvo\",\"item-label\":\"item-label--1Q26g\",\"item-ext\":\"item-ext--3RUut\",\"item-status\":\"item-status--qmrpq\",\"item-icon\":\"item-icon--2Q7Zb\",\"item-icon-img\":\"item-icon-img--7qiT6\",\"item-pending\":\"item-pending--1lCQW\",\"spin\":\"spin--2Rrql\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-connection-data\":\"col-account-connection-data--1mMdI\",\"col-account-connection-data-access\":\"col-account-connection-data-access--3ORS6\"};","import { combineReducers } from 'redux'\nimport { removeObjectProperty, mapValues } from './utils'\nimport sharings, {\n  FETCH_SHARINGS,\n  getSharings,\n  getSharingDetails\n} from './slices/sharings'\nimport synchronization from './slices/synchronization'\n\nconst APPS_DOCTYPE = 'io.cozy.apps'\nconst FETCH_DOCUMENT = 'FETCH_DOCUMENT'\nconst FETCH_COLLECTION = 'FETCH_COLLECTION'\nconst LAUNCH_TRIGGER = 'LAUNCH_TRIGGER'\nconst RECEIVE_DATA = 'RECEIVE_DATA'\nconst RECEIVE_ERROR = 'RECEIVE_ERROR'\nexport const CREATE_DOCUMENT = 'CREATE_DOCUMENT'\nconst UPDATE_DOCUMENT = 'UPDATE_DOCUMENT'\nconst DELETE_DOCUMENT = 'DELETE_DOCUMENT'\nconst RECEIVE_APP = 'RECEIVE_APP'\nconst RECEIVE_NEW_DOCUMENT = 'RECEIVE_NEW_DOCUMENT'\nconst RECEIVE_UPDATED_DOCUMENT = 'RECEIVE_UPDATED_DOCUMENT'\nconst RECEIVE_DELETED_DOCUMENT = 'RECEIVE_DELETED_DOCUMENT'\nconst FETCH_REFERENCED_FILES = 'FETCH_REFERENCED_FILES'\nconst ADD_REFERENCED_FILES = 'ADD_REFERENCED_FILES'\nconst REMOVE_REFERENCED_FILES = 'REMOVE_REFERENCED_FILES'\n\nconst documents = (state = {}, action) => {\n  switch (action.type) {\n    case RECEIVE_APP: {\n      const apps = action.response && action.response.data\n      if (apps.length === 0) return state\n      return {\n        ...state,\n        [APPS_DOCTYPE]: {\n          ...state[APPS_DOCTYPE],\n          ...objectifyDocumentsArray(apps)\n        }\n      }\n    }\n    case RECEIVE_DATA: {\n      const { data } = action.response\n      if (data.length === 0) return state\n      const dataDoctype = getArrayDoctype(data)\n      return {\n        ...state,\n        [dataDoctype]: {\n          ...state[dataDoctype],\n          ...objectifyDocumentsArray(data)\n        }\n      }\n    }\n    case RECEIVE_NEW_DOCUMENT:\n    case RECEIVE_UPDATED_DOCUMENT: {\n      const doc = action.response.data[0]\n      return {\n        ...state,\n        [doc._type]: {\n          ...state[doc._type],\n          [doc.id]: doc\n        }\n      }\n    }\n    case RECEIVE_DELETED_DOCUMENT: {\n      const deleted = action.response.data[0]\n      return {\n        ...state,\n        [deleted._type]: removeObjectProperty(state[deleted._type], deleted.id)\n      }\n    }\n    case ADD_REFERENCED_FILES:\n      return {\n        ...state,\n        'io.cozy.files': {\n          ...state['io.cozy.files'],\n          ...updateFilesReferences(\n            state['io.cozy.files'],\n            action.ids,\n            action.document\n          )\n        }\n      }\n    case REMOVE_REFERENCED_FILES:\n      return {\n        ...state,\n        'io.cozy.files': {\n          ...state['io.cozy.files'],\n          ...removeFilesReferences(\n            state['io.cozy.files'],\n            action.ids,\n            action.document\n          )\n        }\n      }\n    default:\n      return state\n  }\n}\n\nconst objectifyDocumentsArray = documents =>\n  documents.reduce((obj, doc) => ({ ...obj, [doc.id]: doc }), {})\n\nconst updateFileReference = (\n  /* eslint-disable-next-line casecamelcase */\n  { relationships: { referenced_by, ...relationships }, ...file },\n  doc\n) => ({\n  ...file,\n  relationships: {\n    ...relationships,\n    /* eslint-disable-next-line casecamelcase */\n    [referenced_by.data]:\n      /* eslint-disable-next-line casecamelcase */\n      referenced_by.data === null\n        ? [{ id: doc.id, type: doc.type }]\n        : /* eslint-disable-next-line casecamelcase */\n          [...referenced_by.data, { id: doc.id, type: doc.type }]\n  }\n})\n\nconst updateFilesReferences = (files, newlyReferencedIds, doc) =>\n  newlyReferencedIds.reduce(\n    (updated, id) => ({\n      ...updated,\n      [id]: updateFileReference(files[id], doc)\n    }),\n    {}\n  )\n\nconst removeFileReferences = (\n  /* eslint-disable-next-line casecamelcase */\n  { relationships: { referenced_by, ...relationships }, ...file },\n  doc\n) => ({\n  ...file,\n  relationships: {\n    ...relationships,\n    /* eslint-disable-next-line casecamelcase */\n    [referenced_by.data]: referenced_by.data.filter(\n      rel => rel.type !== doc.type && rel.id !== doc.id\n    )\n  }\n})\n\nconst removeFilesReferences = (files, removedIds, doc) =>\n  removedIds.reduce(\n    (updated, id) => ({\n      ...updated,\n      [id]: removeFileReferences(files[id], doc)\n    }),\n    {}\n  )\n\nconst getDoctype = ({ _type: doctype }) => {\n  // TODO: don't know why the stack returns 'file' here..\n  if (doctype === 'file') {\n    return 'io.cozy.files'\n  }\n  return doctype\n}\n\nconst getArrayDoctype = documents => getDoctype(documents[0])\n\n// collection reducers\nconst collectionInitialState = {\n  type: null,\n  options: {},\n  fetchStatus: 'pending',\n  lastFetch: null,\n  hasMore: false,\n  count: 0,\n  ids: []\n}\n\nconst collection = (state = collectionInitialState, action) => {\n  switch (action.type) {\n    case FETCH_COLLECTION:\n    case FETCH_REFERENCED_FILES:\n      return {\n        ...state,\n        type: action.doctype || 'io.cozy.files',\n        options: action.options,\n        fetchStatus: action.skip > 0 ? 'loadingMore' : 'loading'\n      }\n    case RECEIVE_APP:\n    case RECEIVE_DATA: {\n      const response = action.response\n      return {\n        ...state,\n        fetchStatus: 'loaded',\n        lastFetch: Date.now(),\n        hasMore: response.next !== undefined ? response.next : state.hasMore,\n        count:\n          response.meta && response.meta.count\n            ? response.meta.count\n            : response.data.length,\n        ids: !action.skip\n          ? response.data.map(doc => doc.id)\n          : [...state.ids, ...response.data.map(doc => doc.id)]\n      }\n    }\n    case ADD_REFERENCED_FILES:\n      return {\n        ...state,\n        type: 'io.cozy.files',\n        count: state.count + action.ids.length,\n        ids: [...state.ids, ...action.ids]\n      }\n    case REMOVE_REFERENCED_FILES:\n      return {\n        ...state,\n        count: state.count - action.ids.length,\n        ids: state.ids.filter(id => action.ids.indexOf(id) === -1)\n      }\n    case RECEIVE_ERROR:\n      return {\n        ...state,\n        fetchStatus: 'failed'\n      }\n    case RECEIVE_NEW_DOCUMENT:\n      return {\n        ...state,\n        ids: [...state.ids, action.response.data[0].id]\n      }\n    case RECEIVE_DELETED_DOCUMENT:\n      return {\n        ...state,\n        ids: state.ids.filter(id => id !== action.response.data[0].id)\n      }\n    default:\n      return state\n  }\n}\n\nconst collections = (state = {}, action) => {\n  const applyUpdate = (collections, updateAction) =>\n    updateAction.updateCollections.reduce(\n      (updated, name) => ({\n        ...updated,\n        [name]: collection(collections[name], action)\n      }),\n      {}\n    )\n\n  switch (action.type) {\n    case FETCH_COLLECTION:\n    case FETCH_REFERENCED_FILES:\n    case ADD_REFERENCED_FILES:\n    case REMOVE_REFERENCED_FILES:\n    case RECEIVE_APP:\n    case RECEIVE_DATA:\n    case RECEIVE_ERROR:\n      if (!action.collection) {\n        return state\n      }\n      return {\n        ...state,\n        [action.collection]: collection(state[action.collection], action)\n      }\n    case RECEIVE_NEW_DOCUMENT:\n    case RECEIVE_DELETED_DOCUMENT:\n      if (!action.updateCollections) {\n        return state\n      }\n      return {\n        ...state,\n        ...applyUpdate(state, action)\n      }\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  collections,\n  documents,\n  sharings,\n  synchronization\n})\n\nexport const fetchApps = (name, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_APP, RECEIVE_ERROR],\n  collection: name,\n  doctype: 'io.cozy.apps',\n  options,\n  skip,\n  promise: client => client.fetchApps(name, options, skip)\n})\n\nexport const fetchCollection = (name, doctype, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: name,\n  doctype,\n  options,\n  skip,\n  promise: client => client.fetchCollection(name, doctype, options, skip)\n})\n\nexport const fetchDocument = (doctype, id, options = {}) => ({\n  types: [FETCH_DOCUMENT, RECEIVE_DATA, RECEIVE_ERROR],\n  doctype,\n  id,\n  options,\n  promise: client => client.fetchDocument(doctype, id)\n})\n\nexport const fetchReferencedFiles = (doc, skip = 0) => ({\n  types: [FETCH_REFERENCED_FILES, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: `${doc._type}/${doc.id}#files`,\n  document: doc,\n  options: {},\n  skip,\n  promise: client => client.fetchReferencedFiles(doc, skip)\n})\n\nexport const fetchTriggers = (name, worker, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: name,\n  doctype: 'io.cozy.triggers',\n  options,\n  skip,\n  promise: client => client.fetchTriggers(name, worker, options, skip)\n})\n\nexport const fetchKonnectors = (name, options = {}, skip = 0) => ({\n  types: [FETCH_COLLECTION, RECEIVE_DATA, RECEIVE_ERROR],\n  collection: name,\n  doctype: 'io.cozy.konnectors',\n  options,\n  skip,\n  promise: client => client.fetchKonnectors(name, options, skip)\n})\n\nexport const createDocument = (doctype, doc, actionOptions = {}) => ({\n  types: [CREATE_DOCUMENT, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  doctype,\n  document: doc,\n  promise: client => client.createDocument(doctype, doc),\n  ...actionOptions\n})\n\nexport const createTrigger = (doc, actionOptions = {}) => ({\n  types: [CREATE_DOCUMENT, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.createTrigger(doc),\n  ...actionOptions\n})\n\nexport const launchTrigger = (trigger, actionOptions = {}) => ({\n  types: [LAUNCH_TRIGGER, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  trigger: trigger,\n  promise: client => client.launchTrigger(trigger),\n  ...actionOptions\n})\n\nexport const updateDocument = (doc, actionOptions = {}) => ({\n  types: [UPDATE_DOCUMENT, RECEIVE_UPDATED_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.updateDocument(doc),\n  ...actionOptions\n})\n\nexport const deleteDocument = (doc, actionOptions = {}) => ({\n  types: [DELETE_DOCUMENT, RECEIVE_DELETED_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.deleteDocument(doc),\n  ...actionOptions\n})\n\nexport const deleteTrigger = (doc, actionOptions = {}) => ({\n  types: [DELETE_DOCUMENT, RECEIVE_DELETED_DOCUMENT, RECEIVE_ERROR],\n  document: doc,\n  promise: client => client.deleteTrigger(doc),\n  ...actionOptions\n})\n\nexport const createFile = (file, dirID, actionOptions = {}) => ({\n  types: [CREATE_DOCUMENT, RECEIVE_NEW_DOCUMENT, RECEIVE_ERROR],\n  doctype: 'io.cozy.files',\n  promise: client => client.createFile(file, dirID),\n  ...actionOptions\n})\n\nexport const trashFile = (file, actionOptions = {}) => ({\n  types: [DELETE_DOCUMENT, RECEIVE_DELETED_DOCUMENT, RECEIVE_ERROR],\n  document: file,\n  promise: client => client.trashFile(file),\n  ...actionOptions\n})\n\nexport const addReferencedFiles = (doc, ids) => ({\n  type: ADD_REFERENCED_FILES,\n  collection: `${doc._type}/${doc._id}#files`,\n  document: doc,\n  ids,\n  promise: client => client.addReferencedFiles(doc, ids)\n})\n\nexport const removeReferencedFiles = (doc, ids) => ({\n  type: REMOVE_REFERENCED_FILES,\n  collection: `${doc._type}/${doc._id}#files`,\n  document: doc,\n  ids,\n  promise: client => client.removeReferencedFiles(doc, ids)\n})\n\nexport const makeActionCreator = promise => ({ promise })\n\nexport const makeFetchMoreAction = (\n  { types, collection, document, doctype, options },\n  skip\n) =>\n  types[0] === FETCH_REFERENCED_FILES\n    ? fetchReferencedFiles(document, skip)\n    : fetchCollection(collection, doctype, options, skip)\n\nexport const applySelectorForAction = (state, action) => {\n  switch (action.types[0]) {\n    case FETCH_COLLECTION:\n    case FETCH_REFERENCED_FILES:\n      return getCollection(state, action.collection)\n    case FETCH_DOCUMENT:\n      return getDocument(state, action.doctype, action.id)\n    case FETCH_SHARINGS:\n      return action.id\n        ? getSharingDetails(state, action.doctype, action.id, action.options)\n        : getSharings(state, action.doctype, action.options)\n    default:\n      return null\n  }\n}\n\nexport const enhancePropsForActions = (props, fetchActions, dispatch) =>\n  mapValues(fetchActions, (action, propName) => {\n    const dataObject = props[propName]\n    switch (action.types[0]) {\n      case FETCH_COLLECTION:\n      case FETCH_REFERENCED_FILES:\n        return {\n          ...dataObject,\n          fetchMore: dataObject.hasMore\n            ? () =>\n                dispatch(makeFetchMoreAction(action, dataObject.data.length))\n            : null\n        }\n      default:\n        return dataObject\n    }\n  })\n\n// selectors\nconst mapDocumentsToIds = (documents, doctype, ids) =>\n  ids.map(id => documents[doctype][id])\n\nexport const getCollection = (state, name) => {\n  const collection = state.cozy.collections[name]\n  if (!collection) {\n    return { ...collectionInitialState, data: null }\n  }\n  return {\n    ...collection,\n    data: mapDocumentsToIds(\n      state.cozy.documents,\n      collection.type,\n      collection.ids\n    )\n  }\n}\n\nexport const getDocument = (state, doctype, id) => {\n  const documents = state.cozy.documents[doctype]\n  if (!documents) {\n    return null\n  }\n  return documents[id]\n}\n\nexport const isCollectionFetched = (state, name) =>\n  state.cozy.collections[name] &&\n  state.cozy.collections[name].fetchStatus === 'loaded'\n","/* global cozy */\n\nconst slugify = text =>\n  text\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/[^\\w-]+/g, '') // Remove all non-word chars\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, '') // Trim - from end of text\n\nconst forceFileDownload = (href, filename) => {\n  const element = document.createElement('a')\n  element.setAttribute('href', href)\n  element.setAttribute('download', filename)\n  element.style.display = 'none'\n  document.body.appendChild(element)\n  element.click()\n  document.body.removeChild(element)\n}\n\n// async helpers: they interact with the stack but not with the store\nexport const downloadArchive = async (notSecureFilename, fileIds) => {\n  const filename = slugify(notSecureFilename)\n  const href = await cozy.client.files.getArchiveLinkByIds(fileIds, filename)\n  const fullpath = await cozy.client.fullpath(href)\n  forceFileDownload(fullpath, filename + '.zip')\n}\n\nexport const downloadFile = async file => {\n  const response = await cozy.client.files.downloadById(file.id)\n  const blob = await response.blob()\n  forceFileDownload(window.URL.createObjectURL(blob), file.name)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-appointment_309fbdd60363a2990bc5d8a4200c2bf8\",\n  \"use\": \"icon-appointment_309fbdd60363a2990bc5d8a4200c2bf8-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-appointment_309fbdd60363a2990bc5d8a4200c2bf8\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"#95999D\\\"><path d=\\\"M9 5H1v42h46V5h-8\\\" /><path d=\\\"M15 9H9V1h6zM39 9h-6V1h6zM15 5h18M1 15h46\\\" /></g><g stroke=\\\"currentColor\\\"><path d=\\\"M19 39V23l-4 4M15 39h8M28 39l6-16H24v2M27 31h6\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","module.exports = \"/img/connected-accounts.svg\";","import React, { Component } from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { isKonnectorTwoFAError } from 'lib/konnectors'\nimport Button from 'cozy-ui/react/Button'\nimport Icon from 'cozy-ui/react/Icon'\nimport Infos from 'cozy-ui/react/Infos'\nimport PropTypes from 'prop-types'\nimport { TriggerLauncher } from 'cozy-harvest-lib'\n\nimport { getMostAccurateErrorKey, isKonnectorKnownError } from 'lib/konnectors'\n\nexport class ErrorMessage extends Component {\n  constructor(props) {\n    super(props)\n    this.renderButton = this.renderButton.bind(this)\n    this.getErrorTitle = this.getErrorTitle.bind(this)\n    this.getErrorDescription = this.getErrorDescription.bind(this)\n  }\n\n  renderButton(error) {\n    const { t, isKonnectorRunning, trigger } = this.props\n    if (isKonnectorTwoFAError(error)) {\n      return (\n        <TriggerLauncher trigger={trigger} submitting={isKonnectorRunning}>\n          {({ launch, running }) => (\n            <Button\n              label={t('connection.CTA.twofa_failed')}\n              icon={<Icon focusable=\"false\" icon=\"sync\" spin={running} />}\n              theme=\"secondary\"\n              className=\"u-m-0\"\n              disabled={running}\n              onClick={launch}\n            />\n          )}\n        </TriggerLauncher>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getErrorTitle() {\n    const { t, error } = this.props\n    return t(\n      getMostAccurateErrorKey(t, error, key => `connection.error.${key}.title`)\n    )\n  }\n\n  getErrorDescription() {\n    const { t, konnector, error } = this.props\n    return t(\n      getMostAccurateErrorKey(\n        t,\n        error,\n        key => `connection.error.${key}.description`\n      ),\n      {\n        name: konnector.name,\n        link: konnector.vendor_link\n      }\n    )\n  }\n\n  render() {\n    const { t, konnector, error } = this.props\n\n    if (!isKonnectorKnownError(error)) {\n      return (\n        <Infos\n          className=\"u-maw-none\"\n          text={t('connection.error.default.description', {\n            name: konnector.name\n          })}\n          title={t('connection.error.default.title')}\n          isImportant\n        />\n      )\n    }\n\n    // FIXME temporarily, only for EDF\n    if (konnector.slug === 'edf') {\n      return (\n        <Infos\n          className=\"u-maw-none\"\n          text={t('status.edf.maintenance', {\n            supportLink: t('status.edf.support_link')\n          })}\n          title={t('status.interrupted')}\n          isImportant\n        />\n      )\n    }\n\n    return (\n      <Infos\n        actionButton={this.renderButton(error)}\n        className=\"u-maw-none\"\n        text={this.getErrorDescription(error)}\n        isImportant\n        title={this.getErrorTitle(error)}\n      />\n    )\n  }\n}\n\nErrorMessage.propTypes = {\n  isKonnectorRunning: PropTypes.bool,\n  error: PropTypes.object.isRequired,\n  konnector: PropTypes.object.isRequired,\n  t: PropTypes.func.isRequired,\n  /**\n   * The trigger to launch\n   */\n  trigger: PropTypes.object.isRequired\n}\n\nexport default translate()(ErrorMessage)\n","import React from 'react'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport Icon from 'cozy-ui/react/Icon'\n\nimport styles from 'styles/dataItem'\n\nexport const DataItem = ({ t, dataType }) => {\n  let icon\n  try {\n    icon = require(`../assets/sprites/icon-${dataType}.svg`).default\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `Unable to load the icon ../assets/sprites/icon-${dataType}.svg : ${\n        error.message\n      }`\n    )\n  }\n\n  if (!icon) {\n    try {\n      icon = require('../assets/sprites/icon-fallback.svg').default\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error('Default icon icon-fallback.svg cannot be loaded')\n    }\n  }\n\n  return (\n    <li className={styles['col-data-item']}>\n      {icon && (\n        <Icon\n          className={styles['col-data-item-icon']}\n          icon={icon}\n          width=\"32px\"\n          height=\"32px\"\n        />\n      )}\n      {t(`dataType.${dataType}`)}\n    </li>\n  )\n}\n\nexport default translate()(DataItem)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-pin-active_85c94b69ac63dfedefa240f8d3d8961c\",\n  \"use\": \"icon-pin-active_85c94b69ac63dfedefa240f8d3d8961c-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-pin-active_85c94b69ac63dfedefa240f8d3d8961c\\\"><path fill=\\\"#297EF2\\\" d=\\\"M4 1c0-.552.453-1 .997-1h6.006c.55 0 .997.444.997 1 0 .552-.453 1-.997 1H11v4l2 2v2H9v6H7v-6H3V8l2-2V2c-.552 0-1-.444-1-1z\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { introJs } from 'intro.js-fix-cozy'\nimport { shouldEnableTracking, getTracker } from 'cozy-ui/react/helpers/tracker'\n\nexport function isTutorial() {\n  return window.location.pathname.endsWith('/intro')\n}\n\nexport function display(t) {\n  const appsPanel = document.querySelectorAll('[data-tutorial=home-apps]')[0]\n  const servicesPanel = document.querySelectorAll(\n    '[data-tutorial=home-services]'\n  )[0]\n\n  for (const element in [appsPanel, servicesPanel]) {\n    if (!element) throw new Error('Missing tutorial element.')\n  }\n\n  const trackerInstance = getTracker()\n  const shouldTrackTutorial = shouldEnableTracking() && trackerInstance\n  const pageURLsForTracking = [\n    'tutorial/automate',\n    'tutorial/apps',\n    'tutorial/complete'\n  ]\n  const tutorial = introJs()\n  tutorial\n    .setOptions({\n      overlayOpacity: 0.75,\n      showBullets: false,\n      hidePrev: true,\n      hideNext: true,\n      exitOnEsc: false,\n      exitOnOverlayClick: false,\n      disableInteraction: true,\n      doneLabel: `${t('tutorial.home.services.button')}`,\n      nextLabel: `${t('tutorial.home.apps.button')}`,\n      steps: [\n        {\n          element: appsPanel,\n          intro: `<h1>${t('tutorial.home.apps.title')}</h1><div>${t(\n            'tutorial.home.apps.text'\n          )}</div>`,\n          tooltipClass: 'tooltipApps',\n          position: 'bottom'\n        },\n        {\n          element: servicesPanel,\n          intro: `<h1>${t('tutorial.home.services.title')}</h1><div>${t(\n            'tutorial.home.services.text'\n          )}</div>`,\n          position: 'bottom'\n        }\n      ]\n    })\n    .onafterchange(targetElement => {\n      if (shouldTrackTutorial) {\n        let stepIndex\n        let steps = tutorial._options.steps\n        for (let i = 0, l = steps.length; i < l; ++i) {\n          if (steps[i].element === targetElement) {\n            stepIndex = i\n            break\n          }\n        }\n\n        const trackingURL = pageURLsForTracking[stepIndex]\n        trackerInstance.push(['setCustomUrl', trackingURL])\n        trackerInstance.push(['trackPageView'])\n      }\n\n      // The intro.js button for the last step is hidden, so we need to show it when we arrive on it\n      const doneButton = document.querySelectorAll('.introjs-donebutton')[0]\n      if (!doneButton) return // step 1, no done button yet\n\n      if (targetElement.className === servicesPanel.className) {\n        doneButton.classList.remove('introjs-skipbutton')\n      } else {\n        doneButton.classList.add('introjs-skipbutton')\n      }\n    })\n    .oncomplete(() => {\n      if (shouldTrackTutorial) {\n        trackerInstance.push([\n          'setCustomUrl',\n          pageURLsForTracking[pageURLsForTracking.length - 1]\n        ])\n        trackerInstance.push(['trackPageView'])\n      }\n\n      // When a click occurs on the last tutorial button, it seems that there\n      // is some kind of conflict or event capture that block the click() call\n      // on cozyBarMenuButton. So we must delay a little bit this call. It is\n      // really dirty and hackish and we should instead call directly a method\n      // on the Cozy-Bar to show the app panel.\n      setTimeout(() => servicesPanel.click(), 10)\n      window.location.hash = '#/connected'\n    })\n    .start()\n  const clickZone =\n    '.introjs-disableInteraction, .introjs-overlay, .introjs-tooltiptext, .introjs-tooltipbuttons'\n  const clickAction = e => {\n    if (e.target.tagName !== 'A') {\n      e.stopPropagation()\n      tutorial.nextStep()\n    }\n  }\n  for (const elem of document.querySelectorAll(clickZone)) {\n    elem.onclick = clickAction\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport AppIcon from 'cozy-ui/react/AppIcon'\nimport AppLinker from 'cozy-ui/react/AppLinker'\n\nexport class AppTile extends Component {\n  render() {\n    const { app, t } = this.props\n    const { domain, secure } = this.context\n    const displayName = app.name_prefix\n      ? `${app.name_prefix} ${app.name}`\n      : app.name\n    const appHref = app.links && app.links.related\n    return (\n      <AppLinker slug={app.slug} href={appHref}>\n        {({ onClick, href }) => (\n          <a onClick={onClick} href={href} className=\"item-wrapper\">\n            <div className=\"item-icon\">\n              <AppIcon\n                alt={t('app.logo.alt', { name: displayName })}\n                app={app}\n                domain={domain}\n                secure={secure}\n              />\n            </div>\n            <h3 className=\"item-title\">{displayName}</h3>\n          </a>\n        )}\n      </AppLinker>\n    )\n  }\n}\n\nAppTile.contextTypes = {\n  domain: PropTypes.string.isRequired,\n  secure: PropTypes.bool\n}\n\nexport default translate()(AppTile)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-new_3e13d5d94da20a11c7569e3ff2cb4968\",\n  \"use\": \"icon-new_3e13d5d94da20a11c7569e3ff2cb4968-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-new_3e13d5d94da20a11c7569e3ff2cb4968\\\"><defs><path id=\\\"icon-new_3e13d5d94da20a11c7569e3ff2cb4968_a\\\" d=\\\"M2.032 9.205a.48.48 0 0 1-.48-.476c-.002-.176-.064-1.045-1.04-1.045a.479.479 0 0 1 0-.958c.17-.003 1.042-.065 1.042-1.042a.479.479 0 1 1 .958 0c.002.171.065 1.042 1.042 1.042a.479.479 0 1 1 0 .958c-.172.002-1.042.065-1.042 1.042a.479.479 0 0 1-.48.479zm12 2a.479.479 0 0 1-.48-.477c-.003-.175-.066-1.044-1.041-1.044a.479.479 0 1 1 0-.958c.17-.003 1.042-.065 1.042-1.042a.479.479 0 1 1 .957 0c.003.171.066 1.042 1.042 1.042a.479.479 0 0 1 0 .958c-.17.003-1.042.065-1.042 1.042a.48.48 0 0 1-.479.479zM7.031 6a.531.531 0 0 1-.531-.531A1.94 1.94 0 0 0 4.563 3.53a.531.531 0 0 1 0-1.062A1.94 1.94 0 0 0 6.501.53a.531.531 0 0 1 1.062 0A1.94 1.94 0 0 0 9.5 2.47a.532.532 0 0 1 0 1.062A1.94 1.94 0 0 0 7.563 5.47a.531.531 0 0 1-.531.53zM6 3c.39.27.73.61 1 1 .27-.39.61-.73 1-1a3.96 3.96 0 0 1-1-1c-.27.39-.61.73-1 1zm3 13a.531.531 0 0 1-.532-.53 1.94 1.94 0 0 0-1.937-1.938.531.531 0 1 1 0-1.063 1.939 1.939 0 0 0 1.937-1.937.532.532 0 1 1 1.063 0 1.94 1.94 0 0 0 1.938 1.937.531.531 0 0 1 0 1.063A1.94 1.94 0 0 0 9.53 15.47.532.532 0 0 1 9 16zm-1-3c.39.27.73.61 1 1 .27-.39.61-.73 1-1a3.96 3.96 0 0 1-1-1c-.27.39-.61.73-1 1z\\\" /></defs><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><mask id=\\\"icon-new_3e13d5d94da20a11c7569e3ff2cb4968_b\\\" fill=\\\"#fff\\\"><use xlink:href=\\\"#icon-new_3e13d5d94da20a11c7569e3ff2cb4968_a\\\" /></mask><use fill=\\\"#297EF1\\\" fill-rule=\\\"nonzero\\\" xlink:href=\\\"#icon-new_3e13d5d94da20a11c7569e3ff2cb4968_a\\\" /><g mask=\\\"url(#icon-new_3e13d5d94da20a11c7569e3ff2cb4968_b)\\\"><path d=\\\"M0 0h16v16H0z\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-picture_144a590e5d26927945f869f9b3df6955\",\n  \"use\": \"icon-picture_144a590e5d26927945f869f9b3df6955-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-picture_144a590e5d26927945f869f9b3df6955\\\"><defs><path d=\\\"M13 0h13v17a3 3 0 0 1-3 3H0V0h32v26H0V0h13z\\\" id=\\\"icon-picture_144a590e5d26927945f869f9b3df6955_a\\\" /><path d=\\\"M13 0h13v17a3 3 0 0 1-3 3H0V0h32v26H0V0h13z\\\" id=\\\"icon-picture_144a590e5d26927945f869f9b3df6955_c\\\" /></defs><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(8 11)\\\"><mask id=\\\"icon-picture_144a590e5d26927945f869f9b3df6955_b\\\" fill=\\\"#fff\\\"><use xlink:href=\\\"#icon-picture_144a590e5d26927945f869f9b3df6955_a\\\" /></mask><rect fill=\\\"#8EE39B\\\" mask=\\\"url(#icon-picture_144a590e5d26927945f869f9b3df6955_b)\\\" width=\\\"32\\\" height=\\\"26\\\" rx=\\\"2\\\" /><path d=\\\"M0 20l6.29-6.29a.999.999 0 0 1 1.416-.004L11 17l8.294-8.294a1.003 1.003 0 0 1 1.412 0L32 20v4.002C32 25.106 31.11 26 29.998 26H2.002A2.002 2.002 0 0 1 0 24.002V20z\\\" fill=\\\"#1EC737\\\" mask=\\\"url(#icon-picture_144a590e5d26927945f869f9b3df6955_b)\\\" /></g><g transform=\\\"translate(16 19)\\\"><mask id=\\\"icon-picture_144a590e5d26927945f869f9b3df6955_d\\\" fill=\\\"#fff\\\"><use xlink:href=\\\"#icon-picture_144a590e5d26927945f869f9b3df6955_c\\\" /></mask><rect fill=\\\"#8EE39B\\\" mask=\\\"url(#icon-picture_144a590e5d26927945f869f9b3df6955_d)\\\" width=\\\"32\\\" height=\\\"26\\\" rx=\\\"2\\\" /><path d=\\\"M0 20l6.29-6.29a.999.999 0 0 1 1.416-.004L11 17l8.294-8.294a1.003 1.003 0 0 1 1.412 0L32 20v4.002C32 25.106 31.11 26 29.998 26H2.002A2.002 2.002 0 0 1 0 24.002V20z\\\" fill=\\\"#1EC737\\\" mask=\\\"url(#icon-picture_144a590e5d26927945f869f9b3df6955_d)\\\" /></g><g transform=\\\"translate(0 3)\\\"><rect fill=\\\"#8EE39B\\\" width=\\\"32\\\" height=\\\"26\\\" rx=\\\"2\\\" /><path d=\\\"M0 20l6.29-6.29a.999.999 0 0 1 1.416-.004L11 17l8.294-8.294a1.003 1.003 0 0 1 1.412 0L32 20v4.002C32 25.106 31.11 26 29.998 26H2.002A2.002 2.002 0 0 1 0 24.002V20z\\\" fill=\\\"#1EC737\\\" /><circle fill=\\\"#FFF\\\" cx=\\\"8\\\" cy=\\\"7\\\" r=\\\"3\\\" /><path d=\\\"M11 16l-5.5 5.5L11 16z\\\" stroke=\\\"#8EE39B\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-connection-content\":\"col-account-connection-content--Jta1z\",\"col-account-connection-fetching\":\"col-account-connection-fetching--3rtXV\",\"col-account-connection-security\":\"col-account-connection-security--1I2Yb\",\"col-account-connection-editor\":\"col-account-connection-editor--1sA6J\"};","var map = {\n\t\"./en\": \"7dT6\",\n\t\"./en.json\": \"7dT6\",\n\t\"./es\": \"oway\",\n\t\"./es.json\": \"oway\",\n\t\"./fr\": \"9pOX\",\n\t\"./fr.json\": \"9pOX\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"KAKi\";","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-contact_5faab06a87fda2312defa5e3fb266c26\",\n  \"use\": \"icon-contact_5faab06a87fda2312defa5e3fb266c26-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-contact_5faab06a87fda2312defa5e3fb266c26\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FFD799\\\" d=\\\"M32 25.995A1.997 1.997 0 0 1 30.002 28H24v-2.5c0-.828-.666-1.5-1.5-1.5-.828 0-1.5.679-1.5 1.5V28H11v-2.5c0-.828-.666-1.5-1.5-1.5-.828 0-1.5.679-1.5 1.5V28H1.998A2.001 2.001 0 0 1 0 25.995V6.005C0 4.898.89 4 2.002 4h27.996C31.104 4 32 4.897 32 6.005v19.99z\\\" /><path fill=\\\"#FF9300\\\" d=\\\"M17 9h6v1h-6V9zm0 3h11v1H17v-1zm0 3h11v1H17v-1zm0 3h11v1H17v-1zm-8-3.25c-1.657 0-3-1.511-3-3.375S7.343 8 9 8s3 1.511 3 3.375-1.343 3.375-3 3.375zM3 18.5c0-.75 1.5-3 3-3s.75.75 3 .75 1.5-.75 3-.75 3 2.25 3 3 0 1.5-.75 1.5H3.75C3 20 3 19.25 3 18.5z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-sleepTime_6fbfbb66834f8407aa5eb1285250fe05\",\n  \"use\": \"icon-sleepTime_6fbfbb66834f8407aa5eb1285250fe05-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-sleepTime_6fbfbb66834f8407aa5eb1285250fe05\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M37 38v-9c0-5.406-3.304-10.04-8-12 0-2.762-2.242-5-5-5-2.766 0-5 2.238-5 5-4.702 1.96-8 6.594-8 12v9a4 4 0 0 1-4 4h34c-2.21 0-4-1.79-4-4h0zm-9 4a4 4 0 0 1-8 0\\\" stroke=\\\"#95999D\\\" /><g stroke=\\\"currentColor\\\"><path d=\\\"M1 12h6l-6 6h6M19 2h4l-4 4h4M39 6h8l-8 8h8\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport { DeleteAccountButton } from 'cozy-harvest-lib'\n\nimport styles from 'styles/accountLogout'\n\nexport const AccountLogout = ({ t, account, onError, onSuccess }) => {\n  return (\n    <div className={styles['col-account-form-delete']}>\n      <h4>{t('account.disconnect.title')}</h4>\n      <p>{t('account.disconnect.description')}</p>\n      <DeleteAccountButton\n        account={account}\n        onSuccess={onSuccess}\n        onError={onError}\n        extension=\"full\"\n      />\n    </div>\n  )\n}\n\nexport default translate()(AccountLogout)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-stepsNumber_2e0bcaf606b335dbd5873dd7a3cc8143\",\n  \"use\": \"icon-stepsNumber_2e0bcaf606b335dbd5873dd7a3cc8143-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-stepsNumber_2e0bcaf606b335dbd5873dd7a3cc8143\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"#95999D\\\"><path d=\\\"M19 26l26.672 9.528A1.998 1.998 0 0 1 47 37.41V42H1V28a2 2 0 0 1 2-2h2c0 1.658 3.512 3 7 3 4.418 0 7-1.342 7-3h0zM1 38h46M24.15 27.84L22 30m5.84-.842L26 31\\\" /><path d=\\\"M35 31.715C35 32.82 34.104 34 33 34h-6c-1.658 0-3 1.342-3 3v1M7 38c0-3.312-2.688-6-6-6\\\" /></g><g stroke=\\\"currentColor\\\"><path d=\\\"M29 22L2.326 12.472A1.993 1.993 0 0 1 1 10.592V6h46v14a2 2 0 0 1-2 2h-2c0-1.656-3.516-3-7-3-4.42 0-7 1.344-7 3h0zm18-12H1m22.848 10.16L26 18m-5.844.842L22 17\\\" /><path d=\\\"M13 16.285c0-1.104.894-2.286 2-2.286h6a3 3 0 0 0 3-3v-1M41 10c0 3.314 2.684 6 6 6\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nimport * as accounts from 'lib/accounts'\nimport * as jobs from 'lib/jobs'\nimport * as triggers from 'lib/triggers'\n\nexport const CONNECTION_STATUS = {\n  ERRORED: 'errored',\n  RUNNING: 'running',\n  CONNECTED: 'connected'\n}\n\nconst normalize = (dbObject, doctype) => {\n  return {\n    ...dbObject,\n    ...dbObject.attributes,\n    id: dbObject._id,\n    _type: doctype || dbObject._type\n  }\n}\n\nexport default class CollectStore {\n  constructor(context, options = {}) {\n    this.listener = null\n    this.options = options\n\n    this.categories = require('../config/categories')\n    this.banksUrl = null\n\n    this.initializeRealtime()\n  }\n\n  async initializeRealtime() {\n    jobs\n      .subscribeAll(cozy.client)\n      .then(subscription => {\n        subscription\n          .onCreate(job => this.updateUnfinishedJob(job))\n          .onUpdate(job => this.updateUnfinishedJob(job))\n      })\n      .catch(error => {\n        // eslint-disable-next-line no-console\n        console.warn(`Cannot initialize realtime for jobs: ${error.message}`)\n      })\n\n    // Not really consistent code style but we try to use only async/await now.\n    const realtimeAccounts = await accounts.subscribeAll(cozy.client)\n    realtimeAccounts.onCreate(account => this.onAccountCreated(account))\n    realtimeAccounts.onUpdate(account => this.onAccountUpdated(account))\n    realtimeAccounts.onDelete(trigger => this.onAccountDeleted(trigger))\n\n    const realtimeTriggers = await triggers.subscribeAll(cozy.client)\n    realtimeTriggers.onCreate(trigger => this.onTriggerCreated(trigger))\n    realtimeTriggers.onDelete(trigger => this.deleteTrigger(trigger))\n  }\n\n  async onAccountCreated(account) {\n    this.dispatch({\n      type: 'RECEIVE_NEW_DOCUMENT',\n      response: { data: [normalize(account, 'io.cozy.accounts')] },\n      updateCollections: ['accounts']\n    })\n  }\n\n  async onAccountUpdated(account) {\n    this.dispatch({\n      type: 'RECEIVE_UPDATED_DOCUMENT',\n      response: { data: [normalize(account, 'io.cozy.accounts')] },\n      updateCollections: ['accounts']\n    })\n  }\n\n  async onAccountDeleted(account) {\n    this.dispatch({\n      type: 'RECEIVE_DELETED_DOCUMENT',\n      response: { data: [normalize(account, 'io.cozy.accounts')] },\n      updateCollections: ['accounts']\n    })\n  }\n\n  async onTriggerCreated(trigger) {\n    this.dispatch({\n      type: 'RECEIVE_NEW_DOCUMENT',\n      response: { data: [normalize(trigger, 'io.cozy.triggers')] },\n      updateCollections: ['triggers']\n    })\n  }\n\n  async onTriggerUpdated(trigger) {\n    this.dispatch({\n      type: 'RECEIVE_UPDATED_DOCUMENT',\n      response: { data: [normalize(trigger, 'io.cozy.triggers')] },\n      updateCollections: ['triggers']\n    })\n  }\n\n  async deleteTrigger(trigger) {\n    this.dispatch({\n      type: 'RECEIVE_DELETED_DOCUMENT',\n      response: { data: [normalize(trigger, 'io.cozy.triggers')] },\n      updateCollections: ['triggers']\n    })\n  }\n\n  async updateUnfinishedJob(job) {\n    const normalizedJob = normalize(job, 'io.cozy.jobs')\n    // TODO Filter by worker on the WebSocket when it will be available in the\n    // stack\n    const isKonnectorJob = normalizedJob.worker === 'konnector'\n    const isDeletedAccountHookJob = !!normalizedJob.account_deleted\n    if (!isKonnectorJob || isDeletedAccountHookJob) {\n      return\n    }\n\n    this.dispatch({\n      type: 'RECEIVE_NEW_DOCUMENT',\n      response: { data: [normalizedJob] },\n      updateCollections: ['jobs']\n    })\n    const trigger = await triggers.fetch(cozy.client, normalizedJob.trigger_id)\n    this.onTriggerUpdated(trigger)\n  }\n\n  // Get the drive and banks application url using the list of application\n  fetchUrls() {\n    return cozy.client\n      .fetchJSON('GET', '/apps/')\n      .then(body => {\n        body.forEach(item => {\n          if (!item.attributes || !item.attributes.slug || !item.links) return\n          switch (item.attributes.slug) {\n            case 'banks':\n              this.banksUrl = `${item.links.related}`\n              break\n            default:\n              break\n          }\n        })\n      })\n      .catch(err => {\n        // eslint-disable-next-line no-console\n        console.warn(err.message)\n        return false\n      })\n  }\n\n  createIntentService(intent, window) {\n    return cozy.client.intents.createService(intent, window)\n  }\n}\n","/* global cozy, __DEVELOPMENT__ */\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { CozyClient, CozyProvider } from 'redux-cozy-client'\nimport 'url-search-params-polyfill'\nimport 'cozy-ui/transpiled/react/stylesheet.css'\n\nimport MostRecentCozyClient, {\n  CozyProvider as MostRecentCozyClientProvider\n} from 'cozy-client'\nimport { Application } from 'cozy-doctypes'\nimport { handleOAuthResponse } from 'cozy-harvest-lib'\nimport I18n from 'cozy-ui/react/I18n'\n\nimport collectConfig from 'config/collect'\nimport PiwikHashRouter from 'lib/PiwikHashRouter'\nimport configureStore from 'store/configureStore'\nimport 'intro.js-fix-cozy/minified/introjs.min.css'\nimport 'styles/index.styl'\n\nconst lang = document.documentElement.getAttribute('lang') || 'en'\nconst context = window.context || 'cozy'\n\nconst ACCOUNTS_DOCTYPE = 'io.cozy.accounts'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (handleOAuthResponse()) return\n\n  const root = document.querySelector('[role=application]')\n  const data = root.dataset\n\n  const client = new CozyClient({\n    cozyURL: `//${data.cozyDomain}`,\n    token: data.cozyToken\n  })\n\n  // New improvements must be done with CozyClient\n  const cozyClient = new MostRecentCozyClient({\n    uri: `${window.location.protocol}//${data.cozyDomain}`,\n    schema: {\n      app: Application.schema,\n      accounts: {\n        doctype: ACCOUNTS_DOCTYPE,\n        attributes: {},\n        relationships: {\n          master: {\n            type: 'has-one',\n            doctype: ACCOUNTS_DOCTYPE\n          }\n        }\n      },\n      permissions: {\n        doctype: 'io.cozy.permissions',\n        attributes: {}\n      }\n    },\n    token: data.cozyToken\n  })\n\n  cozy.bar.init({\n    appEditor: data.cozyAppEditor,\n    appName: data.cozyAppName,\n    cozyClient,\n    iconPath: data.cozyIconPath,\n    lang: data.cozyLocale,\n    replaceTitleOnMobile: false\n  })\n\n  // store\n  const store = configureStore(client, context, {\n    lang,\n    ...collectConfig\n  })\n\n  const dictRequire = lang => require(`locales/${lang}`)\n  const App = require('containers/App').default\n  render(\n    <MostRecentCozyClientProvider client={cozyClient}>\n      <CozyProvider\n        store={store}\n        client={cozyClient}\n        domain={data.cozyDomain}\n        secure={!__DEVELOPMENT__}\n      >\n        <I18n lang={lang} dictRequire={dictRequire} context={context}>\n          <PiwikHashRouter>\n            <App {...collectConfig} />\n          </PiwikHashRouter>\n        </I18n>\n      </CozyProvider>\n    </MostRecentCozyClientProvider>,\n    document.querySelector('[role=application]')\n  )\n})\n","import React from 'react'\n\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport ReactMarkdownWrapper from 'components/ReactMarkdownWrapper'\nimport styles from 'styles/konnectorMaintenance'\n\nconst KonnectorMaintenance = ({ t, maintenance, lang, konnectorName }) => (\n  <div className={styles['maintenance']}>\n    <div className={styles['maintenance-intro']}>\n      <div className={styles['maintenance-icon']} />\n      <h3 className={styles['maintenance-service']}>\n        {t('maintenance.service')}\n      </h3>\n      <p className={styles['maintenance-problem']}>\n        {t('maintenance.problem', { konnectorName })}\n      </p>\n    </div>\n    <h4 className={styles['maintenance-title']}>{t('maintenance.title')}</h4>\n    <ReactMarkdownWrapper\n      className={styles['maintenance-message']}\n      source={maintenance.message[lang] || maintenance.message['en']}\n    />\n  </div>\n)\n\nexport default translate()(KonnectorMaintenance)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-form-delete\":\"col-account-form-delete--3lmv-\",\"coz-btn\":\"coz-btn--3hk7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-edit-content\":\"col-account-edit-content--2Kupc\",\"item-status-icon\":\"item-status-icon--39_CH\",\"col-account-edit-tabs\":\"col-account-edit-tabs--35Xdl\",\"col-account-edit-tabpanel\":\"col-account-edit-tabpanel--38qU4\",\"col-account-edit-tab\":\"col-account-edit-tab--1mPGu\",\"col-account-connection-editor\":\"col-account-connection-editor--1wGM3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-description-title\":\"col-account-description-title--vVTHU\",\"col-account-description-title-centered\":\"col-account-description-title-centered--32S1O\",\"col-account-description-message\":\"col-account-description-message--ZyZtK\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-check_c894f598bf1dbc10b016bc00ea94b42c\",\n  \"use\": \"icon-check_c894f598bf1dbc10b016bc00ea94b42c-usage\",\n  \"viewBox\": \"0 0 24 24\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" id=\\\"icon-check_c894f598bf1dbc10b016bc00ea94b42c\\\"><path d=\\\"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zM6.707 12.293a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0l7.5-7.5a1 1 0 0 0-1.414-1.414L9.5 15.086l-2.793-2.793z\\\" fill=\\\"#2bba40\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coz-loading-placeholder\":\"coz-loading-placeholder--iKREi\",\"placeHolderShimmer\":\"placeHolderShimmer--25Y66\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-temperature_b60f624917b82335bd83107030530492\",\n  \"use\": \"icon-temperature_b60f624917b82335bd83107030530492-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-temperature_b60f624917b82335bd83107030530492\\\"><g stroke-width=\\\"2\\\" transform=\\\"translate(17 1)\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"#95999D\\\" d=\\\"M10 35.528V4a4 4 0 1 0-8 0v31.528a6 6 0 1 0 8 0z\\\" /><circle cx=\\\"6\\\" cy=\\\"40\\\" r=\\\"2\\\" stroke=\\\"currentColor\\\" /><path stroke=\\\"currentColor\\\" d=\\\"M6 41V23\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-trigger-folder\":\"col-trigger-folder--3s1fX\",\"col-trigger-folder-link\":\"col-trigger-folder-link--2Fkdb\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-event_a9d7dcf1171e167fdc5b1544ec0e0758\",\n  \"use\": \"icon-event_a9d7dcf1171e167fdc5b1544ec0e0758-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-event_a9d7dcf1171e167fdc5b1544ec0e0758\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"#95999D\\\"><path d=\\\"M9 5H1v42h46V5h-8\\\" /><path d=\\\"M15 9H9V1h6zM39 9h-6V1h6zM15 5h18M1 15h46\\\" /></g><path stroke=\\\"currentColor\\\" d=\\\"M13 31l7 7 16-16\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nimport DataAccessFacade from './DataAccessFacade'\nimport { authenticateWithCordova } from './authentication/mobile'\n\nconst APPS_DOCTYPE = 'io.cozy.apps'\nconst FILES_DOCTYPE = 'io.cozy.files'\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\nconst KONNECTORS_DOCTYPE = 'io.cozy.konnectors'\nconst SHARINGS_DOCTYPE = 'io.cozy.sharings'\n\nexport default class CozyClient {\n  constructor(config) {\n    const { cozyURL, ...options } = config\n    this.options = options\n    this.indexes = {}\n    this.specialDirectories = {}\n    this.facade = new DataAccessFacade()\n    if (cozyURL) {\n      this.facade.setup(cozyURL, options)\n    }\n  }\n\n  register(cozyUrl) {\n    this.facade.setup(cozyUrl, {\n      ...this.options,\n      oauth: {\n        ...this.options.oauth,\n        onRegistered: (client, url) => authenticateWithCordova(url)\n      }\n    })\n    return cozy.client.authorize(true)\n  }\n\n  async isRegistered(clientInfos) {\n    if (!clientInfos) return false\n    try {\n      await cozy.client.auth.getClient(clientInfos)\n      return true\n    } catch (err) {\n      // this is the error sent if we are offline\n      if (err.message === 'Failed to fetch') {\n        return true\n      } else {\n        console.warn(err) // eslint-disable-line no-console\n        return false\n      }\n    }\n  }\n\n  startSync(dispatch) {\n    return this.facade.startSync(dispatch)\n  }\n\n  startReplicationTo(dispatch) {\n    return this.facade.startReplicationTo(dispatch)\n  }\n\n  startReplicationFrom(dispatch) {\n    return this.facade.startReplicationFrom(dispatch)\n  }\n\n  getAdapter(doctype) {\n    return this.facade.getAdapter(doctype)\n  }\n\n  async fetchApps() {\n    return this.getAdapter(APPS_DOCTYPE).fetchApps()\n  }\n\n  async fetchCollection(name, doctype, options = {}, skip = 0) {\n    if (options.selector) {\n      const index = await this.getCollectionIndex(name, doctype, options)\n      return this.getAdapter(doctype).queryDocuments(doctype, index, {\n        ...options,\n        skip\n      })\n    }\n    return this.getAdapter(doctype).fetchDocuments(doctype)\n  }\n\n  fetchDocument(doctype, id) {\n    return this.getAdapter(doctype).fetchDocument(doctype, id)\n  }\n\n  fetchFile(id) {\n    return this.getAdapter(FILES_DOCTYPE).fetchFile(id)\n  }\n\n  fetchReferencedFiles(doc, skip = 0) {\n    return this.getAdapter(doc._type).fetchReferencedFiles(doc, skip)\n  }\n\n  fetchTriggers(name, worker) {\n    return this.getAdapter(TRIGGERS_DOCTYPE).fetchTriggers(worker)\n  }\n\n  fetchKonnectors() {\n    return this.getAdapter(KONNECTORS_DOCTYPE).fetchKonnectors()\n  }\n\n  addReferencedFiles(doc, ids) {\n    return this.getAdapter(doc._type).addReferencedFiles(doc, ids)\n  }\n\n  removeReferencedFiles(doc, ids) {\n    return this.getAdapter(doc._type).removeReferencedFiles(doc, ids)\n  }\n\n  createDocument(doctype, doc) {\n    return this.getAdapter(doctype).createDocument(doctype, doc)\n  }\n\n  createTrigger(doc) {\n    return this.getAdapter(doc._type).createTrigger(doc)\n  }\n\n  launchTrigger(doc) {\n    return this.getAdapter(doc._type).launchTrigger(doc)\n  }\n\n  updateDocument(doc) {\n    return this.getAdapter(doc._type).updateDocument(doc)\n  }\n\n  deleteDocument(doc) {\n    return this.getAdapter(doc._type).deleteDocument(doc)\n  }\n\n  deleteTrigger(doc) {\n    return this.getAdapter(doc._type).deleteTrigger(doc)\n  }\n\n  async fetchSharings(doctype) {\n    const permissions = await this.getAdapter(doctype).fetchSharingPermissions(\n      doctype\n    )\n    const sharingIds = [\n      ...permissions.byMe.map(p => p.attributes.source_id),\n      ...permissions.withMe.map(p => p.attributes.source_id)\n    ]\n    const sharings = await Promise.all(\n      sharingIds.map(id => this.getAdapter(SHARINGS_DOCTYPE).fetchSharing(id))\n    )\n    return { permissions, sharings }\n  }\n\n  createSharing(permissions, contactIds, sharingType, description) {\n    return this.getAdapter(SHARINGS_DOCTYPE).createSharing(\n      permissions,\n      contactIds,\n      sharingType,\n      description\n    )\n  }\n\n  revokeSharing(sharingId) {\n    return this.getAdapter(SHARINGS_DOCTYPE).revokeSharing(sharingId)\n  }\n\n  revokeSharingForClient(sharingId, clientId) {\n    return this.getAdapter(SHARINGS_DOCTYPE).revokeSharingForClient(\n      sharingId,\n      clientId\n    )\n  }\n\n  createSharingLink(permissions) {\n    return this.getAdapter(SHARINGS_DOCTYPE).createSharingLink(permissions)\n  }\n\n  revokeSharingLink(permission) {\n    return this.getAdapter(SHARINGS_DOCTYPE).revokeSharingLink(permission)\n  }\n\n  createFile(file, dirID) {\n    return this.getAdapter(FILES_DOCTYPE).createFile(file, dirID)\n  }\n\n  trashFile(file) {\n    return this.getAdapter(FILES_DOCTYPE).trashFile(file)\n  }\n\n  async ensureDirectoryExists(path) {\n    if (!this.specialDirectories[path]) {\n      const dir = await cozy.client.files.createDirectoryByPath(path)\n      this.specialDirectories[path] = dir._id\n    }\n    return this.specialDirectories[path]\n  }\n\n  async checkUniquenessOf(doctype, property, value) {\n    const index = await this.getUniqueIndex(doctype, property)\n    const existingDocs = await cozy.client.data.query(index, {\n      selector: { [property]: value },\n      fields: ['_id']\n    })\n    return existingDocs.length === 0\n  }\n\n  async getCollectionIndex(name, doctype, options) {\n    if (!this.indexes[name]) {\n      this.indexes[name] = await this.getAdapter(doctype).createIndex(\n        doctype,\n        this.getIndexFields(options)\n      )\n    }\n    return this.indexes[name]\n  }\n\n  async getUniqueIndex(doctype, property) {\n    const name = `${doctype}/${property}`\n    if (!this.indexes[name]) {\n      this.indexes[name] = await this.getAdapter(doctype).createIndex(doctype, [\n        property\n      ])\n    }\n    return this.indexes[name]\n  }\n\n  getIndexFields(options) {\n    const { selector, sort } = options\n    if (sort) {\n      // We filter possible duplicated fields\n      return [...Object.keys(selector), ...Object.keys(sort)].filter(\n        (f, i, arr) => arr.indexOf(f) === i\n      )\n    }\n    return Object.keys(selector)\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-forbidden_6a8efaa7f965d313db2d2874f7189441\",\n  \"use\": \"icon-forbidden_6a8efaa7f965d313db2d2874f7189441-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-forbidden_6a8efaa7f965d313db2d2874f7189441\\\"><defs><path d=\\\"M3.13 4.494a6 6 0 0 0 8.376 8.376L3.131 4.493zM4.495 3.13l8.375 8.375A6 6 0 0 0 4.493 3.13zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z\\\" id=\\\"icon-forbidden_6a8efaa7f965d313db2d2874f7189441_a\\\" /></defs><use fill-rule=\\\"nonzero\\\" xlink:href=\\\"#icon-forbidden_6a8efaa7f965d313db2d2874f7189441_a\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-contract_495d6e327d300d33bef68340e9910ee2\",\n  \"use\": \"icon-contract_495d6e327d300d33bef68340e9910ee2-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-contract_495d6e327d300d33bef68340e9910ee2\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#A9CBF9\\\" d=\\\"M3.002 43A2.001 2.001 0 0 1 1 41.003V2.997C1 1.894 1.89 1 2.991 1H23l10 10v32H3.002z\\\" /><path fill=\\\"#297EF2\\\" d=\\\"M23 1l10 10h-8c-1.113 0-2-.895-2-2V1zm3.931 45.452c-1.066.305-1.686-.306-1.38-1.38L27 40.005l13.59-13.592a2 2 0 0 1 2.831.007l2.162 2.162c.784.784.784 2.054.008 2.83L32 45.005l-5.069 1.448zM16 38h10v2H16v-2z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"u-shake\":\"u-shake--2V1gZ\",\"shake\":\"shake--1JapN\",\"u-o-100\":\"u-o-100--2Y5t4\",\"u-o-90\":\"u-o-90--NMble\",\"u-o-80\":\"u-o-80--hEMq5\",\"u-o-70\":\"u-o-70--c3V49\",\"u-o-60\":\"u-o-60--2_ny5\",\"u-o-50\":\"u-o-50--1kjh8\",\"u-o-40\":\"u-o-40--2QdZG\",\"u-o-30\":\"u-o-30--19gHJ\",\"u-o-20\":\"u-o-20--1JM5k\",\"u-o-10\":\"u-o-10--2qxQr\",\"u-o-05\":\"u-o-05--2VHmw\",\"u-o-025\":\"u-o-025--qZ5C2\",\"u-o-0\":\"u-o-0--EFmBj\",\"col-data-item\":\"col-data-item--dM_PJ\",\"col-data-item-icon\":\"col-data-item-icon--9VMIn\",\"spin\":\"spin--AkLmQ\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-courseMaterial_61e4e9650aa3ba5b634bfc6c1ae3ac4e\",\n  \"use\": \"icon-courseMaterial_61e4e9650aa3ba5b634bfc6c1ae3ac4e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-courseMaterial_61e4e9650aa3ba5b634bfc6c1ae3ac4e\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#CEBEF7\\\" d=\\\"M24 41c8.837 0 16-4.925 16-11v-5H8v5c0 6.075 7.163 11 16 11z\\\" /><path fill=\\\"#855CEA\\\" d=\\\"M8 25.605V34.143c-.212.054-.42.128-.618.214l-.058.032c-.17.078-.336.168-.492.268-.046.03-.086.064-.13.096a4.036 4.036 0 0 0-.36.28c-.052.046-.098.094-.146.144-.096.094-.19.19-.276.294a4.476 4.476 0 0 0-.348.494c-.044.076-.088.152-.128.23-.054.104-.1.212-.144.32-.034.084-.068.166-.096.25a3.95 3.95 0 0 0-.098.374c-.018.076-.038.15-.052.228a4.124 4.124 0 0 0-.054.632c0 .828.252 1.598.684 2.236.288.426.656.794 1.082 1.082A3.972 3.972 0 0 0 9 41.999a3.979 3.979 0 0 0 3.316-1.764A3.975 3.975 0 0 0 13 37.999c0-.158-.022-.31-.04-.462a3.972 3.972 0 0 0-2.36-3.188l-.6-.262v-7.438l14 7.305L47.466 21.71a.998.998 0 0 0 0-1.768L24.462 7.94c-.29-.15-.634-.15-.924 0L.534 19.942a1 1 0 0 0 0 1.768L8 25.605z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport { cozyConnect } from 'redux-cozy-client'\nimport { connect } from 'react-redux'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport Alerter from 'cozy-ui/react/Alerter'\nimport Icon from 'cozy-ui/react/Icon'\nimport Modal, { ModalContent, ModalHeader } from 'cozy-ui/react/Modal'\n\nimport backIcon from 'assets/sprites/icon-arrow-left.svg'\nimport AccountConnection from 'containers/AccountConnection'\nimport KonnectorHeaderIcon from 'components/KonnectorHeaderIcon'\nimport { getAccount } from 'ducks/accounts'\nimport {\n  endConnectionCreation,\n  getTriggerLastSuccess,\n  isConnectionRunning,\n  isCreatingConnection,\n  startConnectionCreation\n} from 'ducks/connections'\nimport { getKonnector } from 'ducks/konnectors'\nimport {\n  getConnectionsByKonnector,\n  getCreatedConnectionAccount,\n  getTriggerByKonnectorAndAccount,\n  getKonnectorsInMaintenance\n} from 'reducers'\nimport styles from 'styles/connectionManagement.styl'\n\nclass ConnectionManagement extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = context.store\n    const { konnector } = props\n\n    this.state = {\n      isSuccess: false\n    }\n\n    if (konnector) {\n      this.store.fetchUrls()\n      if (this.props.isCreating) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Unexpected state: connection creation already in progress'\n        )\n      } else {\n        this.props.startCreation()\n      }\n    } else {\n      return this.gotoParent()\n    }\n\n    this.handleDeleteSuccess = this.handleDeleteSuccess.bind(this)\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const isInvalidKonnectorSlug =\n      nextProps.match &&\n      nextProps.match.params.konnectorSlug &&\n      !nextProps.konnector\n\n    if (isInvalidKonnectorSlug) {\n      // eslint-disable-next-line no-console\n      console.warn('Invalid konnector slug')\n      return this.gotoParent()\n    }\n\n    const isInvalidAccountId =\n      nextProps.match &&\n      // an account id is provided but not existingAccount\n      nextProps.match.params.accountId &&\n      !nextProps.existingAccount &&\n      // we check that it was not a deletion\n      !this.props.existingAccount\n    if (isInvalidAccountId) {\n      // eslint-disable-next-line no-console\n      console.warn('Invalid account id')\n      return this.gotoParent()\n    }\n  }\n\n  render() {\n    const {\n      connections,\n      createdAccount,\n      existingAccount,\n      konnector\n    } = this.props\n    // Do not even render if there is no konnector (in case of wrong URL)\n    if (!konnector) return\n\n    const { isSuccess } = this.state\n\n    const backRoute = connections.length\n      ? `/connected/${konnector.slug}`\n      : '/connected'\n\n    const editing = existingAccount && !createdAccount\n    const isInstallSuccess = !editing && isSuccess\n    return (\n      <Modal\n        dismissAction={() => this.gotoParent()}\n        mobileFullscreen\n        size=\"large\"\n        className={styles['col-account-modal']}\n      >\n        <ModalHeader\n          className={\n            isInstallSuccess ? styles['col-account-success-header'] : ''\n          }\n        >\n          {!isInstallSuccess && (\n            <div className=\"col-account-connection-header\">\n              {backRoute && (\n                <NavLink\n                  to={backRoute}\n                  className=\"col-account-connection-back\"\n                  onClick={this.onEnd}\n                >\n                  <Icon icon={backIcon} />\n                </NavLink>\n              )}\n              <KonnectorHeaderIcon konnector={konnector} center={!editing} />\n            </div>\n          )}\n        </ModalHeader>\n        <ModalContent>\n          <AccountConnection\n            handleDeleteSuccess={this.handleDeleteSuccess}\n            editing={editing}\n            onDone={() => this.gotoParent()}\n            handleConnectionSuccess={this.handleConnectionSuccess}\n            {...this.props}\n            {...this.context}\n          />\n        </ModalContent>\n      </Modal>\n    )\n  }\n\n  handleDeleteSuccess() {\n    const { t } = this.props\n    Alerter.success(t('account.message.success.delete'))\n    this.gotoParent()\n  }\n\n  onEnd = () => {\n    const { endCreation, isCreating } = this.props\n    if (isCreating) {\n      typeof endCreation === 'function' && endCreation()\n    }\n  }\n\n  handleConnectionSuccess = () => {\n    this.setState({ isSuccess: true })\n  }\n\n  gotoParent() {\n    // The setTimeout allows React to perform setState related actions\n    setTimeout(() => {\n      const { originPath, history } = this.props\n\n      if (originPath) {\n        const params = this.props.match.params\n        const resolvedOriginPath = Object.keys(params)\n          .filter(param => typeof params[param] === 'string')\n          // Sort params from longest string to shortest string to avoid\n          // unexpected replacements like :test in :test2.\n          .sort(\n            (a, b) => (a.length === b.length ? 0 : a.length > b.length ? -1 : 1)\n          )\n          .reduce(\n            (path, param) => path.replace(`:${param}`, params[param]),\n            originPath\n          )\n        history.push(resolvedOriginPath)\n      } else {\n        let url = history.location.pathname\n        history.push(url.substring(0, url.lastIndexOf('/')))\n      }\n\n      if (this.props.isCreating) {\n        this.props.endCreation()\n      }\n    }, 0)\n  }\n}\n\nConnectionManagement.contextTypes = {\n  store: PropTypes.object\n}\n\nconst mapActionsToProps = () => ({})\n\nconst mapStateToProps = (state, ownProps) => {\n  // infos from route parameters\n  const { accountId, konnectorSlug } = ownProps.match && ownProps.match.params\n  const konnector = getKonnector(state.cozy, konnectorSlug)\n  const existingAccount = getAccount(state.cozy, accountId)\n  const createdAccount = getCreatedConnectionAccount(state)\n  const trigger = getTriggerByKonnectorAndAccount(\n    state,\n    konnector,\n    existingAccount || createdAccount\n  )\n  const maintenance = getKonnectorsInMaintenance()\n  return {\n    connections: getConnectionsByKonnector(state, konnectorSlug),\n    createdAccount,\n    existingAccount,\n    isCreating: isCreatingConnection(state.connections),\n    konnector: konnector,\n    isRunning: isConnectionRunning(state.connections, trigger),\n    lastSuccess: getTriggerLastSuccess(state.cozy, trigger),\n    trigger,\n    maintenance: maintenance\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  startCreation: () => dispatch(startConnectionCreation(ownProps.konnector)),\n  endCreation: () => dispatch(endConnectionCreation())\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(\n  cozyConnect(() => {}, mapActionsToProps)(\n    withRouter(translate()(ConnectionManagement))\n  )\n)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-pin_47062b648ad94dc756d7955abfec073a\",\n  \"use\": \"icon-pin_47062b648ad94dc756d7955abfec073a-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-pin_47062b648ad94dc756d7955abfec073a\\\"><path fill=\\\"#95999D\\\" d=\\\"M4 1c0-.552.453-1 .997-1h6.006c.55 0 .997.444.997 1 0 .552-.453 1-.997 1H11v4l2 2v2H9v6H7v-6H3V8l2-2V2c-.552 0-1-.444-1-1z\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-home_4f2087c056d710b74935df82cb4217d4\",\n  \"use\": \"icon-home_4f2087c056d710b74935df82cb4217d4-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-home_4f2087c056d710b74935df82cb4217d4\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FF9126\\\" d=\\\"M6.001 21v26h36V21l4.292 4.293a1 1 0 0 0 1.414 0l.086-.086a1 1 0 0 0 0-1.414L38 14V4a1 1 0 0 0-1-1H32a1 1 0 0 0-1 1v3L24.707.707a1 1 0 0 0-1.414 0L.207 23.793a1 1 0 0 0 0 1.414l.087.086a1 1 0 0 0 1.414 0L6 21z\\\" /><path fill=\\\"#FFE2A1\\\" d=\\\"M14 33h8v14h-8z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-bankAccounts_0d0ca64da8d7e0e8bff594738075cf11\",\n  \"use\": \"icon-bankAccounts_0d0ca64da8d7e0e8bff594738075cf11-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-bankAccounts_0d0ca64da8d7e0e8bff594738075cf11\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#C2F0D1\\\" d=\\\"M9 47c-1.105 0-2-.898-2-2.006V3.006C7 1.898 7.89 1 8.991 1H29l12 12v32c0 1.105-.892 2-2 2H9z\\\" /><path fill=\\\"#35CE68\\\" d=\\\"M29 1v9.991A2.01 2.01 0 0 0 31.009 13H41L29 1z\\\" /><path stroke=\\\"#35CE68\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M35 41H13V17h22zM13 22h22m-22 6h22m-22 6h22M20 17v24\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport ClassNames from 'classnames'\n\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport ReactMarkdownWrapper from 'components/ReactMarkdownWrapper'\nimport DataItem from 'components/DataItem'\nimport { getKonnectorMessage } from 'lib/konnectors'\nimport styles from 'styles/accountConnectionData'\n\nconst AccountConnectionData = ({ t, connector }) => {\n  const hasDataTypes = !!(connector.data_types && connector.data_types.length)\n  const serviceMessage = getKonnectorMessage(t, connector, 'service')\n  return (\n    <div className={ClassNames(styles['col-account-connection-data'])}>\n      {serviceMessage && (\n        <div>\n          <h4>{t('account.config.data.service.description')}</h4>\n          <p>\n            <ReactMarkdownWrapper source={serviceMessage} />\n          </p>\n        </div>\n      )}\n      <h4>{t('account.config.data.title')}</h4>\n      {hasDataTypes && (\n        <ul className={styles['col-account-connection-data-access']}>\n          {connector.data_types.map((data, index) => (\n            <DataItem dataType={data} key={index} />\n          ))}\n        </ul>\n      )}\n      {!hasDataTypes && <p>{t('dataType.none', { name: connector.name })}</p>}\n    </div>\n  )\n}\n\nexport default translate()(AccountConnectionData)\n","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Main, Content } from 'cozy-ui/react/Layout'\n\nimport AccountPicker from 'components/AccountPicker'\nimport Applications from 'components/Applications'\nimport ConnectionManagement from 'containers/ConnectionManagement'\nimport ScrollToTopOnMount from 'components/ScrollToTopOnMount'\nimport Services from 'components/Services'\nimport { isTutorial, display as displayTutorial } from 'lib/tutorial'\n\nclass Home extends Component {\n  componentDidMount() {\n    this.launchTutorial()\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps() {\n    this.launchTutorial()\n  }\n\n  launchTutorial() {\n    if (isTutorial()) {\n      window.history.pushState({}, '', `/${window.location.hash}`)\n      setTimeout(() => {\n        displayTutorial(this.props.t)\n      }, 1000)\n    }\n  }\n\n  render() {\n    const { wrapper } = this.props\n    return (\n      <Main>\n        <ScrollToTopOnMount target={wrapper} />\n        <Content>\n          <div\n            className={classNames('col-content', {\n              'has-custom-background': false\n            })}\n          >\n            <Applications />\n            <Services />\n          </div>\n        </Content>\n        <Switch>\n          <Route\n            exact\n            path=\"/connected/:konnectorSlug\"\n            component={AccountPicker}\n          />\n          <Route\n            path=\"/connected/:konnectorSlug/new\"\n            render={props => (\n              <ConnectionManagement originPath=\"/connected\" {...props} />\n            )}\n          />\n          <Route\n            path=\"/connected/:konnectorSlug/accounts/:accountId\"\n            render={props => (\n              <ConnectionManagement originPath=\"/connected\" {...props} />\n            )}\n          />\n          <Redirect from=\"/connected/*\" to=\"/connected\" />\n        </Switch>\n      </Main>\n    )\n  }\n}\n\nexport default withRouter(translate()(Home))\n","import { extend as extendI18n } from 'cozy-ui/react/I18n'\n\nconst KONNECTORS_DOCTYPE = 'io.cozy.konnectors'\n\nconst extendI18nWithKonnector = lang => konnector => {\n  const { langs, locales } = konnector\n\n  const hasLangs = langs && langs.length\n  if (!hasLangs) {\n    // eslint-disable-next-line no-console\n    console.warn(`Konnector ${konnector.name} does not specify any lang`)\n    return konnector\n  }\n\n  const providesLang = hasLangs && langs.includes(lang)\n  const actualLang = providesLang ? lang : langs[0]\n\n  const localeKeys = locales && Object.keys(locales)\n  const providesLocales =\n    localeKeys && localeKeys.length && localeKeys.includes(actualLang)\n\n  if (!providesLocales) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Konnector ${\n        konnector.name\n      } does not specify any locale for lang ${actualLang}`\n    )\n    return konnector\n  }\n\n  extendI18n({ [konnector.slug]: locales[actualLang] })\n  return konnector\n}\n\nexport const konnectorsI18nMiddleware = lang => () => next => action => {\n  const { response } = action\n  switch (action.type) {\n    case 'RECEIVE_DATA':\n    case 'RECEIVE_NEW_DOCUMENT':\n      if (response && action.doctype === KONNECTORS_DOCTYPE) {\n        const konnectors = response.data\n        konnectors &&\n          konnectors.length &&\n          konnectors.forEach(extendI18nWithKonnector(lang))\n      }\n      break\n  }\n\n  return next(action)\n}\n\nexport default konnectorsI18nMiddleware\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-document_5a91ce553d849f048cefe614ca7e3fce\",\n  \"use\": \"icon-document_5a91ce553d849f048cefe614ca7e3fce-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-document_5a91ce553d849f048cefe614ca7e3fce\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#B2D3FF\\\" d=\\\"M3 2.002C3 .896 3.89 0 4.997 0H22l7 7v22.996A2 2 0 0 1 27.003 32H4.997A1.995 1.995 0 0 1 3 29.998V2.002z\\\" /><path fill=\\\"#197BFF\\\" d=\\\"M21.5 0c-.276 0-.5.23-.5.5V8h7.5c.276 0 .5-.232.5-.5V7l-7-7h-.5zM9 11h14v2H9v-2zm0 4h12v2H9v-2zm0 4h14v2H9v-2zm0 4h10v2H9v-2z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-geolocation_aaa0388bb7a67d5d2c81eb2b667a390a\",\n  \"use\": \"icon-geolocation_aaa0388bb7a67d5d2c81eb2b667a390a-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-geolocation_aaa0388bb7a67d5d2c81eb2b667a390a\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FCBFBF\\\" d=\\\"M47 24c0 12.704-10.298 23-23 23C11.296 47 1 36.704 1 24 1 11.3 11.296 1 24 1c12.702 0 23 10.3 23 23z\\\" /><path fill=\\\"#F62C2C\\\" d=\\\"M21 39V27H9l25-13z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { PureComponent } from 'react'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport Icon from 'cozy-ui/react/Icon'\nimport Spinner from 'cozy-ui/react/Spinner'\n\nimport { getAccount } from 'ducks/accounts'\nimport { getAccountLogin, getAccountName } from 'lib/helpers'\nimport { getErrorTitle } from 'lib/konnectors'\nimport { isInMaintenance } from 'ducks/konnectors'\nimport styles from 'styles/accountPicker'\n\nconst MAINTENANCE = 'MAINTENANCE'\nconst ERRORED = 'ERRORED'\nconst HAS_UPDATE = 'HAS_UPDATE'\nconst CONNECTED = 'CONNECTED'\n\nconst getStatus = ({ hasError, hasUpdate, isConnected, inMaintenance }) => {\n  if (hasUpdate) return HAS_UPDATE\n  if (inMaintenance) return MAINTENANCE\n  if (hasError) return ERRORED\n  if (isConnected) return CONNECTED\n}\n\nexport class AccountPickerItem extends PureComponent {\n  getStatusContent = () => {\n    const { t, inMaintenance, connection, hasUpdate } = this.props\n    const { error, hasError, isConnected } = connection\n\n    const accountStatus = getStatus({\n      hasError,\n      hasUpdate,\n      isConnected,\n      inMaintenance\n    })\n    switch (accountStatus) {\n      case MAINTENANCE:\n        return (\n          <div className={styles['col-account-picker-button-status']}>\n            <span>{t('maintenance.service')}</span>\n          </div>\n        )\n      case ERRORED:\n        return (\n          <div\n            className={classNames(\n              styles['col-account-picker-button-status'],\n              styles['col-account-picker-button-status--error']\n            )}\n          >\n            <span>\n              {getErrorTitle(t, error, key => `connection.error.${key}.title`)}\n            </span>\n            <Icon icon=\"warning\" />\n          </div>\n        )\n      case HAS_UPDATE:\n        return (\n          <div className={styles['col-account-picker-button-status']}>\n            <span>{t('connector.update')}</span>\n          </div>\n        )\n      case CONNECTED:\n        return <Icon icon=\"check-circleless\" color=\"#2BBA40\" />\n    }\n  }\n\n  render() {\n    const { connection, konnectorSlug, account } = this.props\n    const { isRunning } = connection\n    const accountName = getAccountName(account)\n    const accountLogin = getAccountLogin(account)\n    const nameAndLoginDiffer = accountName !== accountLogin\n    const statusContent = this.getStatusContent()\n    return (\n      <NavLink\n        to={`/connected/${konnectorSlug}/accounts/${account._id}`}\n        className={classNames(\n          styles['col-account-picker-button'],\n          styles['col-account-picker-button-account']\n        )}\n      >\n        <div className={styles['col-account-picker-button-infos']}>\n          <span>{accountName}</span>\n          {nameAndLoginDiffer && <small>{accountLogin}</small>}\n        </div>\n        {statusContent}\n        {isRunning && <Spinner />}\n      </NavLink>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { konnectorSlug } = ownProps\n  return {\n    account: getAccount(\n      state.cozy,\n      ownProps.connection && ownProps.connection.account\n    ),\n    inMaintenance: isInMaintenance(konnectorSlug)\n  }\n}\n\nexport default connect(mapStateToProps)(translate()(AccountPickerItem))\n","/* triggers lib ready to be added to cozy-client-js */\nimport * as realtime from 'lib/realtime'\n\nconst TRIGGERS_DOCTYPE = 'io.cozy.triggers'\n\nexport async function fetch(cozy, triggerId) {\n  return cozy.fetchJSON('GET', `/jobs/triggers/${triggerId}`)\n}\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, TRIGGERS_DOCTYPE)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-plus-add-service_2f68183ffa856d7eaa5a13f182a173bc\",\n  \"use\": \"icon-plus-add-service_2f68183ffa856d7eaa5a13f182a173bc-usage\",\n  \"viewBox\": \"0 0 56 56\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 56 56\\\" id=\\\"icon-plus-add-service_2f68183ffa856d7eaa5a13f182a173bc\\\"><path d=\\\"M26.3 15.7S26.2 14 28 14s1.8 1.7 1.8 1.7v10.5h10.5s1.8 0 1.8 1.8-1.8 1.8-1.8 1.8H29.7v10.5s0 1.8-1.8 1.8-1.8-1.8-1.8-1.8V29.8H15.8S14 29.8 14 28s1.8-1.7 1.8-1.7h10.5V15.7zM23.5 55.8h-.2c-3.2-.6-6.3-1.7-9.1-3.3-.3-.2-.5-.5-.6-.8-.1-.3 0-.7.1-1 .2-.4.7-.7 1.2-.7.2 0 .5.1.7.2 2.6 1.5 5.4 2.5 8.3 3 .7.1 1.2.8 1.1 1.6-.3.5-.9 1-1.5 1zm9.2 0c-.7 0-1.2-.5-1.3-1.1-.1-.7.4-1.4 1.1-1.6 2.9-.5 5.7-1.5 8.2-3 .2-.1.4-.2.7-.2.5 0 .9.3 1.2.7.2.3.2.7.1 1-.1.3-.3.6-.6.8-2.8 1.6-5.9 2.8-9.1 3.4h-.3zM7.6 46.7c-.4 0-.8-.2-1-.5-2.1-2.5-3.8-5.3-4.9-8.4-.1-.3-.1-.7 0-1 .1-.3.4-.6.8-.7.2-.1.3-.1.5-.1.6 0 1.1.4 1.3.9 1 2.8 2.5 5.3 4.4 7.6.2.3.3.6.3 1s-.2.7-.5.9c-.2.2-.5.3-.9.3zm40.9-.1c-.2 0-.6-.1-.9-.3-.3-.2-.4-.6-.5-.9 0-.4.1-.7.3-1 1.9-2.3 3.4-4.8 4.4-7.6.2-.5.7-.9 1.3-.9.2 0 .3 0 .5.1.3.1.6.4.8.7.2.3.2.7 0 1-1.1 3.1-2.7 5.9-4.8 8.4-.4.3-.7.5-1.1.5zm-47.2-17C.6 29.6 0 29 0 28.3v-.1c0-3.3.6-6.5 1.7-9.6.2-.5.7-.9 1.3-.9.2 0 .3 0 .5.1.7.3 1.1 1 .8 1.7-1 2.8-1.5 5.7-1.5 8.7v.1c-.1.7-.7 1.3-1.5 1.3zm53.4-.1c-.7 0-1.3-.6-1.3-1.3 0-3-.5-5.9-1.5-8.7-.1-.3-.1-.7 0-1 .2-.3.4-.6.8-.7.1-.1.3-.1.5-.1.6 0 1.1.4 1.3.9 1.1 3.1 1.7 6.3 1.7 9.6-.2.7-.8 1.3-1.5 1.3zM7.6 12.4c-.2 0-.6-.1-.9-.3-.6-.5-.6-1.3-.2-1.9 2.1-2.5 4.6-4.6 7.4-6.3.2-.1.4-.2.7-.2.5 0 .9.3 1.2.7.4.6.2 1.5-.5 1.8-2.6 1.5-4.8 3.4-6.7 5.7-.3.3-.6.5-1 .5zm40.8 0c-.4 0-.8-.2-1-.5-1.9-2.3-4.2-4.2-6.7-5.6-.3-.2-.5-.5-.6-.8-.1-.3 0-.7.1-1 .2-.4.7-.7 1.2-.7.2 0 .5.1.7.2 2.8 1.6 5.3 3.7 7.5 6.2.5.6.4 1.4-.2 1.9-.4.2-.7.3-1 .3zM23.3 3.3c-.7 0-1.2-.5-1.3-1.1-.1-.4 0-.7.2-1 .2-.3.5-.5.9-.6C24.7.3 26.3.2 28 .2c1.6 0 3.3.1 4.8.4.4.1.7.3.9.5s.3.6.2 1c-.1.6-.7 1.1-1.3 1.1h-.2c-1.5-.2-2.9-.3-4.4-.3-1.5 0-3 .1-4.4.4h-.3z\\\" /><circle cx=\\\"157.7\\\" cy=\\\"33.5\\\" r=\\\"28\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"5\\\" stroke-linecap=\\\"round\\\" stroke-miterlimit=\\\"10\\\" stroke-dasharray=\\\"9.7713,9.7713\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport { connect as reduxConnect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { applySelectorForAction, enhancePropsForActions } from '.'\nimport { mapValues, filterValues } from './utils'\n\nconst connect = (\n  mapDocumentsToProps,\n  mapActionsToProps = null\n) => WrappedComponent => {\n  class Wrapper extends Component {\n    componentDidMount() {\n      const { fetchActions } = this.props\n      const dispatch = this.context.store.dispatch\n      for (const propName in fetchActions) {\n        dispatch(fetchActions[propName])\n      }\n    }\n\n    static contextTypes = {\n      store: PropTypes.object\n    }\n\n    render() {\n      const { store } = this.context\n      const { fetchActions } = this.props\n      const props = {\n        ...this.props,\n        ...enhancePropsForActions(this.props, fetchActions, store.dispatch)\n      }\n      return <WrappedComponent {...props} />\n    }\n  }\n\n  const makeMapStateToProps = (initialState, initialOwnProps) => {\n    const initialProps = mapDocumentsToProps(initialOwnProps)\n\n    const isAction = action => action && action.types && action.promise\n    const fetchActions = filterValues(initialProps, prop => isAction(prop))\n    const otherProps = filterValues(initialProps, prop => !isAction(prop))\n\n    const mapStateToProps = state => ({\n      ...mapValues(\n        fetchActions,\n        action =>\n          isAction(action) ? applySelectorForAction(state, action) : action\n      ),\n      fetchActions,\n      ...otherProps\n    })\n    return mapStateToProps\n  }\n\n  return reduxConnect(makeMapStateToProps, mapActionsToProps)(Wrapper)\n}\n\nexport default connect\n","import { Component } from 'react'\n\n// a component to automatically reset the scroll\n// on mount (see https://reacttraining.com/react-router/web/guides/scroll-restoration/scroll-to-top)\nexport class ScrollToTopOnMount extends Component {\n  componentDidMount() {\n    const target = this.props && this.props.target\n    target && typeof target.scrollTo === 'function' && target.scrollTo(0, 0)\n  }\n\n  render() {\n    return null\n  }\n}\n\nexport default ScrollToTopOnMount\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-graduated_61e4e9650aa3ba5b634bfc6c1ae3ac4e\",\n  \"use\": \"icon-graduated_61e4e9650aa3ba5b634bfc6c1ae3ac4e-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-graduated_61e4e9650aa3ba5b634bfc6c1ae3ac4e\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#CEBEF7\\\" d=\\\"M24 41c8.837 0 16-4.925 16-11v-5H8v5c0 6.075 7.163 11 16 11z\\\" /><path fill=\\\"#855CEA\\\" d=\\\"M8 25.605V34.143c-.212.054-.42.128-.618.214l-.058.032c-.17.078-.336.168-.492.268-.046.03-.086.064-.13.096a4.036 4.036 0 0 0-.36.28c-.052.046-.098.094-.146.144-.096.094-.19.19-.276.294a4.476 4.476 0 0 0-.348.494c-.044.076-.088.152-.128.23-.054.104-.1.212-.144.32-.034.084-.068.166-.096.25a3.95 3.95 0 0 0-.098.374c-.018.076-.038.15-.052.228a4.124 4.124 0 0 0-.054.632c0 .828.252 1.598.684 2.236.288.426.656.794 1.082 1.082A3.972 3.972 0 0 0 9 41.999a3.979 3.979 0 0 0 3.316-1.764A3.975 3.975 0 0 0 13 37.999c0-.158-.022-.31-.04-.462a3.972 3.972 0 0 0-2.36-3.188l-.6-.262v-7.438l14 7.305L47.466 21.71a.998.998 0 0 0 0-1.768L24.462 7.94c-.29-.15-.634-.15-.924 0L.534 19.942a1 1 0 0 0 0 1.768L8 25.605z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-success-header\":\"col-account-success-header--1U_I1\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-dashboard_15efa9de81a9102e08257575dc312316\",\n  \"use\": \"icon-dashboard_15efa9de81a9102e08257575dc312316-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-dashboard_15efa9de81a9102e08257575dc312316\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FFE2A1\\\" d=\\\"M24 47C11.297 47 1 36.703 1 24S11.297 1 24 1s23 10.297 23 23-10.297 23-23 23zm19-23h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2zm-1.83-8.194l-3.696 1.53a1 1 0 0 0 .765 1.848l3.696-1.53a1 1 0 0 0-.765-1.848zM30.346 6.063l-1.53 3.696a1 1 0 0 0 1.848.765l1.53-3.696a1 1 0 0 0-1.848-.765zM23 5v4a1 1 0 0 0 2 0V5a1 1 0 0 0-2 0zm-7.194 1.828l1.53 3.696a1 1 0 0 0 1.848-.765l-1.53-3.696a1 1 0 1 0-1.848.765zm-5.948 4.44l2.824 2.833a1 1 0 1 0 1.417-1.413l-2.824-2.832a1 1 0 1 0-1.417 1.413zm-3.793 6.386l3.694 1.53a1 1 0 1 0 .765-1.847l-3.694-1.53a1 1 0 1 0-.765 1.847zM5 26h4a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2z\\\" /><path stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M22 33h4v8h-4zM30 33h4v8h-4zM14 33h4v8h-4zM27 24a3.001 3.001 0 0 1-6 0 3.001 3.001 0 0 1 6 0h0zm-.879-2.121l9.9-9.898\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\n\nimport React, { Component } from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport Button from 'cozy-ui/react/Button'\nimport Infos from 'cozy-ui/react/Infos'\nimport PropTypes from 'prop-types'\n\nexport class UpdateMessage extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isRedirecting: false\n    }\n    this.redirectToStore = this.redirectToStore.bind(this)\n  }\n\n  async redirectToStore() {\n    this.setState({ isRedirecting: true })\n    const { konnector } = this.props\n    try {\n      await cozy.client.intents.redirect('io.cozy.apps', {\n        slug: konnector.slug,\n        step: 'update'\n      })\n    } catch (error) {\n      /* eslint-disable-next-line no-console */\n      console.error(error)\n      this.setState({ isRedirecting: false })\n    }\n  }\n\n  render() {\n    const { t, isBlocking } = this.props\n    const { isRedirecting } = this.state\n\n    return (\n      <Infos\n        actionButton={\n          <Button\n            label={t('update.CTA')}\n            theme=\"danger\"\n            className=\"u-m-0\"\n            onClick={this.redirectToStore}\n            disabled={isRedirecting}\n          />\n        }\n        className=\"u-maw-none\"\n        text={isBlocking ? t('update.blocking') : t('update.regular')}\n        isImportant={isBlocking}\n        title={t('update.title')}\n      />\n    )\n  }\n}\n\nUpdateMessage.propTypes = {\n  konnector: PropTypes.object.isRequired,\n  isBlocking: PropTypes.bool,\n  t: PropTypes.func.isRequired\n}\n\nexport default translate()(UpdateMessage)\n","/* global cozy */\nimport React, { Component } from 'react'\nimport PropTypes from 'react-proptypes'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\n\nimport { enable as enableFlags } from 'cozy-flags'\nimport Alerter from 'cozy-ui/react/Alerter'\nimport { Sprite as IconSprite } from 'cozy-ui/react/Icon'\nimport { Layout, Main, Content } from 'cozy-ui/react/Layout'\nimport Spinner from 'cozy-ui/react/Spinner'\n\nimport appEntryPoint from 'components/appEntryPoint'\nimport Failure from 'components/Failure'\nimport Home from 'components/Home'\nimport IntentRedirect from 'components/IntentRedirect'\nimport StoreRedirection from 'components/StoreRedirection'\nimport ConnectionsQueue from 'ducks/connections/components/queue/index'\n\nconst IDLE = 'idle'\nconst FETCHING_CONTEXT = 'FETCHING_CONTEXT'\n\nclass App extends Component {\n  state = {\n    error: null,\n    status: IDLE\n  }\n\n  constructor(props, context) {\n    super(props, context)\n    this.store = context.store\n  }\n\n  componentDidMount() {\n    this.fetchContext()\n  }\n\n  async fetchContext() {\n    this.setState({\n      status: FETCHING_CONTEXT\n    })\n\n    const context = await cozy.client\n      .fetchJSON('GET', '/settings/context')\n      .catch(error => {\n        this.setState({\n          error,\n          status: IDLE\n        })\n      })\n\n    if (context && context.attributes && context.attributes.features) {\n      enableFlags(context.attributes.features)\n    }\n\n    this.setState({\n      status: IDLE\n    })\n  }\n\n  render() {\n    const { accounts, konnectors, triggers } = this.props\n    const isFetching = [accounts, konnectors, triggers].find(collection =>\n      ['pending', 'loading'].includes(collection.fetchStatus)\n    )\n\n    const hasError = [accounts, konnectors, triggers].find(\n      collection => collection.fetchStatus === 'failed'\n    )\n\n    const { status } = this.state\n    const isFetchingContext = status === FETCHING_CONTEXT\n\n    const isReady = !hasError && !isFetching && !isFetchingContext\n\n    return (\n      <Layout\n        monoColumn\n        ref={\n          isReady\n            ? div => {\n                this.contentWrapper = div\n              }\n            : null\n        }\n      >\n        <Alerter />\n        <div className=\"ho-background\" />\n        {hasError && (\n          <Main>\n            <Content\n              className={hasError ? 'col-initial-error' : 'col-initial-loading'}\n            >\n              {hasError && <Failure errorType=\"initial\" />}\n            </Content>\n          </Main>\n        )}\n        {isFetching && <Spinner middle size=\"xxlarge\" loadingType=\"initial\" />}\n        {isReady && (\n          <Switch>\n            <Route path=\"/redirect\" component={IntentRedirect} />\n            <Route\n              path=\"/connected\"\n              render={() => (\n                <Home base=\"/connected\" wrapper={this.contentWrapper} />\n              )}\n            />\n            <Route exact path=\"/providers\" component={StoreRedirection} />\n            <Route path=\"/providers/:category\" component={StoreRedirection} />\n            <Redirect exact from=\"/\" to=\"/connected\" />\n            <Redirect from=\"*\" to=\"/connected\" />\n          </Switch>\n        )}\n        <ConnectionsQueue />\n        <IconSprite />\n      </Layout>\n    )\n  }\n}\n\nApp.contextTypes = {\n  store: PropTypes.object\n}\n\n/*\nwithRouter is necessary here to deal with redux\nhttps://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md\n*/\nexport default withRouter(appEntryPoint(App))\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-movies_cd88c27057187cc36fedc4ff3b1a25cd\",\n  \"use\": \"icon-movies_cd88c27057187cc36fedc4ff3b1a25cd-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-movies_cd88c27057187cc36fedc4ff3b1a25cd\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#F52D2D\\\" d=\\\"M7 36c-1.654 0-3-1.346-3-3 0-1.655 1.346-3 3-3h13.068c1.43 1.204 2.285-2.3.906-3.882-1.474-1.69-5.217-1.47-4.37-.119H7c-3.86 0-7 3.14-7 7s3.14 7 7 7h34c1.102 0 2 .899 2 2 0 1.105-.898 2-2 2H21A2 2 0 0 0 21 48h20c3.308 0 6-2.692 6-6s-2.692-6-6-6H7z\\\" /><path fill=\\\"#FCBFBF\\\" d=\\\"M31 34c-9.389 0-17-7.612-17-17.001 0-9.39 7.611-17 17-17s17 7.61 17 17-7.611 17-17 17zm0-21.001c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z\\\" /><path fill=\\\"#F52D2D\\\" d=\\\"M19.057 12.078a1 1 0 0 1 .524-.574.987.987 0 0 1 .776-.028l5 1.91c.278.108.492.33.59.61a.997.997 0 0 1-.09.842c-.98 1.624-.626 3.322-.154 4.458.102.248.1.526-.004.774-.104.246-.304.44-.552.54l-4.724 1.864a.968.968 0 0 1-.424.118h-.042c-.462 0-.872-.314-.984-.762-1.468-3.686-.768-7.33.084-9.752zm7.132-7.12c.014-.002.028-.006.042-.006 2.9-1.136 6.292-1.092 9.69.104a1.002 1.002 0 0 1 .592 1.33L34.6 10.962a1 1 0 0 1-1.458.462 5.987 5.987 0 0 0-4.44.044.999.999 0 0 1-1.306-.54L25.533 6.44a.98.98 0 0 1-.124-.438l-.002-.022c-.02-.486.31-.916.782-1.022zm15.38 6.572a.962.962 0 0 1 .43-.12c.476-.038.912.296 1.026.758 1.47 3.69.772 7.334-.082 9.754a.994.994 0 0 1-.944.67.993.993 0 0 1-.356-.066l-5-1.912a1.005 1.005 0 0 1-.5-1.452c.982-1.624.626-3.32.156-4.458a.994.994 0 0 1 .556-1.312l4.714-1.862zm-5.74 17.496c-1.418.566-2.948.85-4.552.85-1.692 0-3.442-.314-5.2-.932a.994.994 0 0 1-.574-.524.983.983 0 0 1-.026-.778l1.91-5a.997.997 0 0 1 1.45-.498c1.28.772 2.852.818 4.458.154.248-.102.526-.1.772.002.248.106.442.306.54.556l1.868 4.724c.068.126.11.272.116.42.02.478-.3.912-.762 1.026z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-sinister_bfc0d81f26efdcd815a5feb43d7a23c7\",\n  \"use\": \"icon-sinister_bfc0d81f26efdcd815a5feb43d7a23c7-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-sinister_bfc0d81f26efdcd815a5feb43d7a23c7\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FCBFBF\\\" d=\\\"M46.813 45.349L24.895 1.508c-.34-.678-1.45-.678-1.788 0l-22 44A1 1 0 0 0 2 46.956h44.02c.55 0 1-.449 1-1 0-.23-.078-.44-.208-.608z\\\" /><path fill=\\\"#F52D2D\\\" d=\\\"M24 41.172a1.912 1.912 0 1 1-.003-3.824 1.912 1.912 0 0 1 .004 3.825zm-1-23.911a1 1 0 0 1 2 0v15.303a1 1 0 0 1-2 0V17.26z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { compose, createStore, applyMiddleware } from 'redux'\nimport { cozyMiddleware } from 'redux-cozy-client'\nimport { createLogger } from 'redux-logger'\nimport konnectorsI18nMiddleware from 'lib/middlewares/konnectorsI18n'\nimport thunkMiddleware from 'redux-thunk'\n\nimport CollectStore from 'lib/CollectStore'\nimport getReducers from 'reducers'\n\nconst configureStore = (client, context, options = {}) => {\n  // Enable Redux dev tools\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE || compose\n\n  const reduxStore = createStore(\n    getReducers(),\n    composeEnhancers(\n      applyMiddleware.apply(this, [\n        cozyMiddleware(client),\n        konnectorsI18nMiddleware(options.lang),\n        thunkMiddleware,\n        createLogger()\n      ])\n    )\n  )\n\n  return Object.assign(new CollectStore(context, options), reduxStore)\n}\n\nexport default configureStore\n","import { combineReducers } from 'redux'\n\nimport { reducer } from 'redux-cozy-client'\nimport apps from 'ducks/apps'\nimport * as fromAccounts from 'ducks/accounts'\nimport * as fromKonnectors from 'ducks/konnectors'\nimport * as fromTriggers from 'ducks/triggers'\nimport connections, * as fromConnections from 'ducks/connections'\n\nexport default () =>\n  combineReducers({\n    apps,\n    connections,\n    cozy: reducer\n  })\n\n// selectors\nexport const getInstalledKonnectors = state =>\n  fromKonnectors.getInstalledKonnectors(state.cozy)\n\nexport const getConnectionsByKonnector = (state, konnectorSlug) =>\n  fromConnections.getConnectionsByKonnector(\n    state.connections,\n    konnectorSlug,\n    fromAccounts.getIds(state.cozy),\n    fromKonnectors.getSlugs(state.cozy)\n  )\n\nexport const getConnectionsQueue = state =>\n  fromConnections.getQueue(\n    state.connections,\n    fromKonnectors.getIndexedKonnectors(state.cozy)\n  )\n\nexport const getCreatedConnectionAccount = state =>\n  fromAccounts.getAccount(\n    state.cozy,\n    fromConnections.getCreatedAccount(state.connections)\n  )\n\nexport const getKonnectorTriggersCount = (state, konnector) =>\n  fromTriggers.getKonnectorTriggers(\n    state.cozy,\n    konnector,\n    fromAccounts.getIds(state.cozy)\n  ).length\n\nexport const getKonnectorsInMaintenance = () =>\n  fromKonnectors.fetchKonnectorsInMaintenance()\n\nexport const getTriggerByKonnectorAndAccount = (state, konnector, account) => {\n  const triggerId = fromConnections.getTriggerIdByKonnectorAndAccount(\n    state.connections,\n    konnector,\n    account,\n    fromAccounts.getIds(state.cozy)\n  )\n  return fromTriggers.getTrigger(state.cozy, triggerId)\n}\n","/* global cozy */\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { getInstalledKonnectors } from 'reducers'\n\nconst IntentRedirect = ({ installedKonnectors, location }) => {\n  const queryString = !!location && location.search\n  const query =\n    queryString &&\n    queryString\n      .substring(1)\n      .split('&')\n      .reduce((accumulator, keyValue) => {\n        const splitted = keyValue.split('=')\n        accumulator[splitted[0]] = splitted[1] || true\n        return accumulator\n      }, {})\n\n  if (!query.konnector) {\n    return <Redirect to={`/connected`} />\n  }\n\n  if (\n    !installedKonnectors.find(konnector => konnector.slug === query.konnector)\n  ) {\n    return cozy.client.intents.redirect('io.cozy.apps', {\n      slug: query.konnector\n    })\n  }\n\n  let redirectRoute = `/connected/${query.konnector}`\n\n  if (query.account) {\n    redirectRoute = `${redirectRoute}/accounts/${query.account}`\n  }\n\n  return <Redirect to={redirectRoute} />\n}\n\nconst mapStateToProps = state => ({\n  installedKonnectors: getInstalledKonnectors(state)\n})\n\nexport default connect(mapStateToProps)(IntentRedirect)\n","import { probableLoginFieldNames } from './accounts'\n\nexport const getAccountName = account => {\n  if (!account) return null\n  if (account.auth) {\n    return account.auth.accountName || getAccountLogin(account) || account._id\n  } else {\n    return account._id\n  }\n}\n\nexport const getAccountLogin = account => {\n  if (account && account.auth) {\n    for (const fieldName of probableLoginFieldNames) {\n      if (account.auth[fieldName]) return account.auth[fieldName]\n    }\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-fallback_7fe9e4c862fc70a9f832e54b97207a5f\",\n  \"use\": \"icon-fallback_7fe9e4c862fc70a9f832e54b97207a5f-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-fallback_7fe9e4c862fc70a9f832e54b97207a5f\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#D1D5DB\\\" d=\\\"M8 0h25.086a1 1 0 0 1 .707.293l9.914 9.914a1 1 0 0 1 .293.707V45a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z\\\" /><path fill=\\\"#A3ACB8\\\" d=\\\"M32 0v12h12v-1.086a1 1 0 0 0-.293-.707L33.793.293A1 1 0 0 0 33.086 0H32z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-activity_3e6d178730c00d69992691bc1d060133\",\n  \"use\": \"icon-activity_3e6d178730c00d69992691bc1d060133-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-activity_3e6d178730c00d69992691bc1d060133\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"#95999D\\\"><path d=\\\"M1.025 47h46M9.026 37h-6v10h6zM21.026 27h-6v20h6zM33.026 31h-6v16h6zM45.026 17h-6v30h6z\\\" /></g><path d=\\\"M8.025 23a2 2 0 1 1-3.998.001A2 2 0 0 1 8.025 23h0zm12-10a2 2 0 1 1-3.998.001A2 2 0 0 1 20.025 13h0zm12 4a2 2 0 1 1-3.998.001A2 2 0 0 1 32.025 17h0zm12-14a2 2 0 1 1-3.998.001A2 2 0 0 1 44.025 3h0zM7.563 21.72l8.928-7.441m3.425-.65l8.27 2.757M40.725 4.518L31.327 15.48\\\" stroke=\\\"currentColor\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-consumption_15efa9de81a9102e08257575dc312316\",\n  \"use\": \"icon-consumption_15efa9de81a9102e08257575dc312316-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-consumption_15efa9de81a9102e08257575dc312316\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FFE2A1\\\" d=\\\"M24 47C11.297 47 1 36.703 1 24S11.297 1 24 1s23 10.297 23 23-10.297 23-23 23zm19-23h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2zm-1.83-8.194l-3.696 1.53a1 1 0 0 0 .765 1.848l3.696-1.53a1 1 0 0 0-.765-1.848zM30.346 6.063l-1.53 3.696a1 1 0 0 0 1.848.765l1.53-3.696a1 1 0 0 0-1.848-.765zM23 5v4a1 1 0 0 0 2 0V5a1 1 0 0 0-2 0zm-7.194 1.828l1.53 3.696a1 1 0 0 0 1.848-.765l-1.53-3.696a1 1 0 1 0-1.848.765zm-5.948 4.44l2.824 2.833a1 1 0 1 0 1.417-1.413l-2.824-2.832a1 1 0 1 0-1.417 1.413zm-3.793 6.386l3.694 1.53a1 1 0 1 0 .765-1.847l-3.694-1.53a1 1 0 1 0-.765 1.847zM5 26h4a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2z\\\" /><path stroke=\\\"#FF9125\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M22 33h4v8h-4zM30 33h4v8h-4zM14 33h4v8h-4zM27 24a3.001 3.001 0 0 1-6 0 3.001 3.001 0 0 1 6 0h0zm-.879-2.121l9.9-9.898\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport { AppIcon } from 'cozy-ui/react/AppIcon'\nimport { translate } from 'cozy-ui/react/I18n'\nimport PropTypes from 'prop-types'\n\nimport styles from 'styles/konnectorHeaderIcon'\n\nexport class KonnectorHeaderIcon extends Component {\n  render() {\n    const { center, konnector, t } = this.props\n    const { domain, secure } = this.context\n    return (\n      <div\n        className={\n          styles[`col-konnector-header-icon-wrapper${center ? '--center' : ''}`]\n        }\n      >\n        <AppIcon\n          alt={t('app.logo.alt', { name: konnector.name })}\n          app={konnector}\n          domain={domain}\n          className={\n            styles[`col-konnector-header-icon${center ? '--center' : ''}`]\n          }\n          secure={secure}\n        />\n      </div>\n    )\n  }\n}\n\nKonnectorHeaderIcon.contextTypes = {\n  domain: PropTypes.string.isRequired,\n  secure: PropTypes.bool\n}\n\nexport default translate()(KonnectorHeaderIcon)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-waves_42e4b77ad71166af14a3146ea83184b5\",\n  \"use\": \"icon-waves_42e4b77ad71166af14a3146ea83184b5-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-waves_42e4b77ad71166af14a3146ea83184b5\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"#9AE6B3\\\" d=\\\"M40.613 39.898A22.924 22.924 0 0 0 47 24C47 11.296 36.703 1 24 1 11.297 1 1 11.296 1 24c0 6.166 2.434 11.766 6.388 15.898\\\" /><path stroke=\\\"#9AE6B3\\\" d=\\\"M11.816 32.727A14.91 14.91 0 0 1 9 24c0-8.284 6.714-15 15-15 8.282 0 15 6.716 15 15 0 3.258-1.052 6.266-2.816 8.726\\\" /><path stroke=\\\"#9AE6B3\\\" d=\\\"M17.016 24.307C17.012 24.203 17 24.1 17 24c0-3.916 3.2-7 7-7 3.808 0 7 3.09 7 7 0 .1-.012.202-.016.306\\\" /><path fill=\\\"#35CE68\\\" stroke=\\\"#35CE68\\\" d=\\\"M14 47h20L24 27z\\\" /><path stroke=\\\"#35CE68\\\" d=\\\"M24 27v-4\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\n\nimport styles from 'styles/placeholder'\n\nexport const LoadingPlaceholder = () => {\n  return <span className={styles['coz-loading-placeholder']} />\n}\n\nexport default LoadingPlaceholder\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-konnector-header-icon-wrapper\":\"col-konnector-header-icon-wrapper--1oMyA\",\"col-konnector-header-icon-wrapper--center\":\"col-konnector-header-icon-wrapper--center--3aLBw\",\"col-konnector-header-icon\":\"col-konnector-header-icon--2Yxl_\",\"col-konnector-header-icon--center\":\"col-konnector-header-icon--center--3rGkD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-account-connection\":\"col-account-connection--3AgeF\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-videostream_cd88c27057187cc36fedc4ff3b1a25cd\",\n  \"use\": \"icon-videostream_cd88c27057187cc36fedc4ff3b1a25cd-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-videostream_cd88c27057187cc36fedc4ff3b1a25cd\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#F52D2D\\\" d=\\\"M7 36c-1.654 0-3-1.346-3-3 0-1.655 1.346-3 3-3h13.068c1.43 1.204 2.285-2.3.906-3.882-1.474-1.69-5.217-1.47-4.37-.119H7c-3.86 0-7 3.14-7 7s3.14 7 7 7h34c1.102 0 2 .899 2 2 0 1.105-.898 2-2 2H21A2 2 0 0 0 21 48h20c3.308 0 6-2.692 6-6s-2.692-6-6-6H7z\\\" /><path fill=\\\"#FCBFBF\\\" d=\\\"M31 34c-9.389 0-17-7.612-17-17.001 0-9.39 7.611-17 17-17s17 7.61 17 17-7.611 17-17 17zm0-21.001c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z\\\" /><path fill=\\\"#F52D2D\\\" d=\\\"M19.057 12.078a1 1 0 0 1 .524-.574.987.987 0 0 1 .776-.028l5 1.91c.278.108.492.33.59.61a.997.997 0 0 1-.09.842c-.98 1.624-.626 3.322-.154 4.458.102.248.1.526-.004.774-.104.246-.304.44-.552.54l-4.724 1.864a.968.968 0 0 1-.424.118h-.042c-.462 0-.872-.314-.984-.762-1.468-3.686-.768-7.33.084-9.752zm7.132-7.12c.014-.002.028-.006.042-.006 2.9-1.136 6.292-1.092 9.69.104a1.002 1.002 0 0 1 .592 1.33L34.6 10.962a1 1 0 0 1-1.458.462 5.987 5.987 0 0 0-4.44.044.999.999 0 0 1-1.306-.54L25.533 6.44a.98.98 0 0 1-.124-.438l-.002-.022c-.02-.486.31-.916.782-1.022zm15.38 6.572a.962.962 0 0 1 .43-.12c.476-.038.912.296 1.026.758 1.47 3.69.772 7.334-.082 9.754a.994.994 0 0 1-.944.67.993.993 0 0 1-.356-.066l-5-1.912a1.005 1.005 0 0 1-.5-1.452c.982-1.624.626-3.32.156-4.458a.994.994 0 0 1 .556-1.312l4.714-1.862zm-5.74 17.496c-1.418.566-2.948.85-4.552.85-1.692 0-3.442-.314-5.2-.932a.994.994 0 0 1-.574-.524.983.983 0 0 1-.026-.778l1.91-5a.997.997 0 0 1 1.45-.498c1.28.772 2.852.818 4.458.154.248-.102.526-.1.772.002.248.106.442.306.54.556l1.868 4.724c.068.126.11.272.116.42.02.478-.3.912-.762 1.026z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./en-SG\": \"zavE\",\n\t\"./en-SG.js\": \"zavE\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"iUaz\";","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-weight_9601acf6c9e9695e5d8c406b71217ed7\",\n  \"use\": \"icon-weight_9601acf6c9e9695e5d8c406b71217ed7-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-weight_9601acf6c9e9695e5d8c406b71217ed7\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"#95999D\\\" d=\\\"M43 45H5c-2.202 0-4-1.643-4-3.652V6.652C1 4.642 2.798 3 5 3h38c2.2 0 4 1.642 4 3.652v34.696C47 43.357 45.2 45 43 45z\\\" /><g stroke=\\\"currentColor\\\" transform=\\\"translate(16 9)\\\"><circle cx=\\\"8\\\" cy=\\\"8\\\" r=\\\"8\\\" /><path d=\\\"M1 12h14M7 32h2M8 12l3-7\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./icon-activity.svg\": \"ffmE\",\n\t\"./icon-appointment.svg\": \"GqSd\",\n\t\"./icon-arrow-left.svg\": \"30Td\",\n\t\"./icon-bankAccounts.svg\": \"TxWu\",\n\t\"./icon-bankTransactions.svg\": \"2Yr2\",\n\t\"./icon-bill.svg\": \"7iWW\",\n\t\"./icon-bloodPressure.svg\": \"4zVC\",\n\t\"./icon-calendar.svg\": \"y1LY\",\n\t\"./icon-call-log.svg\": \"CpzW\",\n\t\"./icon-categories-active.svg\": \"nPAt\",\n\t\"./icon-categories.svg\": \"kqSk\",\n\t\"./icon-certificate.svg\": \"2Uj3\",\n\t\"./icon-check.svg\": \"NYQX\",\n\t\"./icon-commit.svg\": \"pcU9\",\n\t\"./icon-consumption.svg\": \"fi0+\",\n\t\"./icon-contact.svg\": \"KWOR\",\n\t\"./icon-contract.svg\": \"PXPp\",\n\t\"./icon-courseMaterial.svg\": \"REJr\",\n\t\"./icon-dashboard.svg\": \"arv2\",\n\t\"./icon-document.svg\": \"VhrW\",\n\t\"./icon-event.svg\": \"OgEr\",\n\t\"./icon-fallback.svg\": \"f8QR\",\n\t\"./icon-family.svg\": \"/HEB\",\n\t\"./icon-files-pen.svg\": \"2sw9\",\n\t\"./icon-forbidden.svg\": \"PUsB\",\n\t\"./icon-geolocation.svg\": \"Vwsq\",\n\t\"./icon-geopoint.svg\": \"tEly\",\n\t\"./icon-graduated.svg\": \"YhzV\",\n\t\"./icon-heartbeat.svg\": \"uE6Y\",\n\t\"./icon-home.svg\": \"Souy\",\n\t\"./icon-money.svg\": \"vjPt\",\n\t\"./icon-movies.svg\": \"bqY2\",\n\t\"./icon-new.svg\": \"J+7E\",\n\t\"./icon-phonecommunicationlog.svg\": \"ksYY\",\n\t\"./icon-picture.svg\": \"K2+G\",\n\t\"./icon-pin-active.svg\": \"HGt1\",\n\t\"./icon-pin.svg\": \"S7vQ\",\n\t\"./icon-podcast.svg\": \"tLC1\",\n\t\"./icon-profile.svg\": \"7J9o\",\n\t\"./icon-refund.svg\": \"+Zor\",\n\t\"./icon-sinister.svg\": \"c8Vx\",\n\t\"./icon-sleepTime.svg\": \"KxmK\",\n\t\"./icon-stepsNumber.svg\": \"LIMy\",\n\t\"./icon-sync.svg\": \"3Oar\",\n\t\"./icon-temperature.svg\": \"NkDc\",\n\t\"./icon-travelDate.svg\": \"2Hrj\",\n\t\"./icon-tweet.svg\": \"Dred\",\n\t\"./icon-videostream.svg\": \"iEAv\",\n\t\"./icon-warning.svg\": \"Acww\",\n\t\"./icon-waves.svg\": \"gGE0\",\n\t\"./icon-weight.svg\": \"ie9e\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"iwqY\";","/* global cozy, PouchDB, pouchdbFind */\nimport {\n  startDoctypeSync,\n  syncDoctypeOk,\n  syncDoctypeError\n} from '../slices/synchronization'\n\nconst REPLICATION_INTERVAL = 30000\nexport const SYNC_BIDIRECTIONAL = 'SYNC_BIDIRECTIONAL'\nexport const SYNC_TO = 'SYNC_TO'\nexport const SYNC_FROM = 'SYNC_FROM'\n\nexport default class PouchdbAdapter {\n  constructor() {\n    PouchDB.plugin(pouchdbFind)\n    this.instances = {}\n    this.doctypes = []\n  }\n\n  registerDoctypes(doctypes) {\n    this.doctypes = doctypes\n  }\n\n  getDatabase(doctype) {\n    return cozy.client.offline.getDatabase(doctype) // For now we let cozy-client-js creates PouchDB instances\n  }\n\n  getReplicationBaseUrl() {\n    return cozy.client.authorize().then(credentials => {\n      const basic = credentials.token.toBasicAuth()\n      return `${cozy.client._url}/data/`.replace('//', `//${basic}`)\n    })\n  }\n\n  getSeqNumber(doctype) {\n    return this.getDatabase(doctype)\n      .info()\n      .then(result => result.update_seq)\n  }\n\n  async sync(dispatch, direction = SYNC_BIDIRECTIONAL) {\n    const baseUrl = await this.getReplicationBaseUrl()\n    for (let doctype of this.doctypes) {\n      const seqNumber = await this.getSeqNumber(doctype)\n      await dispatch(startDoctypeSync(doctype, seqNumber))\n      this.syncDoctype(doctype, `${baseUrl}${doctype}`, dispatch, direction)\n    }\n  }\n\n  syncDoctype(\n    doctype,\n    replicationUrl,\n    dispatch,\n    direction = SYNC_BIDIRECTIONAL\n  ) {\n    return new Promise((resolve, reject) => {\n      const db = this.getDatabase(doctype)\n\n      let syncHandler\n      if (direction === SYNC_TO) syncHandler = db.replicate.to(replicationUrl)\n      else if (direction === SYNC_FROM)\n        syncHandler = db.replicate.from(replicationUrl)\n      else syncHandler = db.sync(replicationUrl)\n\n      syncHandler\n        .on('complete', info => {\n          dispatch(syncDoctypeOk(doctype, info))\n          this.scheduleNextSync(doctype, replicationUrl, dispatch, direction)\n          resolve(info)\n        })\n        .on('error', err => {\n          if (err.error === 'code=400, message=Expired token') {\n            return cozy.client.authorize().then(({ client, token }) => {\n              cozy.client.auth\n                .refreshToken(cozy, client, token)\n                .then(newToken => cozy.client.saveCredentials(client, newToken))\n                .then(() => this.syncDoctype(doctype, replicationUrl))\n            })\n          } else if (err.status !== 404) {\n            // A 404 error on some doctypes is perfectly normal when there is no data\n            dispatch(syncDoctypeError(doctype, err))\n            this.scheduleNextSync(doctype, replicationUrl, dispatch)\n            reject(err)\n          }\n        })\n    })\n  }\n\n  scheduleNextSync(doctype, replicationUrl, dispatch, direction) {\n    setTimeout(() => {\n      this.syncDoctype(doctype, replicationUrl, dispatch, direction)\n    }, REPLICATION_INTERVAL)\n  }\n\n  async fetchDocuments(doctype) {\n    const resp = await this.getDatabase(doctype).allDocs({ include_docs: true })\n    return {\n      data: resp.rows\n        .filter(row => !row.doc.hasOwnProperty('views'))\n        .map(row => ({ ...row.doc, id: row.id, _type: doctype })),\n      meta: { count: resp.total_rows },\n      skip: resp.offset,\n      next: false\n    }\n  }\n\n  async queryDocuments(doctype, index, options) {\n    const queryOptions = {\n      ...options,\n      fields: [...options.fields, '_id'],\n      sort: options.sort\n        ? Object.keys(options.sort).map(k => ({ [k]: options.sort[k] }))\n        : undefined\n    }\n    const resp = await this.getDatabase(doctype).find(queryOptions)\n\n    return {\n      data: resp.docs.map(doc => ({ ...doc, id: doc._id, _type: doctype })),\n      meta: { count: resp.docs.length },\n      skip: 0,\n      next: false\n    }\n  }\n\n  async fetchDocument(doctype, id) {\n    const resp = await this.getDatabase(doctype).get(id, { revs_info: true }) // We need the revs_info option to get the _rev property\n    return { data: [{ ...resp, id: resp.id, _id: resp.id, _type: doctype }] }\n  }\n\n  async createDocument(doctype, doc) {\n    const resp = await this.getDatabase(doctype).post(doc)\n    return {\n      data: [\n        { ...doc, id: resp.id, _id: resp.id, _type: doctype, _rev: resp.rev }\n      ]\n    }\n  }\n\n  async updateDocument(doc) {\n    // TODO: _* properties are reserved by CouchDB, so we can't send the doc with its _type property...\n    const { _type, ...safeDoc } = doc\n    const resp = await this.getDatabase(_type).put(safeDoc)\n    return { data: [{ ...doc, _rev: resp.rev }] }\n  }\n\n  async deleteDocument(doc) {\n    await this.getDatabase(doc._type).remove(doc)\n    return { data: [doc] }\n  }\n\n  createIndex(doctype, fields) {\n    return this.getDatabase(doctype).createIndex({ index: { fields } })\n  }\n\n  fetchFileByPath() {\n    throw new Error('Not implemented')\n  }\n\n  createFile() {\n    throw new Error('Not implemented')\n  }\n\n  trashFile() {\n    throw new Error('Not implemented')\n  }\n\n  fetchReferencedFiles() {\n    throw new Error('Not implemented')\n  }\n\n  addReferencedFiles() {\n    throw new Error('Not implemented')\n  }\n\n  removeReferencedFiles() {\n    throw new Error('Not implemented')\n  }\n}\n","var map = {\n\t\"./en.json\": \"8WAw\",\n\t\"./fr.json\": \"H488\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"kGy0\";","/* jobs lib ready to be added to cozy-client-js */\nimport * as realtime from 'lib/realtime'\n\nconst JOBS_DOCTYPE = 'io.cozy.jobs'\n\nfunction decode(job) {\n  // Retrieve message properties directly into job\n  return { ...job, ...job.message }\n}\n\nexport function subscribe(cozy, job) {\n  return realtime.subscribe(cozy, JOBS_DOCTYPE, job, decode)\n}\n\nexport function subscribeAll(cozy) {\n  return realtime.subscribeAll(cozy, JOBS_DOCTYPE, decode)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-categories_4d4e4e7a64d020feafa38f772bdd107c\",\n  \"use\": \"icon-categories_4d4e4e7a64d020feafa38f772bdd107c-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"icon-categories_4d4e4e7a64d020feafa38f772bdd107c\\\"><path d=\\\"M3.243 6.034L.671 4.842a.779.779 0 0 1-.396-.397c-.197-.496 0-.894.396-1.093L7.792.075c.198-.1.395-.1.594 0l7.12 3.277a.746.746 0 0 1 .494.696.746.746 0 0 1-.494.695l-2.67 1.291-.594.298-3.856 1.887a.694.694 0 0 1-.693 0c-.198-.105-3.857-1.887-3.857-1.887l-.593-.298zm12.03 4.807c.78.4.675 1.345-.086 1.756L8.421 15.9a.985.985 0 0 1-.864 0L.572 12.49a.779.779 0 0 1-.396-.397c-.197-.497 0-.894.396-1.093l.89-.397 2.472 1.192 3.627 1.73a.984.984 0 0 0 .857-.005l3.725-1.825 2.373-1.19.756.336zm.53-3.218c.197.397 0 .894-.594 1.192l-2.274 1.092-.594.3-4.058 2.036a.98.98 0 0 1-.883 0l-4.058-2.037-.594-.299L.474 8.815a.777.777 0 0 1-.396-.398c-.198-.496 0-.894.396-1.092l1.285-.596 2.176.993 3.626 1.73a.986.986 0 0 0 .858-.005l4.12-2.023 1.582-.794 1.286.596a.771.771 0 0 1 .396.397z\\\" fill=\\\"#95999D\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-phonecommunicationlog_4cf33585623afb4f23724bc7a06f5746\",\n  \"use\": \"icon-phonecommunicationlog_4cf33585623afb4f23724bc7a06f5746-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-phonecommunicationlog_4cf33585623afb4f23724bc7a06f5746\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#A9CBF9\\\" d=\\\"M9 2C7.344 2 6 3.346 6 5s1.345 3 3 3h32.992c1.107 0 2.007.894 2.007 1.997v36.006A2 2 0 0 1 41.992 48H8.999c-2.756 0-5-2.244-5-5V6c0-.108.018-.208.048-.306A5.007 5.007 0 0 1 9 0h34a1 1 0 1 1 0 2H9zm0 2h32a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2z\\\" /><path fill=\\\"#297EF1\\\" d=\\\"M21.818 22.32a2.52 2.52 0 0 0 .002-3.566l-2.676-2.678a2.528 2.528 0 0 0-3.57 0l-1.47 1.468a3.781 3.781 0 0 0-.474 4.762 58.547 58.547 0 0 0 16.4 16.398 3.784 3.784 0 0 0 4.762-.474l1.468-1.468a2.522 2.522 0 0 0 0-3.568l-2.676-2.676a2.518 2.518 0 0 0-3.568 0l-.892.89a60.016 60.016 0 0 1-8.198-8.196l.892-.892z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","export { default as CozyProvider } from './CozyProvider'\nexport { default as CozyClient } from './CozyClient'\nexport { default as cozyConnect } from './connect'\nexport { default as cozyMiddleware } from './middleware'\nexport {\n  default as reducer,\n  makeActionCreator,\n  fetchApps,\n  fetchCollection,\n  fetchDocument,\n  fetchReferencedFiles,\n  fetchKonnectors,\n  fetchTriggers,\n  addReferencedFiles,\n  removeReferencedFiles,\n  applySelectorForAction,\n  enhancePropsForActions,\n  getCollection,\n  getDocument,\n  createDocument,\n  createTrigger,\n  launchTrigger,\n  updateDocument,\n  deleteDocument,\n  deleteTrigger,\n  createFile,\n  trashFile,\n  CREATE_DOCUMENT\n} from './reducer'\nexport {\n  fetchSharings,\n  fetchContacts,\n  getSharingDetails,\n  share,\n  unshare,\n  leave,\n  shareByLink,\n  revokeLink\n} from './slices/sharings'\nexport { startSync, isFirstSync, isSynced } from './slices/synchronization'\n\nexport { downloadArchive, downloadFile } from './helpers'\n","import React from 'react'\nimport has from 'lodash/has'\n\nimport { TriggerManager } from 'cozy-harvest-lib'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Tab, Tabs, TabList, TabPanels, TabPanel } from 'cozy-ui/react/Tabs'\n\nimport warningSvg from 'assets/sprites/icon-warning.svg'\nimport AccountConnectionData from 'components/AccountConnectionData'\nimport AccountLogout from 'components/AccountLogout'\nimport DescriptionContent from 'components/DescriptionContent'\nimport ErrorMessage from 'components/Banners/ErrorMessage'\nimport KonnectorMaintenance from 'components/KonnectorMaintenance'\nimport KonnectorSync from 'components/KonnectorSync'\nimport TriggerFolderLink from 'components/TriggerFolderLink'\nimport styles from 'styles/konnectorEdit'\nimport { getKonnectorMessage, isKonnectorLoginError } from 'lib/konnectors'\n\nexport const KonnectorEdit = props => {\n  const {\n    t,\n    account,\n    connector,\n    error,\n    lastSuccess,\n    onDeleteError,\n    onDeleteSuccess,\n    submitting,\n    trigger,\n    maintenance,\n    lang\n  } = props\n\n  const warningIcon = (\n    <svg className={styles['item-status-icon']}>\n      <use xlinkHref={`#${warningSvg.id}`} />\n    </svg>\n  )\n  const hasLoginError = isKonnectorLoginError(error)\n  const hasErrorExceptLogin = !!error && !hasLoginError\n\n  return (\n    <div className={styles['col-account-edit-content']}>\n      {!maintenance &&\n        trigger &&\n        !!error && (\n          <ErrorMessage\n            konnector={connector}\n            error={error}\n            isKonnectorRunning={submitting}\n            trigger={trigger}\n          />\n        )}\n\n      <Tabs\n        initialActiveTab={hasLoginError ? 'account' : 'sync'}\n        className={styles['col-account-edit-tabs']}\n      >\n        <TabList>\n          <Tab name=\"sync\" className={styles['col-account-edit-tab']}>\n            {t('account.config.tabs.sync')}\n            {hasErrorExceptLogin && warningIcon}\n          </Tab>\n          <Tab name=\"account\" className={styles['col-account-edit-tab']}>\n            {t('account.config.tabs.account')}\n            {hasLoginError && warningIcon}\n          </Tab>\n          <Tab name=\"data\" className={styles['col-account-edit-tab']}>\n            {t('account.config.tabs.data')}\n          </Tab>\n        </TabList>\n\n        <TabPanels>\n          <TabPanel name=\"sync\" className={styles['col-account-edit-tabpanel']}>\n            {maintenance &&\n              maintenance.longTerm && (\n                <KonnectorMaintenance\n                  maintenance={maintenance}\n                  lang={lang}\n                  konnectorName={connector.name}\n                />\n              )}\n            <KonnectorSync\n              frequency={connector.frequency || 'weekly'}\n              lastSuccessDate={lastSuccess}\n              maintenance={maintenance}\n              submitting={submitting}\n              trigger={trigger}\n            />\n            {has(trigger, 'message.folder_to_save') && (\n              <DescriptionContent\n                title={t('account.folder.withoutSettings.title')}\n              >\n                <p className=\"u-mv-half\">\n                  <TriggerFolderLink\n                    folderId={trigger.message.folder_to_save}\n                    label={t('account.folder.link')}\n                  />\n                </p>\n              </DescriptionContent>\n            )}\n          </TabPanel>\n\n          <TabPanel\n            name=\"account\"\n            className={styles['col-account-edit-tabpanel']}\n          >\n            <DescriptionContent\n              messages={[getKonnectorMessage(t, connector, 'terms')]}\n            />\n            <TriggerManager\n              account={account}\n              konnector={connector}\n              showError={false}\n              trigger={trigger}\n              running={submitting}\n            />\n            {\n              <AccountLogout\n                account={account}\n                onError={onDeleteError}\n                onSuccess={onDeleteSuccess}\n              />\n            }\n          </TabPanel>\n\n          <TabPanel name=\"data\" className={styles['col-account-edit-tabpanel']}>\n            <AccountConnectionData connector={connector} />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </div>\n  )\n}\n\nexport default translate()(KonnectorEdit)\n","import { cozyConnect } from 'redux-cozy-client'\n\nimport { fetchAccounts } from 'ducks/accounts'\nimport { fetchKonnectors } from 'ducks/konnectors'\nimport { fetchKonnectorJobs } from 'ducks/jobs'\nimport { fetchTriggers } from 'ducks/triggers'\n\nconst mapDocumentsToProps = () => ({\n  accounts: fetchAccounts(),\n  jobs: fetchKonnectorJobs(),\n  konnectors: fetchKonnectors(),\n  triggers: fetchTriggers()\n  // TODO: fetch registry\n  // registry: fetchRegistry()\n})\n\nconst appEntryPoint = (WrappedComponent, selectData) =>\n  cozyConnect(mapDocumentsToProps)(WrappedComponent, selectData)\n\nexport default appEntryPoint\n","/* global cozy */\nimport React, { Component } from 'react'\n\nimport Spinner from 'cozy-ui/react/Spinner'\n\nexport class StoreRedirection extends Component {\n  constructor(props) {\n    super(props)\n    const category = props.match && props.match.params.category\n    const options = { type: 'konnector' }\n    if (category && category !== 'all') {\n      options.category = props.match.params.category\n    }\n    cozy.client.intents.redirect('io.cozy.apps', options)\n  }\n\n  render() {\n    return <Spinner size=\"xxlarge\" middle />\n  }\n}\n\nexport default StoreRedirection\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-categories-active_e77456dca4b6770e95049d75174e5548\",\n  \"use\": \"icon-categories-active_e77456dca4b6770e95049d75174e5548-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"icon-categories-active_e77456dca4b6770e95049d75174e5548\\\"><path d=\\\"M3.243 6.034L.671 4.842a.779.779 0 0 1-.396-.397c-.197-.496 0-.894.396-1.093L7.792.075c.198-.1.395-.1.594 0l7.12 3.277a.746.746 0 0 1 .494.696.746.746 0 0 1-.494.695l-2.67 1.291-.594.298-3.856 1.887a.694.694 0 0 1-.693 0c-.198-.105-3.857-1.887-3.857-1.887l-.593-.298zm12.03 4.807c.78.4.675 1.345-.086 1.756L8.421 15.9a.985.985 0 0 1-.864 0L.572 12.49a.779.779 0 0 1-.396-.397c-.197-.497 0-.894.396-1.093l.89-.397 2.472 1.192 3.627 1.73a.984.984 0 0 0 .857-.005l3.725-1.825 2.373-1.19.756.336zm.53-3.218c.197.397 0 .894-.594 1.192l-2.274 1.092-.594.3-4.058 2.036a.98.98 0 0 1-.883 0l-4.058-2.037-.594-.299L.474 8.815a.777.777 0 0 1-.396-.398c-.198-.496 0-.894.396-1.092l1.285-.596 2.176.993 3.626 1.73a.986.986 0 0 0 .858-.005l4.12-2.023 1.582-.794 1.286.596a.771.771 0 0 1 .396.397z\\\" fill=\\\"#297EF2\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","export const mapValues = (object, transform) => {\n  let result = {}\n  for (const key in object) {\n    result[key] = transform(object[key], key)\n  }\n  return result\n}\n\nexport const filterValues = (object, filter) => {\n  let result = {}\n  for (const key in object) {\n    if (filter(object[key], key)) {\n      result[key] = object[key]\n    }\n  }\n  return result\n}\n\nexport const removeObjectProperty = (obj, prop) => {\n  return Object.keys(obj).reduce((result, key) => {\n    if (key !== prop) {\n      result[key] = obj[key]\n    }\n    return result\n  }, {})\n}\n","import { combineReducers } from 'redux'\nimport { getTracker } from 'cozy-ui/react/helpers/tracker'\nimport { getDocument, createDocument, fetchCollection } from '../reducer'\n\nexport const FETCH_SHARINGS = 'FETCH_SHARINGS'\nconst RECEIVE_SHARINGS_DATA = 'RECEIVE_SHARINGS_DATA'\nconst RECEIVE_FETCH_SHARINGS_ERROR = 'RECEIVE_FETCH_SHARINGS_ERROR'\nconst CREATE_SHARING = 'CREATE_SHARING'\nconst RECEIVE_NEW_SHARING = 'RECEIVE_NEW_SHARING'\nconst CREATE_SHARING_LINK = 'CREATE_SHARING_LINK'\nconst RECEIVE_NEW_SHARING_LINK = 'RECEIVE_NEW_SHARING_LINK'\nconst REVOKE_SHARING_LINK = 'REVOKE_SHARING_LINK'\nconst RECEIVE_SHARING_LINK_REVOKE = 'RECEIVE_SHARING_LINK_REVOKE'\nconst REVOKE_SHARING = 'REVOKE_SHARING'\nconst RECEIVE_SHARING_REVOKE = 'RECEIVE_SHARING_REVOKE'\nconst RECEIVE_ERROR = 'RECEIVE_ERROR'\n\nconst removeRecipient = (recipients, recipientId) => {\n  const idx = recipients.findIndex(r => r.recipient.id === recipientId)\n  return [...recipients.slice(0, idx), ...recipients.slice(idx + 1)]\n}\n\nconst documents = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_SHARINGS_DATA:\n      return action.response.sharings\n    case RECEIVE_NEW_SHARING:\n      return [...state, action.response]\n    case RECEIVE_SHARING_REVOKE: {\n      const idx = state.findIndex(\n        s => s.attributes.sharing_id === action.sharingId\n      )\n      if (idx === -1) return state\n      const sharing = state[idx]\n      const loneRecipient =\n        sharing.attributes.recipients === undefined || // for recipient-side revocation\n        sharing.attributes.recipients.length === 1\n      const newState = loneRecipient\n        ? { ...sharing, attributes: { ...sharing.attributes, revoked: true } }\n        : {\n            ...sharing,\n            attributes: {\n              ...sharing.attributes,\n              recipients: removeRecipient(\n                sharing.attributes.recipients,\n                action.recipientId\n              )\n            }\n          }\n      return [...state.slice(0, idx), newState, ...state.slice(idx + 1)]\n    }\n    default:\n      return state\n  }\n}\n\nconst doctypePermsetInitialState = {\n  fetchStatus: 'loading',\n  byMe: [],\n  byLink: [],\n  withMe: []\n}\n\nconst permissions = (state = {}, action) => {\n  let idx\n  switch (action.type) {\n    case FETCH_SHARINGS:\n      if (state[action.doctype]) {\n        return {\n          ...state,\n          [action.doctype]: { ...state[action.doctype], fetchStatus: 'loading' }\n        }\n      }\n      return { ...state, [action.doctype]: doctypePermsetInitialState }\n    case RECEIVE_SHARINGS_DATA:\n      return {\n        ...state,\n        [action.doctype]: {\n          fetchStatus: 'loaded',\n          ...action.response.permissions\n        }\n      }\n    case RECEIVE_FETCH_SHARINGS_ERROR:\n      return { ...state, [action.doctype]: { fetchStatus: 'error' } }\n    case RECEIVE_NEW_SHARING:\n      return {\n        ...state,\n        [action.doctype]: {\n          ...state[action.doctype],\n          byMe: [\n            ...state[action.doctype].byMe,\n            {\n              attributes: {\n                permissions: {\n                  rule0: { type: action.doctype, values: [action.id] }\n                },\n                source_id: action.response.attributes.sharing_id,\n                type: 'io.cozy.sharings'\n              }\n            }\n          ]\n        }\n      }\n    case RECEIVE_NEW_SHARING_LINK:\n      return {\n        ...state,\n        [action.doctype]: {\n          ...state[action.doctype],\n          byLink: [...state[action.doctype].byLink, action.response]\n        }\n      }\n    case REVOKE_SHARING_LINK:\n      idx = state[action.doctype].byLink.findIndex(\n        p => action.permission._id === p._id\n      )\n      if (idx === -1) return state\n      return {\n        ...state,\n        [action.doctype]: {\n          ...state[action.doctype],\n          byLink: [\n            ...state[action.doctype].byLink.slice(0, idx),\n            ...state[action.doctype].byLink.slice(idx + 1)\n          ]\n        }\n      }\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({ documents, permissions })\n\n// actions\nexport const fetchSharings = (doctype, id = null, options = {}) => ({\n  types: [FETCH_SHARINGS, RECEIVE_SHARINGS_DATA, RECEIVE_FETCH_SHARINGS_ERROR],\n  doctype,\n  id,\n  options,\n  promise: client => client.fetchSharings(doctype)\n})\n\nexport const share = (\n  document,\n  recipients,\n  sharingType,\n  sharingDesc\n) => async dispatch => {\n  const recipientIds = await Promise.all(\n    recipients.map(\n      recipient =>\n        recipient.id ||\n        dispatch(createContact(recipient)).then(c => c.data[0].id)\n    )\n  )\n  trackSharingByEmail(document)\n  return dispatch(\n    createSharing(document, recipientIds, sharingType, sharingDesc)\n  )\n}\n\nexport const unshare = (document, recipient) => async (dispatch, getState) => {\n  const sharing = getSharingForRecipient(getState(), document, recipient)\n  const loneRecipient = sharing.attributes.recipients.length === 1\n  return dispatch({\n    types: [REVOKE_SHARING, RECEIVE_SHARING_REVOKE, RECEIVE_ERROR],\n    doctype: document._type,\n    id: document._id,\n    sharingId: sharing.attributes.sharing_id,\n    recipientId: recipient._id,\n    promise: client =>\n      loneRecipient\n        ? client.revokeSharing(sharing.attributes.sharing_id)\n        : client.revokeSharingForClient(\n            sharing.attributes.sharing_id,\n            sharing.attributes.recipients.find(\n              r => r.recipient.id === recipient._id\n            ).Client.client_id\n          )\n  })\n}\n\nexport const leave = document => async (dispatch, getState) => {\n  const sharings = getDocumentActiveSharings(\n    getState(),\n    document._type,\n    document._id\n  )\n  const sharing = sharings.find(s => s.attributes.owner === false)\n  return dispatch({\n    types: [REVOKE_SHARING, RECEIVE_SHARING_REVOKE, RECEIVE_ERROR],\n    doctype: document._type,\n    id: document._id,\n    sharingId: sharing.attributes.sharing_id,\n    promise: client => client.revokeSharing(sharing.attributes.sharing_id)\n  })\n}\n\nexport const shareByLink = document => {\n  trackSharingByLink(document)\n  return createSharingLink(document)\n}\n\nexport const revokeLink = document => async (dispatch, getState) => {\n  const perm = getSharingLinkPermission(\n    getState(),\n    document._type,\n    document._id\n  )\n  return dispatch({\n    types: [REVOKE_SHARING_LINK, RECEIVE_SHARING_LINK_REVOKE, RECEIVE_ERROR],\n    doctype: document._type,\n    id: document._id,\n    permission: perm,\n    promise: client => client.revokeSharingLink(perm)\n  })\n}\n\nconst createSharing = (\n  document,\n  contactIds,\n  sharingType = 'master-slave',\n  description = ''\n) => ({\n  types: [CREATE_SHARING, RECEIVE_NEW_SHARING, RECEIVE_ERROR],\n  doctype: document._type,\n  id: document._id,\n  promise: client =>\n    client.createSharing(\n      getPermissionsFor(document),\n      contactIds,\n      sharingType,\n      description\n    )\n})\n\nconst createSharingLink = document => ({\n  types: [CREATE_SHARING_LINK, RECEIVE_NEW_SHARING_LINK, RECEIVE_ERROR],\n  doctype: document._type,\n  id: document._id,\n  promise: client => client.createSharingLink(getPermissionsFor(document, true))\n})\n\n// TODO: this is a poor man's migration in order to normalize contacts\n// and should be removed after a few weeks in prod\n// Note for future-self: If you have no idea of what it means, please, erase this code.\n// Note for time-travelers: please travel a little more back in time in order to advise us\n// to get contacts right the first time\nexport const fetchContacts = () => {\n  const action = fetchCollection('contacts', 'io.cozy.contacts')\n  action.promise = async client => {\n    const response = await client.fetchCollection(\n      'contacts',\n      'io.cozy.contacts'\n    )\n    const data = await Promise.all(\n      response.data.map(contact => {\n        return typeof contact.email !== 'string'\n          ? contact\n          : client\n              .updateDocument({\n                ...contact,\n                email: [\n                  {\n                    address: contact.email,\n                    primary: true\n                  }\n                ]\n              })\n              .then(resp => resp.data[0])\n      })\n    )\n\n    return { ...response, data }\n  }\n  return action\n}\n\nconst createContact = ({ email }) =>\n  createDocument('io.cozy.contacts', {\n    email: [{ address: email, primary: true }]\n  })\n\nconst getPermissionsFor = (document, publicLink = false) => {\n  const { _id, _type } = document\n  const verbs = publicLink ? ['GET'] : ['ALL']\n  // TODO: this works for albums, but it needs to be generalized and integrated\n  // with cozy-client ; some sort of doctype \"schema\" will be needed here\n  return isFile(document)\n    ? {\n        files: {\n          type: 'io.cozy.files',\n          verbs,\n          values: [_id]\n        }\n      }\n    : {\n        collection: {\n          type: _type,\n          verbs,\n          values: [_id]\n        },\n        files: {\n          type: 'io.cozy.files',\n          verbs,\n          values: [`${_type}/${_id}`],\n          selector: 'referenced_by'\n        }\n      }\n}\n\n// selectors\nconst getSharing = (state, id) =>\n  state.cozy.sharings.documents.find(s => s.attributes.sharing_id === id)\nconst getContact = (state, id) => getDocument(state, 'io.cozy.contacts', id)\nconst getDoctypePermissions = (state, doctype) => {\n  if (state.cozy.sharings.permissions[doctype]) {\n    return state.cozy.sharings.permissions[doctype]\n  }\n  return doctypePermsetInitialState\n}\n\nconst getSharingLink = (state, doctype, id) => {\n  const perm = getSharingLinkPermission(state, doctype, id)\n  return perm\n    ? buildSharingLink(id, doctype, perm.attributes.codes.email)\n    : null\n}\n\nconst getSharingLinkPermission = (state, doctype, id) => {\n  const perms = getDoctypePermissions(state, doctype)\n  const type = isFile({ _type: doctype }) ? 'files' : 'collection'\n  return perms.byLink.find(\n    p => p.attributes.permissions[type].values.indexOf(id) !== -1\n  )\n}\n\nconst getSharingForRecipient = (state, document, recipient) => {\n  const sharings = getDocumentActiveSharings(\n    state,\n    document._type,\n    document._id\n  )\n  return sharings.find(s =>\n    s.attributes.recipients.find(r => r.recipient.id === recipient._id)\n  )\n}\n\nconst getDocumentActiveSharings = (state, doctype, id) => {\n  const perms = getDoctypePermissions(state, doctype)\n  return [\n    ...perms.byMe.filter(\n      perm => perm.attributes.permissions['rule0'].values.indexOf(id) !== -1\n    ),\n    ...perms.withMe.filter(\n      perm => perm.attributes.permissions['rule0'].values.indexOf(id) !== -1\n    )\n  ]\n    .map(p => getSharing(state, p.attributes.source_id))\n    .filter(s => !s.attributes.revoked)\n}\n\nexport const getSharings = (state, doctype) => {\n  const perms = getDoctypePermissions(state, doctype)\n  const type = doctype === 'io.cozy.files' ? 'files' : 'collection'\n  return {\n    byMe: perms.byMe.map(p => p.attributes.permissions['rule0'].values[0]),\n    withMe: perms.withMe.map(p => p.attributes.permissions['rule0'].values[0]),\n    byLink: perms.byLink.map(p => p.attributes.permissions[type].values[0])\n  }\n}\n\nexport const getSharingStatus = (state, doctype, id) => {\n  const sharings = getDocumentActiveSharings(state, doctype, id)\n  return {\n    shared: sharings.length !== 0,\n    owner:\n      sharings.length === 0 || sharings.some(s => s.attributes.owner === true),\n    sharingType: sharings.some(\n      s => s.attributes.sharing_type === 'master-master'\n    )\n      ? 'master-master'\n      : 'master-slave',\n    sharings\n  }\n}\n\nexport const getSharingDetails = (state, doctype, id) => {\n  const { shared, owner, sharingType, sharings } = getSharingStatus(\n    state,\n    doctype,\n    id\n  )\n  const sharingLink = getSharingLink(state, doctype, id)\n  return {\n    shared,\n    owner,\n    sharingType,\n    sharingLink,\n    sharer:\n      shared && !owner\n        ? { name: 'John Doe', url: sharings[0].attributes.sharer.url }\n        : null,\n    readOnly: !owner && sharingType === 'master-slave',\n    recipients: shared && owner ? getSharingRecipients(state, sharings) : [],\n    byMe: shared && owner === true,\n    withMe: shared && !owner,\n    byLink: !!sharingLink\n  }\n}\n\nconst getSharingRecipients = (state, sharings) =>\n  sharings\n    .filter(sharing => sharing.attributes.recipients)\n    .map(sharing =>\n      sharing.attributes.recipients.map(info => ({\n        contact: getContact(state, info.recipient.id),\n        status: info.status,\n        type: sharing.attributes.sharing_type\n      }))\n    )\n    .reduce((a, b) => a.concat(b), [])\n\nconst buildSharingLink = (id, doctype, sharecode) =>\n  `${window.location.origin}/public?sharecode=${sharecode}&id=${id}${\n    doctype === 'file' ? '&directdownload' : ''\n  }`\n\n// helpers\nconst isFile = ({ _type, type }) =>\n  _type === 'io.cozy.files' || type === 'directory' || type === 'file'\n\nconst track = (document, action) => {\n  const tracker = getTracker()\n  if (!tracker) {\n    return\n  }\n  tracker.push([\n    'trackEvent',\n    isFile(document) ? 'Drive' : 'Photos',\n    action,\n    `${action}${isFile(document) ? 'File' : 'Album'}`\n  ])\n}\nconst trackSharingByLink = document => track(document, 'shareByLink')\nconst trackSharingByEmail = document => track(document, 'shareByEmail')\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-commit_7fba8f35b75e62961d8560d96a90842b\",\n  \"use\": \"icon-commit_7fba8f35b75e62961d8560d96a90842b-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-commit_7fba8f35b75e62961d8560d96a90842b\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"#95999D\\\"><path d=\\\"M29.025 10a1 1 0 1 1-1.998.002A1 1 0 0 1 29.025 10h0zm6 0a1 1 0 1 1-1.998.002A1 1 0 0 1 35.025 10h0zm6 0a1 1 0 1 1-1.998.002A1 1 0 0 1 41.025 10h0z\\\" /><path d=\\\"M47.026 43h-46V5h46zM1.025 15h46\\\" /></g><g stroke=\\\"currentColor\\\"><path d=\\\"M13.025 21l5 5-5 5M25.025 27h8\\\" /></g></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\n\nconst fillWithGhostItems = num => {\n  const elements = []\n  for (let i = 0; i < num; i++) {\n    elements.push(<div className=\"item-wrapper--ghost\" key={i} />)\n  }\n  return elements\n}\n\nexport default fillWithGhostItems\n","import * as fromCozyClient from 'redux-cozy-client'\n\nexport const DOCTYPE = 'io.cozy.triggers'\n\nconst triggersCollectionKey = 'triggers'\n\n// CRUD action creators\n\nexport const fetchTriggers = () =>\n  fromCozyClient.fetchTriggers(triggersCollectionKey, 'konnector')\n\n// selectors\nexport const getKonnectorTriggers = (\n  state,\n  konnector,\n  existingAccountIds = []\n) => {\n  return (\n    (!!state.documents[DOCTYPE] &&\n      Object.values(state.documents[DOCTYPE]).filter(trigger => {\n        return (\n          trigger.worker === 'konnector' &&\n          trigger.message &&\n          trigger.message.konnector === konnector.slug &&\n          trigger.message.account &&\n          existingAccountIds.includes(trigger.message.account)\n        )\n      })) ||\n    []\n  )\n}\n\nexport const getTrigger = (state, id) =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  state.documents[DOCTYPE][id]\n","import Queue from './queue'\nimport { connect } from 'react-redux'\n\nimport { getConnectionsQueue } from 'reducers'\n\nimport { purgeQueue } from 'ducks/connections'\n\nconst mapStateToProps = state => {\n  const queue = getConnectionsQueue(state)\n  return {\n    queue: queue,\n    visible: !!queue.length\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n  purgeQueue: () => dispatch(purgeQueue())\n})\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Queue)\n","import React from 'react'\nimport DateFns from 'date-fns'\n\nimport Button from 'cozy-ui/react/Button'\nimport { translate } from 'cozy-ui/react/I18n'\nimport Icon from 'cozy-ui/react/Icon'\nimport { TriggerLauncher } from 'cozy-harvest-lib'\n\nimport DescriptionContent from 'components/DescriptionContent'\n\nfunction getDateLabel({ date, t, f }) {\n  return f(DateFns.parse(date), t('account.message.synced.date_format'))\n}\n\nconst months = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec'\n]\nconst dows = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n\nconst humanCron = cronSpec => {\n  try {\n    const [, minute, hour, , month, dayOfWeek] = cronSpec.split(' ')\n    const timePart =\n      hour !== '*' && minute !== '*'\n        ? `at ${hour}:${minute}`\n        : hour !== '*'\n          ? `${hour}h`\n          : `Any hour on ${minute}minute`\n    const monthPart = month !== '*' ? `during ${months[month]}` : ''\n    const dowPart = dayOfWeek !== '*' ? `on ${dows[dayOfWeek]}` : ''\n    return [timePart, monthPart, dowPart].join(' ')\n  } catch (e) {\n    return JSON.stringify(e)\n  }\n}\n\nexport const KonnectorSync = ({\n  t,\n  f,\n  frequency,\n  lastSuccessDate,\n  maintenance,\n  submitting,\n  trigger\n}) => {\n  const lastSyncMessage =\n    (submitting && t('account.message.synced.syncing')) ||\n    (!lastSuccessDate && t('account.message.synced.unknown')) ||\n    (lastSuccessDate && getDateLabel({ date: lastSuccessDate, t, f })) ||\n    null\n  return (\n    <div title={`Scheduled execution : ${humanCron(trigger.arguments)}`}>\n      {\n        <DescriptionContent\n          title={t('account.message.synced.title')}\n          messages={[\n            lastSyncMessage\n              ? t('account.message.synced.last_sync', { date: lastSyncMessage })\n              : '',\n            t('account.message.synced.cron', {\n              frequency: t(`account.message.synced.cron_${frequency}`)\n            })\n          ]}\n        />\n      }\n      {!maintenance && (\n        <TriggerLauncher trigger={trigger} submitting={submitting}>\n          {({ launch, running }) => (\n            <Button\n              label={t('account.forceConnection')}\n              icon={<Icon focusable=\"false\" icon=\"sync\" spin={running} />}\n              className=\"u-mv-half u-mh-0\"\n              disabled={running}\n              onClick={launch}\n              subtle\n            />\n          )}\n        </TriggerLauncher>\n      )}\n    </div>\n  )\n}\n\nexport default translate()(KonnectorSync)\n","import DateFns from 'date-fns'\nconst DOCTYPE = 'io.cozy.jobs'\n\n// CRUD\n\nexport const fetchKonnectorJobs = () => {}\n\n// selectors\n\nexport const getTriggerLastJob = (state, trigger) => {\n  // state is state.cozy\n  if (!state.documents || !state.documents[DOCTYPE] || !trigger) return null\n  return Object.values(state.documents[DOCTYPE]).reduce(\n    (lastestJob, currentJob) => {\n      if (currentJob.trigger_id !== trigger._id) return lastestJob\n      if (!lastestJob) return currentJob\n      return DateFns.isAfter(currentJob.started_at, lastestJob.started_at)\n        ? currentJob\n        : lastestJob\n    },\n    null\n  )\n}\n\nexport const isJobRunning = (state, job) =>\n  !!job && ['queued', 'running'].includes(job.state)\n","const START_SYNC = 'START_SYNC'\nconst START_DOCTYPE_SYNC = 'START_DOCTYPE_SYNC'\nconst SYNC_DOCTYPE_OK = 'SYNC_DOCTYPE_OK'\nconst SYNC_DOCTYPE_ERROR = 'SYNC_DOCTYPE_ERROR'\n\nconst doctypeSyncInitialState = {\n  syncStatus: 'pending',\n  lastSync: null,\n  seqNumber: 0\n}\n\nconst doctypeSync = (state = doctypeSyncInitialState, action) => {\n  switch (action.type) {\n    case START_DOCTYPE_SYNC:\n      return {\n        ...state,\n        syncStatus: 'syncing',\n        seqNumber: action.seqNumber\n      }\n    case SYNC_DOCTYPE_OK:\n      return {\n        ...state,\n        syncStatus: 'done',\n        lastSync: Date.now()\n      }\n    case SYNC_DOCTYPE_ERROR:\n      return {\n        ...state,\n        syncStatus: 'error',\n        lastSync: Date.now()\n      }\n    default:\n      return state\n  }\n}\n\nconst synchronization = (state = {}, action) => {\n  switch (action.type) {\n    case START_DOCTYPE_SYNC:\n    case SYNC_DOCTYPE_OK:\n    case SYNC_DOCTYPE_ERROR:\n      return {\n        ...state,\n        [action.doctype]: doctypeSync(state[action.doctype], action)\n      }\n    default:\n      return state\n  }\n}\n\nexport default synchronization\n\nexport const startSync = () => async dispatch => {\n  return dispatch({\n    type: START_SYNC,\n    promise: client => client.startSync(dispatch)\n  })\n}\n\nexport const startDoctypeSync = (doctype, seqNumber = 0) => ({\n  type: START_DOCTYPE_SYNC,\n  doctype,\n  seqNumber\n})\n\nexport const syncDoctypeOk = (doctype, infos) => ({\n  type: SYNC_DOCTYPE_OK,\n  doctype,\n  infos\n})\n\nexport const syncDoctypeError = (doctype, error) => ({\n  type: SYNC_DOCTYPE_ERROR,\n  doctype,\n  error\n})\n\nexport const isFirstSync = state => {\n  const seqNumbers = Object.keys(state.cozy.synchronization).map(\n    doctype => state.cozy.synchronization[doctype].seqNumber\n  )\n  return seqNumbers.every(number => number === 0)\n}\n\nexport const isSynced = state => {\n  const timestamps = Object.keys(state.cozy.synchronization).map(\n    doctype => state.cozy.synchronization[doctype].lastSync\n  )\n  return timestamps.every(ts => ts !== null)\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-geopoint_aaa0388bb7a67d5d2c81eb2b667a390a\",\n  \"use\": \"icon-geopoint_aaa0388bb7a67d5d2c81eb2b667a390a-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-geopoint_aaa0388bb7a67d5d2c81eb2b667a390a\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FCBFBF\\\" d=\\\"M47 24c0 12.704-10.298 23-23 23C11.296 47 1 36.704 1 24 1 11.3 11.296 1 24 1c12.702 0 23 10.3 23 23z\\\" /><path fill=\\\"#F62C2C\\\" d=\\\"M21 39V27H9l25-13z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-podcast_42e4b77ad71166af14a3146ea83184b5\",\n  \"use\": \"icon-podcast_42e4b77ad71166af14a3146ea83184b5-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-podcast_42e4b77ad71166af14a3146ea83184b5\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"#9AE6B3\\\" d=\\\"M40.613 39.898A22.924 22.924 0 0 0 47 24C47 11.296 36.703 1 24 1 11.297 1 1 11.296 1 24c0 6.166 2.434 11.766 6.388 15.898\\\" /><path stroke=\\\"#9AE6B3\\\" d=\\\"M11.816 32.727A14.91 14.91 0 0 1 9 24c0-8.284 6.714-15 15-15 8.282 0 15 6.716 15 15 0 3.258-1.052 6.266-2.816 8.726\\\" /><path stroke=\\\"#9AE6B3\\\" d=\\\"M17.016 24.307C17.012 24.203 17 24.1 17 24c0-3.916 3.2-7 7-7 3.808 0 7 3.09 7 7 0 .1-.012.202-.016.306\\\" /><path fill=\\\"#35CE68\\\" stroke=\\\"#35CE68\\\" d=\\\"M14 47h20L24 27z\\\" /><path stroke=\\\"#35CE68\\\" d=\\\"M24 27v-4\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"broken_9342cfa6b915d1dfefa6a7aae75371ef\",\n  \"use\": \"broken_9342cfa6b915d1dfefa6a7aae75371ef-usage\",\n  \"viewBox\": \"0 0 64 19\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 19\\\" id=\\\"broken_9342cfa6b915d1dfefa6a7aae75371ef\\\"><path fill=\\\"currentColor\\\" d=\\\"M45.6.5c-.9-.6-2.1-.6-3.1-.1L21.2 11.9c-.6.3-1.4.3-2-.1L1.6.5C1.1.2.6 0 0 0v6.6l18.4 11.9c.9.6 2.1.6 3.1.1L42.8 7.1c.6-.3 1.4-.3 2 .1l17.5 11.4c.5.3 1.1.5 1.6.5v-6.6L45.6.5z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\n\nimport React from 'react'\n\nimport AppLinker from 'cozy-ui/react/AppLinker'\nimport Icon from 'cozy-ui/react/Icon'\nimport { translate } from 'cozy-ui/react/I18n'\nimport styles from 'styles/konnectorSuccess'\n\nconst BanksLink = translate()(\n  ({ banksUrl, t }) =>\n    banksUrl ? (\n      <AppLinker slug=\"banks\" href={banksUrl}>\n        {({ href, onClick, name }) => (\n          <a\n            className={styles['col-account-success-link']}\n            href={href}\n            target=\"_top\"\n            onClick={onClick}\n          >\n            <Icon className=\"u-mr-half\" icon=\"openwith\" />\n            {t('account.success.banksLinkText', {\n              appName: name\n            })}\n          </a>\n        )}\n      </AppLinker>\n    ) : (\n      <a\n        className={styles['col-account-success-link']}\n        onClick={() =>\n          cozy.client.intents.redirect(\n            'io.cozy.apps',\n            { slug: 'banks' },\n            url => {\n              window.top.location.href = url\n            }\n          )\n        }\n      >\n        <Icon className=\"u-mr-half\" icon=\"openwith\" />\n        {t('account.success.banksLinkText')}\n      </a>\n    )\n)\n\nexport default BanksLink\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-heartbeat_919cbfac9de135f0cb1c113e23016005\",\n  \"use\": \"icon-heartbeat_919cbfac9de135f0cb1c113e23016005-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-heartbeat_919cbfac9de135f0cb1c113e23016005\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"currentColor\\\" d=\\\"M1 28h12l3-4 4 5.996 5-10L29 34l3-6h15\\\" /><path d=\\\"M42.51 23.996C44.03 20.788 45 17.45 45 14.148c0-15.386-18.632-16.57-21-1.184C21.634-2.422 3-1.238 3 15.33c0 3 .696 5.91 1.822 8.666m4.639 8c6.172 8.25 14.54 13.792 14.54 13.792s7.512-5.822 13.552-13.792\\\" stroke=\\\"#95999D\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import * as fromCozyClient from 'redux-cozy-client'\n\nexport const DOCTYPE = 'io.cozy.konnectors'\nconst konnectorsCollectionKey = 'konnectors'\n\n// CRUD\n\nexport const fetchKonnectors = () =>\n  fromCozyClient.fetchKonnectors(konnectorsCollectionKey)\n\n// TODO: Fetch the registry\nexport const fetchKonnectorsInMaintenance = () =>\n  require('../../config/maintenance')\n\nexport const isInMaintenance = slug =>\n  fetchKonnectorsInMaintenance().hasOwnProperty(slug)\n\n// Action creators\nexport const receiveInstalledKonnector = konnector => {\n  const normalized = {\n    ...konnector,\n    ...konnector.attributes,\n    id: `${DOCTYPE}/${konnector.slug}`,\n    _type: DOCTYPE\n  }\n\n  return {\n    doctype: DOCTYPE,\n    type: 'RECEIVE_NEW_DOCUMENT',\n    response: { data: [normalized] },\n    updateCollections: ['konnectors']\n  }\n}\n\n// Selectors\nexport const getKonnector = (state, slug) =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  state.documents[DOCTYPE][`${DOCTYPE}/${slug}`]\n\nexport const getInstalledKonnectors = state =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.values(state.documents[DOCTYPE])\n\nexport const getIndexedKonnectors = state =>\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.keys(state.documents[DOCTYPE]).reduce((indexed, key) => {\n    const konnector = state.documents[DOCTYPE][key]\n    indexed[konnector.slug] = konnector\n    return indexed\n  }, {})\n\nexport const getSlugs = state =>\n  !!state &&\n  !!state.documents &&\n  !!state.documents[DOCTYPE] &&\n  Object.values(state.documents[DOCTYPE]).map(konnector => konnector.slug)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"default_e8acf04a531f51e2591973ab13ba63d7\",\n  \"use\": \"default_e8acf04a531f51e2591973ab13ba63d7-usage\",\n  \"viewBox\": \"0 0 64 64\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\" id=\\\"default_e8acf04a531f51e2591973ab13ba63d7\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n    <path fill=\\\"#855CEA\\\" fill-rule=\\\"nonzero\\\" d=\\\"M32,17.3818748 C38.4788008,17.3818748 43.7310547,22.7384047 43.7310547,29.3455954 C43.7310547,35.9527861 38.4788008,41.3093161 32,41.3093161 C25.5211992,41.3093161 20.2689453,35.9527861 20.2689453,29.3455954 C20.2689453,22.7384047 25.5211992,17.3818748 32,17.3818748 Z M32,58.9450016 C24.97375,58.9450016 18.6050907,56.0787139 14,51.4547232 C17.8412687,47.7235961 24.4673594,45.2587711 32,45.2587711 C39.5326406,45.2587711 46.1587313,47.7235961 50,51.4547232 C45.3949093,56.0787139 39.02625,58.9450016 32,58.9450016 Z\\\" />\\n    <g transform=\\\"translate(3)\\\">\\n      <circle cx=\\\"29\\\" cy=\\\"32\\\" r=\\\"27\\\" stroke=\\\"#C2ADF4\\\" stroke-width=\\\"4\\\" />\\n      <circle cx=\\\"29\\\" cy=\\\"6\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"29\\\" cy=\\\"58\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"52\\\" cy=\\\"47\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"6\\\" cy=\\\"47\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"52\\\" cy=\\\"18\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n      <circle cx=\\\"6\\\" cy=\\\"18\\\" r=\\\"6\\\" fill=\\\"#C2ADF4\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","module.exports = \"/img/connecting-data-in-progress.svg\";","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-money_f34b0da2dd256e4bb78d5bb3f44c31c8\",\n  \"use\": \"icon-money_f34b0da2dd256e4bb78d5bb3f44c31c8-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-money_f34b0da2dd256e4bb78d5bb3f44c31c8\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path fill=\\\"#FF9126\\\" d=\\\"M9.001 27.002h-8a1 1 0 0 0-1 1v15c0 .55.448 1 1 1h8c.55 0 1-.45 1-1v-15c0-.552-.45-1-1-1\\\" /><path fill=\\\"#FFE2A1\\\" d=\\\"M47.708 35.293c-2.348-2.346-4.374-3-7.024-2.24l-6.016 1.996c.054.314.082.632.082.952 0 1.28-.416 2.486-1.168 3.39-.878 1.052-2.116 1.61-3.582 1.61H20a1 1 0 0 1 0-2h10c.864 0 1.552-.3 2.044-.89.45-.538.706-1.306.706-2.11 0-1.114-.58-3-2.75-3h-6a.998.998 0 0 1-.706-.292c-.918-.918-3.708-3.708-8.294-3.708h-3a1 1 0 0 0-1 1v11c0 .43.276.814.684.948a274.217 274.217 0 0 1 7.522 2.642c3.856 1.402 6.014 2.16 7.938 2.16 2.294 0 4.256-1.078 8.354-3.418 2.712-1.552 6.424-3.674 11.95-6.436.288-.146.488-.418.54-.736.05-.316-.054-.64-.28-.868\\\" /><path fill=\\\"#FF9126\\\" d=\\\"M34.001 15.002c-3.86 0-7-3.14-7-7 0-3.862 3.14-7 7-7s7 3.138 7 7c0 3.86-3.14 7-7 7zm-9 14c-3.86 0-7-3.14-7-7 0-3.862 3.14-7 7-7s7 3.138 7 7c0 3.86-3.14 7-7 7z\\\" /><path fill=\\\"#FFE2A1\\\" d=\\\"M33.001 6.002a1 1 0 0 1 2 0v4c0 .55-.45 1-1 1-.552 0-1-.45-1-1v-4zm-9 14a1 1 0 0 1 2 0v4c0 .55-.45 1-1 1-.552 0-1-.45-1-1v-4z\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","const cozyMiddleware = client => ({ dispatch }) => {\n  return next => action => {\n    const { promise, type, types, ...rest } = action\n    if (!promise) {\n      return next(action)\n    }\n\n    if (!type && !types) {\n      return promise(client).then(action => dispatch(action))\n    }\n\n    if (type) {\n      return promise(client).then(response => {\n        next({ ...rest, response, type })\n        return response\n      })\n    }\n\n    const [REQUEST, SUCCESS, FAILURE] = types\n    next({ ...rest, type: REQUEST })\n\n    return promise(client)\n      .then(\n        response => {\n          next({ ...rest, response, type: SUCCESS })\n          return response\n        },\n        error => {\n          console.log(error) // eslint-disable-line no-console\n          next({ ...rest, error, type: FAILURE })\n        }\n      )\n      .catch(error => {\n        console.error('MIDDLEWARE ERROR:', error) // eslint-disable-line no-console\n        next({ ...rest, error, type: FAILURE })\n      })\n  }\n}\n\nexport default cozyMiddleware\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport KonnectorInstall from 'components/KonnectorInstall'\nimport KonnectorMaintenance from 'components/KonnectorMaintenance'\nimport UpdateMessage from 'components/Banners/UpdateMessage'\nimport KonnectorEdit from 'components/KonnectorEdit'\nimport {\n  enqueueConnection,\n  getConnectionError,\n  isConnectionConnected,\n  isConnectionEnqueued\n} from 'ducks/connections'\nimport { isKonnectorUpdateNeededError } from 'lib/konnectors'\nimport styles from 'styles/accountConnection'\n\nclass AccountConnection extends Component {\n  constructor(props, context) {\n    super(props, context)\n    this.store = context.store\n\n    this.state = {\n      account: props.existingAccount,\n      editing: !!props.existingAccount,\n      isFetching: false,\n      maintenance: props.maintenance && props.maintenance[props.konnector.slug]\n    }\n\n    this.handleLoginSuccess = this.handleLoginSuccess.bind(this)\n    this.handleError = this.handleError.bind(this)\n    this.handleDeleteSuccess = this.handleDeleteSuccess.bind(this)\n  }\n\n  componentDidMount() {\n    if (this.props.error) this.handleError({ message: this.props.error })\n  }\n\n  componentDidUpdate(prevProps) {\n    const { success, queued } = this.props\n    const { connectionError } = this.state\n\n    const succeed = !prevProps.success && success\n    const loginSucceed = !prevProps.queued && queued\n\n    if (succeed || loginSucceed) {\n      // we reset the error in case of persisted errors\n      if (succeed && connectionError) this.setState({ connectionError: null })\n      this.props.handleConnectionSuccess()\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    this.UNSAFE_componentWillReceiveProps(props)\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { existingAccount } = nextProps\n\n    const accountHasJustBeenCreated =\n      !this.props.existingAccount && !!existingAccount\n\n    if (accountHasJustBeenCreated) {\n      this.setState({\n        account: existingAccount\n      })\n    }\n  }\n\n  handleLoginSuccess(trigger) {\n    const { enqueueConnection, handleConnectionSuccess } = this.props\n    handleConnectionSuccess()\n    enqueueConnection(trigger)\n  }\n\n  handleDeleteSuccess() {\n    this.setState({\n      submitting: false\n    })\n\n    this.props.handleDeleteSuccess()\n  }\n\n  handleError(error) {\n    // eslint-disable-next-line no-console\n    console.error(error)\n\n    this.setState({\n      submitting: false,\n      connectionError: error.message\n    })\n  }\n\n  buildSuccessMessages(konnector) {\n    const { t } = this.props\n    const messages = [\n      t('account.message.success.connect', {\n        name: konnector.name\n      })\n    ]\n\n    if (\n      konnector.additionnalSuccessMessage &&\n      konnector.additionnalSuccessMessage.message\n    ) {\n      messages.push(t(konnector.additionnalSuccessMessage.message))\n    }\n\n    return messages\n  }\n\n  render() {\n    const {\n      createdAccount,\n      handleConnectionSuccess,\n      editing,\n      konnector,\n      lastSuccess,\n      error,\n      isRunning,\n      onDone,\n      queued,\n      t,\n      lang,\n      trigger,\n      success,\n      successButtonLabel\n    } = this.props\n    const {\n      account,\n      connectionError,\n      oAuthError,\n      submitting,\n      maintenance\n    } = this.state\n    const successMessages =\n      success || queued ? this.buildSuccessMessages(konnector) : []\n    const konnectorError = error || oAuthError || connectionError\n    // If this is an update needed error AND the service has an update\n    // available, we just display the blocking update banner\n    // so we don't propagate the error to KonnectorEdit/KonnectorInstall\n    const propagateError =\n      isKonnectorUpdateNeededError(konnectorError) &&\n      !!konnector.available_version\n        ? false\n        : true\n    return (\n      <div className={styles['col-account-connection']}>\n        {!!konnector.available_version && (\n          <UpdateMessage\n            konnector={konnector}\n            error={konnectorError}\n            isBlocking={isKonnectorUpdateNeededError(konnectorError)}\n          />\n        )}\n        {editing ? ( // Properly load the edit view or the initial config view\n          <KonnectorEdit\n            account={account}\n            connector={konnector}\n            error={propagateError && konnectorError}\n            lastSuccess={lastSuccess}\n            onDeleteSuccess={this.handleDeleteSuccess}\n            onDeleteError={this.handleError}\n            submitting={submitting || isRunning}\n            trigger={trigger}\n            maintenance={maintenance}\n            lang={lang}\n          />\n        ) : maintenance ? (\n          <KonnectorMaintenance\n            maintenance={maintenance}\n            lang={lang}\n            konnectorName={konnector.name}\n          />\n        ) : (\n          <KonnectorInstall\n            account={createdAccount}\n            connector={konnector}\n            onDone={onDone}\n            onLoginSuccess={this.handleLoginSuccess}\n            onSuccess={handleConnectionSuccess}\n            legacySuccess={success || queued}\n            successMessage={t('account.success.title.connect')}\n            successButtonLabel={successButtonLabel}\n            successMessages={successMessages}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nAccountConnection.contextTypes = {\n  store: PropTypes.object\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  success: isConnectionConnected(state.connections, ownProps.trigger),\n  error: getConnectionError(state.connections, ownProps.trigger),\n  queued: isConnectionEnqueued(state.connections, ownProps.trigger)\n})\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    enqueueConnection: trigger => dispatch(enqueueConnection(trigger))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(translate()(AccountConnection)))\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-calendar_3f4104a6d0c92a698e16aa88623a3b1d\",\n  \"use\": \"icon-calendar_3f4104a6d0c92a698e16aa88623a3b1d-usage\",\n  \"viewBox\": \"0 0 48 48\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\" id=\\\"icon-calendar_3f4104a6d0c92a698e16aa88623a3b1d\\\"><g stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g stroke=\\\"#95999D\\\"><path d=\\\"M9 5H1v42h46V5h-8\\\" /><path d=\\\"M15 9H9V1h6zM39 9h-6V1h6zM15 5h18M1 15h46\\\" /></g><path d=\\\"M13 19v24m10-24v24m10-24v24M5 23h38M5 31h38M5 39h38\\\" stroke=\\\"currentColor\\\" /></g></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./en\": \"Us+F\",\n\t\"./en/\": \"Us+F\",\n\t\"./en/build_distance_in_words_locale\": \"LZbM\",\n\t\"./en/build_distance_in_words_locale/\": \"LZbM\",\n\t\"./en/build_distance_in_words_locale/index\": \"LZbM\",\n\t\"./en/build_distance_in_words_locale/index.js\": \"LZbM\",\n\t\"./en/build_format_locale\": \"6DAA\",\n\t\"./en/build_format_locale/\": \"6DAA\",\n\t\"./en/build_format_locale/index\": \"6DAA\",\n\t\"./en/build_format_locale/index.js\": \"6DAA\",\n\t\"./en/index\": \"Us+F\",\n\t\"./en/index.d.ts\": \"DYsx\",\n\t\"./en/index.js\": \"Us+F\",\n\t\"./en/package\": \"EJIZ\",\n\t\"./en/package.json\": \"EJIZ\",\n\t\"./es\": \"/S0t\",\n\t\"./es/\": \"/S0t\",\n\t\"./es/build_distance_in_words_locale\": \"GEfZ\",\n\t\"./es/build_distance_in_words_locale/\": \"GEfZ\",\n\t\"./es/build_distance_in_words_locale/index\": \"GEfZ\",\n\t\"./es/build_distance_in_words_locale/index.js\": \"GEfZ\",\n\t\"./es/build_format_locale\": \"O+zC\",\n\t\"./es/build_format_locale/\": \"O+zC\",\n\t\"./es/build_format_locale/index\": \"O+zC\",\n\t\"./es/build_format_locale/index.js\": \"O+zC\",\n\t\"./es/index\": \"/S0t\",\n\t\"./es/index.d.ts\": \"gbHe\",\n\t\"./es/index.js\": \"/S0t\",\n\t\"./es/package\": \"Vizl\",\n\t\"./es/package.json\": \"Vizl\",\n\t\"./fr\": \"LKA2\",\n\t\"./fr/\": \"LKA2\",\n\t\"./fr/build_distance_in_words_locale\": \"IzMR\",\n\t\"./fr/build_distance_in_words_locale/\": \"IzMR\",\n\t\"./fr/build_distance_in_words_locale/index\": \"IzMR\",\n\t\"./fr/build_distance_in_words_locale/index.js\": \"IzMR\",\n\t\"./fr/build_format_locale\": \"I3Zg\",\n\t\"./fr/build_format_locale/\": \"I3Zg\",\n\t\"./fr/build_format_locale/index\": \"I3Zg\",\n\t\"./fr/build_format_locale/index.js\": \"I3Zg\",\n\t\"./fr/index\": \"LKA2\",\n\t\"./fr/index.d.ts\": \"hE7Q\",\n\t\"./fr/index.js\": \"LKA2\",\n\t\"./fr/package\": \"herc\",\n\t\"./fr/package.json\": \"herc\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"yMTE\";","import { HashRouter } from 'react-router-dom'\nimport { shouldEnableTracking, getTracker } from 'cozy-ui/react/helpers/tracker'\n\nconst addPiwik = function(history) {\n  if (shouldEnableTracking() && getTracker()) {\n    let trackerInstance = getTracker()\n    history = trackerInstance.connectToHistory(history)\n    // when using a hash history, the initial visit is not tracked by piwik react router\n    trackerInstance.track(history.location)\n  }\n  return history\n}\n\nexport default class PiwikHashRouter extends HashRouter {\n  constructor(props) {\n    super(props)\n    this.history = addPiwik(this.history)\n  }\n}\n","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport PropTypes from 'prop-types'\n\nimport { AppIcon, Icon, Spinner } from 'cozy-ui/react'\nimport palette from 'cozy-ui/stylus/settings/palette.json'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport styles from 'ducks/connections/components/queue/styles'\n\nconst Pending = translate()(props => (\n  <span className={styles['item-pending']}>\n    {props.t('Queue.item.pending')}\n  </span>\n))\n\nclass ProgressBar extends Component {\n  state = {\n    progress: 0\n  }\n\n  componentDidMount() {\n    let elapsedTime = 0\n    this.progressInterval = setInterval(() => {\n      elapsedTime += 10\n      let progress = (Math.atan(elapsedTime / 3e3) / (Math.PI / 2)) * 90\n      this.setState({\n        progress: progress\n      })\n    }, 25)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.progressInterval)\n  }\n\n  render() {\n    const { progress } = this.state\n    return (\n      <div\n        role=\"progressbar\"\n        aria-valuenow={progress}\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        className={classNames(styles['queue-item-progress-bar'])}\n        style={{ width: `${progress}%` }}\n        ref={progressBar => (this.progressBar = progressBar)}\n      />\n    )\n  }\n}\n\nclass Item extends Component {\n  render() {\n    const { konnector, label, status, t } = this.props\n    const { domain, secure } = this.context\n    const isOngoing = status === 'ongoing'\n    let statusIcon\n    switch (status) {\n      case 'ongoing':\n        statusIcon = (\n          <Spinner\n            noMargin\n            className=\"u-ml-half\"\n            color={palette['dodgerBlue']}\n          />\n        )\n        break\n      case 'canceled':\n        statusIcon = (\n          <Icon className=\"u-ml-half\" icon=\"cross\" color={palette['monza']} />\n        )\n        break\n      case 'error':\n      case 'conflict':\n        statusIcon = (\n          <Icon className=\"u-ml-half\" icon=\"warning\" color={palette['monza']} />\n        )\n        break\n      case 'done':\n        statusIcon = (\n          <Icon\n            className=\"u-ml-half\"\n            icon=\"check-circleless\"\n            color={palette['emerald']}\n          />\n        )\n        break\n      case 'pending':\n      default:\n        statusIcon = <Pending />\n        break\n    }\n    return (\n      <div\n        className={classNames(styles['queue-item'], {\n          [styles['queue-item--done']]: status === 'done',\n          [styles['queue-item--error']]: status === 'error'\n        })}\n      >\n        <div className={classNames(styles['item-icon'])}>\n          <AppIcon\n            alt={t('app.logo.alt', { name: konnector.name })}\n            className=\"c-\"\n            domain={domain}\n            app={konnector}\n            secure={secure}\n          />\n        </div>\n        <div className={classNames(styles['item-label'])}>{label}</div>\n        <div className={styles['item-status']}>{statusIcon}</div>\n        {isOngoing && <ProgressBar />}\n      </div>\n    )\n  }\n}\n\nItem.contextTypes = {\n  domain: PropTypes.string.isRequired,\n  secure: PropTypes.bool\n}\n\nexport class Queue extends Component {\n  state = {\n    collapsed: false\n  }\n\n  toggleCollapsed = () => {\n    this.setState(state => ({ collapsed: !state.collapsed }))\n  }\n\n  render() {\n    const { t, visible = false, queue = [], purgeQueue } = this.props\n    const { collapsed } = this.state\n    const doneCount = queue.filter(\n      connection => connection.status !== 'ongoing'\n    ).length\n    const successCount = queue.filter(\n      connection => connection.status === 'done'\n    ).length\n    return (\n      <div\n        className={classNames(styles['queue'], {\n          [styles['queue--visible']]: visible,\n          [styles['queue--collapsed']]: collapsed\n        })}\n      >\n        <h4\n          className={styles['queue-header']}\n          onDoubleClick={this.toggleCollapsed}\n        >\n          {doneCount < queue.length && (\n            <div className={styles['queue-header-inner']}>\n              <span className=\"coz-desktop\">{t('Queue.header')}</span>\n              <span className=\"coz-mobile\">\n                {t('Queue.header_mobile', {\n                  done: doneCount,\n                  total: queue.length\n                })}\n              </span>\n            </div>\n          )}\n          {doneCount >= queue.length && (\n            <div className={styles['queue-header-inner']}>\n              <span>\n                {t('Queue.header_done', {\n                  done: successCount,\n                  total: queue.length\n                })}\n              </span>\n              <button\n                className={classNames(styles['btn-close'])}\n                onClick={purgeQueue}\n              >\n                {t('Queue.close')}\n              </button>\n            </div>\n          )}\n        </h4>\n        <progress\n          className={styles['queue-progress']}\n          value={doneCount}\n          max={queue.length}\n        />\n        <div className={styles['queue-content']}>\n          <div className={styles['queue-list']}>\n            {queue.map(item => (\n              <Item\n                key={item.triggerId}\n                konnector={item.konnector}\n                label={item.label}\n                status={item.status}\n                t={t}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default translate()(Queue)\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Query } from 'cozy-client'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport AppTile from 'components/AppTile'\nimport LoadingPlaceholder from 'components/LoadingPlaceholder'\nimport fillWithGhostItems from 'components/helpers/fillWithGhostItems'\nimport homeConfig from 'config/collect'\nimport { receiveApps } from 'ducks/apps'\n\nclass LoadingAppTiles extends PureComponent {\n  render() {\n    const { num } = this.props\n    const tiles = []\n    for (let i = 0; i < num; i++) {\n      tiles.push(\n        <div className=\"item-wrapper\" key={i}>\n          <header className=\"item-header\">\n            <div className=\"item-icon\">\n              <LoadingPlaceholder />\n            </div>\n          </header>\n          <h3 className=\"item-title\">\n            <LoadingPlaceholder />\n          </h3>\n        </div>\n      )\n    }\n    return (\n      <div className=\"list app-list\">\n        {tiles}\n        {fillWithGhostItems(6)}\n      </div>\n    )\n  }\n}\n\nexport class Applications extends PureComponent {\n  render() {\n    const { receiveApps } = this.props\n    return (\n      <div className=\"app-list-wrapper\">\n        <Query\n          query={client => {\n            return client.all('io.cozy.apps')\n          }}\n        >\n          {({ data, fetchStatus }) => {\n            if (fetchStatus === 'loaded') {\n              receiveApps(data)\n            }\n            return fetchStatus !== 'loaded' ? (\n              <LoadingAppTiles num=\"3\" />\n            ) : (\n              <div className=\"list app-list\" data-tutorial=\"home-apps\">\n                {data\n                  .filter(\n                    app =>\n                      app.state !== 'hidden' &&\n                      !homeConfig.filteredApps.includes(app.slug)\n                  )\n                  .map((app, index) => (\n                    <AppTile key={index} app={app} />\n                  ))}\n                {fillWithGhostItems(6)}\n              </div>\n            )\n          }}\n        </Query>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    receiveApps: apps => dispatch(receiveApps(apps))\n  }\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(translate()(Applications))\n"],"sourceRoot":""}